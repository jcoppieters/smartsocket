{"version":3,"sources":["$_lazy_route_resource lazy namespace object","node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","src/app/app.component.html","node_modules/tslib/tslib.es6.js","src/app/app-routing.module.ts","src/app/app.component.ts","src/app/app.module.ts","src/app/core/core.module.ts","src/app/core/stdpage.ts","src/app/core/temp.pipe.ts","src/app/core/translate.pipe.ts","src/app/core/translations.ts","src/app/rendering/dimmer.scss","src/app/rendering/dimmer.ts","src/app/rendering/mood.ts","src/app/rendering/switch.scss","src/app/rendering/switch.ts","src/app/rendering/temperature.scss","src/app/rendering/temperature.ts","src/app/rendering/updown.scss","src/app/rendering/updown.ts","src/app/system/Q.ts","src/app/system/logger.ts","src/app/system/master.ts","src/app/system/protocol.ts","src/app/system/system.ts","src/app/system/types.ts","src/environments/environment.ts","src/main.ts"],"names":[],"mappings":"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","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-ios.entry.js\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-md.entry.js\",\n\t\t\"common\",\n\t\t5\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-ios.entry.js\",\n\t\t10\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-md.entry.js\",\n\t\t11\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t13\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t14\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-col_3.entry.js\",\n\t\t20\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-img.entry.js\",\n\t\t25\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-ios.entry.js\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-md.entry.js\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t28\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t33\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t35\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-ios.entry.js\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-md.entry.js\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-ios.entry.js\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-md.entry.js\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-nav_2.entry.js\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-ios.entry.js\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-md.entry.js\",\n\t\t\"common\",\n\t\t42\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t43\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t44\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t45\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t46\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t47\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t48\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t49\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t50\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t51\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t52\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js\",\n\t\t53\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t54\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t55\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t56\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t57\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t58\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t59\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t60\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-ios.entry.js\",\n\t\t61\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-md.entry.js\",\n\t\t62\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t63\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-ios.entry.js\",\n\t\t64\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-md.entry.js\",\n\t\t65\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t66\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t67\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t68\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-text.entry.js\",\n\t\t\"common\",\n\t\t69\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t70\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t71\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t72\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t73\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t74\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t75\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js\",\n\t\t76\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","export default \"<ion-app>\\n  <ion-split-pane (ionSplitPaneVisible)=\\\"splitter($event)\\\" contentId=\\\"main\\\">\\n    <ion-menu contentId=\\\"main\\\">\\n      <ion-header>\\n        <ion-toolbar>\\n          <ion-title>{{ \\\"Config.Groups\\\" |_ }}</ion-title>\\n        </ion-toolbar>\\n      </ion-header>\\n\\n      <ion-content class=\\\"ion-padding\\\">\\n        <ion-list *ngIf=\\\"system.config.multiple\\\">\\n          <ion-item *ngFor=\\\"let group of system.groups\\\" lines=\\\"none\\\">\\n            <ion-label>\\n              {{group.name}}\\n            </ion-label>\\n            <ion-checkbox slot=\\\"start\\\" [checked]=\\\"group.visible\\\" color=\\\"secondary\\\" (ionChange)=\\\"doCheck($event, group)\\\"></ion-checkbox>\\n          </ion-item>\\n        </ion-list>\\n\\n        <ion-radio-group *ngIf=\\\"! system.config.multiple\\\" value=\\\"{{selected()}}\\\" (ionChange)=\\\"doRadio($event)\\\">\\n          <ion-item *ngFor=\\\"let group of system.groups\\\" lines=\\\"none\\\">\\n            <ion-label>\\n              {{group.name}}\\n            </ion-label>\\n            <ion-radio slot=\\\"start\\\" color=\\\"secondary\\\" value=\\\"{{group.id}}\\\"></ion-radio>\\n          </ion-item>\\n        </ion-radio-group>\\n        \\n        <ion-button *ngIf=\\\"!system.isSplitted && system.config.multiple\\\" (click)=\\\"done()\\\">{{ \\\"General.Done\\\" |_ }}</ion-button>\\n      </ion-content>\\n    </ion-menu>\\n\\n    <ion-router-outlet id=\\\"main\\\"></ion-router-outlet>\\n  </ion-split-pane>\\n</ion-app>\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    loadChildren: () => import('./tabs/tabs/tabs.module').then(m => m.TabsPageModule)\n  }\n];\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\n\nimport { Platform, MenuController } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { System } from './system/system';\nimport { GroupConfig } from './system/types';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: \"app.component.html\"\n})\nexport class AppComponent {\n\n  constructor(\n    private platform: Platform,\n    private splashScreen: SplashScreen,\n    private statusBar: StatusBar,\n    private menuCtrl: MenuController,\n    private system: System\n\n  ) {\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n      this.system.setBrowser(this.platform.is('pwa'));\n    });\n    this.platform.resume.subscribe(() => {\n      console.log(\"resume event\")\n      this.system.emitter.emit('refresh');\n    });\n  }\n\n  selected(): number {\n    // find the first visible group\n    const group = this.system.groups.find(g => g.visible);\n    return (group) ? group.id : 0;\n  }\n\n  doRadio(event: CustomEvent) {\n    const selected = event.detail.value;\n    this.system.groups.forEach(g => { g.visible = (g.id == selected)});\n    this.system.writeGroups();\n    event.preventDefault();\n\n    // close if the menu controller is open\n    this.menuCtrl.close();\n  }\n\n  doCheck(event: CustomEvent, group: GroupConfig) {\n    group.visible = ! group.visible;\n    this.system.writeGroups();\n    event.preventDefault();\n  }\n\n  done() {\n    this.menuCtrl.close();\n  }\n\n  splitter(e) {\n    this.system.isSplitted = e.detail.visible;\n  }\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\n\nimport { System } from './system/system';\n\n\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [CoreModule, BrowserModule, IonicModule.forRoot(), AppRoutingModule],\n  providers: [\n    StatusBar, SplashScreen,\n    System,\n\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  bootstrap: [AppComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class AppModule {}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StdPage } from './stdpage';\n\nimport { TranslatePipe } from './translate.pipe';\nimport { TemperaturPipe } from './temp.pipe';\n\nimport { DimmerControl } from '../rendering/dimmer';\nimport { UpDownControl } from '../rendering/updown';\nimport { SwitchControl } from '../rendering/switch';\nimport { MoodControl } from '../rendering/mood';\nimport { TemperatureControl } from '../rendering/temperature';\n\n@NgModule({\n  imports: [ CommonModule, FormsModule, IonicModule],\n  providers: [TranslatePipe, TemperaturPipe],\n  declarations: [StdPage, TranslatePipe, TemperaturPipe,\n                 DimmerControl, UpDownControl, SwitchControl, TemperatureControl, MoodControl],\n  exports: [StdPage, TranslatePipe, TemperaturPipe,\n            DimmerControl, UpDownControl, SwitchControl, TemperatureControl, MoodControl],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class CoreModule {}\n","import { System } from '../system/system';\nimport { Component } from '@angular/core';\nimport { GroupConfig } from '../system/types';\nimport { Unit } from '../system/protocol';\nimport { GroupedObservable } from 'rxjs';\n\n@Component({\n  selector: 'std-page',\n  inputs: ['services', 'showUpDowns'],\n  template: `\n    <ion-list *ngIf=\"system.masters.length > 0\">\n      <ion-item-group *ngFor=\"let group of system.groups\">\n        <ion-list-header *ngIf=\"group.used && moreGroups(group)\">\n          <ion-label>{{group.name}}</ion-label>\n          <ion-icon *ngIf=\"! system.isSplitted\" [ngClass]=\"arrow(group)\" (click)=\"toggle(group)\" name=\"chevron-forward-outline\"></ion-icon>\n        </ion-list-header>\n        <ng-container *ngIf=\"group.used && group.visible\">\n          <ng-container *ngFor=\"let service of system[services]\">\n            <dimmer      [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && service.isDimmer()\"></dimmer>\n            <updown      [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && showUpDowns && service.isUpDown()\"></updown>\n            <switch      [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && service.isSwitch()\"></switch>\n            <mood        [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && (service.isMood() || service.isInput())\"></mood>\n            <temperature [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && service.isTemperature()\"></temperature>\n          </ng-container>\n        </ng-container>\n      </ion-item-group>\n    </ion-list>\n\n    <div *ngIf=\"system.masters.length <= 0\" class=\"noMaster\">\n      <h1>No masters yet?</h1>\n      <p>Go to the tab \"Configure\" -> \"Masters\"<br>\n        Add a master by clicking on the \"+ Master\"<br>\n        Fill out the parameters.<br>\n        <br>\n        Once your first Node or Smartbox is visible<br>\n        Click on it and select the units you want to use.<br>\n        <br>\n        Later you can split the units (switches, temperature, dimmers, scenes, ...) in multiple sections by first adding more groups.\n      </p>\n    </div>\n`})\nexport class StdPage {\n  protected services: string;\n  protected showUpDowns: boolean = true;\n\n  constructor(protected system: System) {\n  }\n\n  ngOnInit() {\n    this.system.emitter.on('refresh', this.refreshServices.bind(this));\n    console.log(\"ngOnInit - StdPage: \" + this.services);\n  }\n\n  refreshServices(event?: string) {\n    const services = this.system[this.services];\n    console.log('stdPage.refreshServices: ' + this.services + \" = \" + services.length + ' services');\n\n    // request the status of all (real) units used on this page\n    if (this.services != \"scenes\")\n      services.forEach((u: Unit) => u.reqState());\n\n    // see if a group is used\n    this.system.groups.forEach((g: GroupConfig) => g.used = services.some((u: Unit) => u.group == g.id));\n  }\n\n\n  moreGroups(group): boolean {\n    return !!this.system && !!this.system.groups && (this.system.groups.length > 1) &&\n          (!this.system.isSplitted || group.visible);\n  }\n\n\n  arrow(group: GroupConfig) {\n    return group.visible ? 'list-open' : '';\n  }\n  toggle(group: GroupConfig) {\n    group.visible = ! group.visible;\n  }\n\n}\n","// Johan, 11/11/2020\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'temp'\n})\nexport class TemperaturPipe implements PipeTransform {\n\n    transform(value: number | string): any {\n      if (value === undefined || value === null) { return '-'; }\n      if (typeof value === 'string') { value = parseInt(value); }\n      if (value > 1100 || value < 0) { return '-'; }\n\n      let intp = Math.floor(Math.abs(value / 10)) * ((value < 0) ? -1 : 1);\n      let decp = Math.round((Math.abs(value) - Math.abs(intp) * 10));\n      return `${intp},${decp}`;\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { System } from '../system/system';\nimport { translations } from './translations';\n\n@Pipe({\n  name: '_', pure: false\n})\nexport class TranslatePipe implements PipeTransform {\n\n  constructor(protected system: System) {\n  }\n\n  transform(value: string): any {\n    return Translate(value, this.system);\n  }\n}\n\nexport function Translate(value: string, system: System) {\n  if (!value) { return '[** empty **]'; }\n\n  const lan = (system && system.config && system.config.language) ?\n              system.config.language : 'EN';\n\n  if (lan === 'XX') {\n    return '[' + value + ']';\n  }\n\n  if (typeof translations[lan] === 'undefined') {\n    return '[** no-' + lan + ': ' + value + ' **]';\n  } \n\n  const tran = translations[lan][value];\n  if (typeof tran === 'undefined') {\n    return '[** no-trn: ' + value + ' **]';\n  }\n\n  return tran;\n}\n","export const translations = {\n  'NL': {\n    'Page.Control': 'Lichten',\n\n    'Page.Temperature': 'Temperatuur',\n      'Temperature.Asking': 'Gevraagd',\n      'Temperature.Off': 'Uit',\n\n    'Page.Moods': 'Sferen',\n\n    'Page.Stores': 'Rolluiken',\n\n    'Page.Config': 'Configureer',\n      'Config.Masters': 'Masters',\n        'Config.Master': 'Master',\n        'Config.Week': 'Week',\n        'Config.Holiday': 'Vakantie',\n        'Config.NoScheduleSelected': 'Geen plan geselecteerd',\n\n      'Config.Scenes': 'Scenes',\n        'Config.Scenes.scene': 'Scene',\n        'Config.Scenes.for': 'Instellingen van',\n        'Config.Scenes.triggeredBy': 'Opgeroepen door',\n        'Config.Scenes.trigger': 'Trigger',\n        'Config.Scenes.selectTriggerFor': 'Trigger voor',\n        'Config.Scenes.name': 'Naam Schene',\n        'scene.trigger.off': 'Uit',\n        'scene.trigger.on': 'Aan',\n        'scene.trigger.long': 'Lang',\n\n      'Config.Units': 'Units',\n\n      'Config.Groups': 'Groepen',\n        'Config.Group': 'Groep',\n\n      'Config.General': 'Algemeen',\n        'Config.Settings': 'Instellingen',\n        'Config.Language': 'Taal',\n        'Config.SeparateStores': 'Rolluiken apart',\n        'Config.MultipleGroups': 'Meerdere groepen',\n        'Config.Advanced': 'Geavanceerde instellingen',\n        'Config.Communication': 'Communicatie',\n        'Config.EnableAdv': 'Geavanceerde instellingen aanzetten',\n        'Config.EnterPW': 'Geef het wachtwoord',\n\n      'Config.Backup': 'Backup / Restore',\n        'Config.Backup.scenes': 'Scene definities',\n        'Config.Backup.config': 'Backup config',\n        'Config.Backup.get': 'Request config',\n        'Config.Backup.restore': 'Ontvangen',\n        'Config.Backup.send': 'Verstuur',\n        'Config.Backup.fetch': 'Haal op',\n        'Config.Backup.replace': 'Vervang',\n\n    'Node.of': 'Units van',\n\n    'General.Done': 'Klaar',\n    'General.Save': 'Bewaar',\n    'General.Cancel': 'Annuleer',\n    'General.Delete': 'Verwijder'\n},\n\n  'FR': {\n    'Page.Control': 'Lumières',\n\n    'Page.Temperature': 'Température',\n      'Temperature.Asking': 'Demandé',\n      'Temperature.Off': 'Désactivé',\n\n    'Page.Moods': 'Atmosphères',\n\n    'Page.Stores': 'Stores',\n\n    'Page.Config': 'Configurer',\n       'Config.Masters': 'Masters',\n         'Config.Master': 'Master',\n         'Config.Week': 'Semaine',\n         'Config.Holiday': 'Vacances',\n         'Config.NoScheduleSelected': 'Aucun plan sélectionné',\n\n      'Config.Scenes': 'Scènes',\n        'Config.Scenes.scene': 'Scènes',\n        'Config.Scenes.for': 'Configuration pour',\n        'Config.Scenes.triggeredBy': 'Appellé par',\n        'Config.Scenes.trigger': 'Trigger',\n        'Config.Scenes.selectTriggerFor': 'Trigger for',\n        'Config.Scenes.name': 'Nom Scène',\n        'scene.trigger.off': 'Off',\n        'scene.trigger.on': 'On',\n        'scene.trigger.long': 'Longue',\n\n      'Config.Units': 'Unité',\n\n      'Config.Groups': 'Groups',\n        'Config.Group': 'Group',\n\n      'Config.General': 'Général',\n        'Config.Settings': 'Paramètres',\n        'Config.Language': 'Langue',\n        'Config.SeparateStores': 'Stores séparés',\n        'Config.MultipleGroups': 'Plusiers groups',\n        'Config.Advanced': 'Paramètres avancés',\n        'Config.Communication': 'Communication',\n        'Config.EnableAdv': 'Activer les paramètres avancés',\n        'Config.EnterPW': 'Entrez le mot de passe de déverrouillage',\n\n      'Config.Backup': 'Backup / Restore',\n        'Config.Backup.scenes': 'Scene definitions',\n        'Config.Backup.config': 'Backup config',\n        'Config.Backup.get': 'Request config',\n        'Config.Backup.restore': 'Reçu',\n        'Config.Backup.send': 'Envoyer',\n        'Config.Backup.fetch': 'Recevoir',\n        'Config.Backup.replace': 'Remplacer',\n\n      'Node.of': 'Unités de',\n\n      'General.Done': 'OK',\n      'General.Save': 'Sauver',\n      'General.Cancel': 'Annuller',\n      'General.Delete': 'Suprimer'\n  },\n\n  'EN': {\n    'Page.Control': 'Lights',\n\n    'Page.Temperature': 'Temperature',\n      'Temperature.Asking': 'Asking',\n      'Temperature.Off': 'Off',\n\n    'Page.Moods': 'Scenes',\n\n    'Page.Stores': 'Blinds',\n\n    'Page.Config': 'Configure',\n      'Config.Masters': 'Masters',\n        'Config.Master': 'Master',\n        'Config.Week': 'Week',\n        'Config.Holiday': 'Holiday',\n        'Config.NoScheduleSelected': 'No schedule selected',\n\n      'Config.Groups': 'Groups',\n        'Config.Group': 'Group',\n\n      'Config.Scenes': 'Scenes',\n        'Config.Scenes.scene': 'Scene',\n        'Config.Scenes.for': 'Settings for',\n        'Config.Scenes.triggeredBy': 'Called by',\n        'Config.Scenes.trigger': 'Trigger',\n        'Config.Scenes.selectTriggerFor': 'Trigger for',\n        'Config.Scenes.name': 'Scene name',\n        'scene.trigger.off': 'Off',\n        'scene.trigger.on': 'On',\n        'scene.trigger.long': 'Long',\n\n      'Config.Units': 'Units',\n\n      'Config.General': 'General',\n        'Config.Settings': 'Settings',\n        'Config.Language': 'Language',\n        'Config.SeparateStores': 'Blinds separate',\n        'Config.MultipleGroups': 'Multiple groups',\n        'Config.Advanced': 'Advanced Settings',\n        'Config.Communication': 'Communication',\n        'Config.EnableAdv': 'Enable Advanced Settings',\n        'Config.EnterPW': 'Enter unlock password',\n\n      'Config.Backup': 'Backup / Restore',\n        'Config.Backup.scenes': 'Scene definitions',\n        'Config.Backup.config': 'Backup config',\n        'Config.Backup.get': 'Request config',\n        'Config.Backup.restore': 'Received',\n        'Config.Backup.send': 'Send',\n        'Config.Backup.fetch': 'Fetch',\n        'Config.Backup.replace': 'Replace',\n\n      'Node.of': 'Units of',\n\n      'General.Done': 'Done',\n      'General.Save': 'Save',\n      'General.Cancel': 'Cancel',\n      'General.Delete': 'Delete'\n  }\n};\n\n\n/* old stuff from DPT\nexport default {\n  start_menu: 'Start menu',\n  scene_builder: 'Scene builder',\n  users: 'Users',\n  logout: 'Logout',\n  favorites: 'Favorites',\n  rooms: 'Rooms',\n  scenes: 'Scenes',\n  add_scene: 'Add scene',\n  cannot_be_empty: 'Cannot be empty',\n  enter_a_valid_name: 'Please enter a valid name',\n  added_scene: 'Added scene {name}',\n  selected_image: 'Selected image, press the image to take another picture.',\n  room_management_info: 'Room management info',\n  add_room: 'Add room',\n\n\n  username_label: 'Your administrator email',\n  username_login: 'John.doe@example.com',\n  password_login: 'Enter your password',\n  password_label: 'Your password',\n  name_room_label: 'The name of the room',\n  placeholder_device_name: 'Enter the name of the device.',\n\n  admin_room: 'Manage rooms',\n  admin_devices: 'Manage devices',\n  exit_admin: 'Logout',\n  admin_login: 'Admin login',\n  select_image: 'Select image',\n  image_preview: 'Image preview',\n  resolve_the_following_errors: 'Resolve the following errors:',\n  change_image: 'Change image',\n  enter_a_valid_room_name: 'Enter a valid room name',\n  user_management: 'User management',\n  settings: 'Settings',\n  devices: 'Devices',\n  updated_device: 'Updated device',\n\n  enabled_scene: 'Activated scene {name}',\n\n  deleted_room: 'Deleted room',\n\n  updated_room: 'Updated room',\n  edit_room: 'Edit room',\n  use_image: 'Use image',\n  update_room: 'Update room',\n  failed_to_update_room: 'Failed to update room',\n  failed_to_add_room:  'Failed to add room',\n  failed_to_delete_room: 'Failed to delete room',\n  failed_to_update_image: 'Failed to update image',\n  updated_image: 'Updated image',\n  manage_rooms: 'Manage rooms',\n  manage_devices: 'Manage devices',\n  there_are_currently_no_lights_in_the_system: 'There are currently no lights in the system.',\n\n  categorize_on: 'Categorize on',\n  category: 'Category',\n  type: 'Type',\n  address: 'Address',\n  name: 'Name',\n  overview: 'Overview',\n\n  click_to_change_image: 'Click to change image',\n  delete_room_info: 'Are you sure you want to delete the room: <span class=\"warning\"> {name}</span>? This action cannot be undone.',\n  there_are_currently_no_roller_shutters_in_the_system: 'There are currently no roller shutters in the system',\n  there_are_currently_no_camera_settings_in_the_system: 'There are currently no camera settings in the system',\n  there_are_currently_no_audio_devices_in_the_system: 'There are currently no audio devices in the system',\n  there_are_currently_no_temperature_settings_in_the_system: 'There are curently no temperature settings in the system',\n  there_are_currently_no_security_settings_in_the_system:' There are currently no security settings in the system',\n  there_are_currently_no_switches_in_the_system: 'There are currently no switches in the system',\n\n  installer: 'Installer',\n\n  lights: 'Lights',\n  rollershutters: 'Rollershutters',\n  security: 'Security',\n  camera: 'Camera',\n  temperature: 'Temperature',\n  switches: 'Switches',\n  audio: 'Audio',\n  wifi: 'Wifi',\n  assign_device_to_category: 'Assign device to category',\n\n  // new labels\n  displayType: 'Display type',\n  exit: 'Exit',\n  room: 'Room',\n  edit_room: 'Edit room',\n  select_an_image: 'Select an image by clicking on the button below',\n  category_1: 'Lights',\n  category_2: 'Switches',\n  category_3: 'Rollershutters',\n  category_4: 'Temperatures',\n  category_5: 'Audio',\n  category_5: 'Audio',\n\n}\n\n*/\n","export default \".dimmer {\\n  position: relative;\\n  z-index: 2; }\\n  .dimmer ion-label {\\n    display: -webkit-box;\\n    display: flex;\\n    -webkit-box-align: center;\\n            align-items: center; }\\n  .dimmer__chevron {\\n  margin-left: auto;\\n  margin-right: 10px; }\\n  .dimmer__value {\\n  font-size: 0.8rem; }\\n  ion-range {\\n  --bar-background: #fff;\\n  --knob-size: 24px;\\n  --knob-background: #fff; }\\n  ion-range ion-icon {\\n    color: var(--ion-color-primary-contrast); }\\n  .dimmer__slider {\\n  --background: var(--ion-color-dark);\\n  --border-radius: 0;\\n  position: relative;\\n  z-index: 1;\\n  margin-top: -22px;\\n  border-bottom-left-radius: var(--duotecno-border-radius);\\n  border-bottom-right-radius: var(--duotecno-border-radius); }\\n  @media (prefers-color-scheme: dark) {\\n  .dimmer__slider {\\n    --background: var(--ion-color-step-150); } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy9kaW1tZXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFrQjtFQUNsQixVQUFVLEVBQUE7RUFGZDtJQUtRLG9CQUFhO0lBQWIsYUFBYTtJQUNiLHlCQUFtQjtZQUFuQixtQkFBbUIsRUFBQTtFQUczQjtFQUNJLGlCQUFpQjtFQUNqQixrQkFBa0IsRUFBQTtFQUV0QjtFQUNJLGlCQUFpQixFQUFBO0VBRXJCO0VBQ0ksc0JBQWlCO0VBQ2pCLGlCQUFZO0VBQ1osdUJBQWtCLEVBQUE7RUFIdEI7SUFNUSx3Q0FBd0MsRUFBQTtFQUdoRDtFQUNJLG1DQUFhO0VBQ2Isa0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLHdEQUF3RDtFQUN4RCx5REFBeUQsRUFBQTtFQUU3RDtFQUNJO0lBQ0ksdUNBQWEsRUFBQSxFQUNoQiIsImZpbGUiOiJzcmMvYXBwL3JlbmRlcmluZy9kaW1tZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaW1tZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAyO1xuXG4gICAgaW9uLWxhYmVsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG59XG4uZGltbWVyX19jaGV2cm9uIHtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG4uZGltbWVyX192YWx1ZSB7XG4gICAgZm9udC1zaXplOiAwLjhyZW07XG59XG5pb24tcmFuZ2Uge1xuICAgIC0tYmFyLWJhY2tncm91bmQ6ICNmZmY7XG4gICAgLS1rbm9iLXNpemU6IDI0cHg7XG4gICAgLS1rbm9iLWJhY2tncm91bmQ6ICNmZmY7XG5cbiAgICBpb24taWNvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdCk7XG4gICAgfVxufVxuLmRpbW1lcl9fc2xpZGVyIHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDA7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gICAgbWFyZ2luLXRvcDogLTIycHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogdmFyKC0tZHVvdGVjbm8tYm9yZGVyLXJhZGl1cyk7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IHZhcigtLWR1b3RlY25vLWJvcmRlci1yYWRpdXMpO1xufVxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xuICAgIC5kaW1tZXJfX3NsaWRlciB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwKTtcbiAgICB9XG59XG4iXX0= */\"","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\n\n@Component({\n  selector: 'dimmer',\n  inputs: ['service'],\n  styleUrls: ['dimmer.scss'],\n  template: `\n    <ion-item lines=\"none\" class=\"dimmer\">\n      <ion-label tappable (click)=\"labelClick()\">{{service.getName()}}\n        <ion-icon [name]=\"arrow()\" class=\"dimmer__chevron\"></ion-icon>\n        <span class=\"dimmer__value\">{{service.value}}%</span>\n        <ion-icon class=\"state\" *ngIf=\"service.status == 2\" name=\"time\"></ion-icon>\n      </ion-label>\n\n      <ion-toggle [(ngModel)]=\"service.status\" (ionBlur)=\"change()\"></ion-toggle>\n    </ion-item>\n    <ion-item lines=\"none\" class=\"dimmer__slider\" *ngIf=\"visible()\">\n      <ion-range min=\"1\" max=\"100\" debounce=\"400\" [(ngModel)]=\"service.value\" (ionChange)=\"changeValue()\">\n        <ion-icon slot=\"start\" name=\"remove\" name=\"remove\" (click)=\"changeValue(-5)\"></ion-icon>\n        <ion-icon slot=\"end\" name=\"add\" name=\"add\" (click)=\"changeValue(5)\"></ion-icon>\n      </ion-range>\n    </ion-item>\n  `})\n\n  export class DimmerControl {\n    protected service: Unit;\n    private force: boolean = false;\n\n    visible() {\n      return this.force; // || this.service.status;\n    }\n\n    arrow() {\n      return (this.visible()) ? 'chevron-up' : 'chevron-down';\n    }\n\n    labelClick() {\n      this.force = ! this.force;\n    }\n\n    change() {\n      if (this.service.status == 2) {\n      } else {\n        this.service.setState(!!this.service.status);\n      }\n    }\n    changeValue(delta) {\n      if (delta) { (<number>this.service.value) += delta; }\n      this.service.setState(this.service.value);\n    }\n  }\n","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'mood',\n  inputs: ['service'],\n  styles: ['ion-button { width: 25px; height: 25px }'],\n  template: `\n    <ion-item lines=\"none\">\n      <ion-label>{{service.name}}</ion-label>\n      <ion-button slot=\"end\" shape=\"round\" [color]=\"moodColor()\"\n              (mousedown)=\"down($event)\" (mouseup)=\"up($event)\"\n              (touchstart)=\"down($event)\" (touchend)=\"up($event)\"></ion-button>\n    </ion-item>\n  `})\n\nexport class MoodControl {\n  protected service: Unit;\n  protected pressed: any = 0;\n\n  constructor(private toastCtrl: ToastController) { }\n\n  async toast(message: string) {\n    const toast = await this.toastCtrl.create({\n      message, duration: 1000, position: 'top'\n    });\n    toast.present();\n  }\n\n  moodColor() {\n    return this.service.status ? 'primary' : (this.service.isInput() ? 'warning' : 'medium');\n  }\n\n  down(ev) {\n    ev.preventDefault();\n\n     // send long event after 1Sec\n    this.pressed = setTimeout(() => {\n      this.toast(this.service.name + ' - long on');\n      this.service.setState(1);\n      this.pressed = -1;\n    }, 1000);\n  }\n\n  up(ev) {\n    ev.preventDefault();\n\n    if (this.pressed === -1) {\n      // we've already send a long \"on\"\n      this.toast(this.service.name + ' - long off');\n      this.service.setState(0);\n\n    } else if (this.pressed) {\n      // stop timer for long and send short\n      clearTimeout(this.pressed);\n      this.toast(this.service.name + ' - short');\n      this.service.setState(-1); // short event\n    }\n  }\n\n}","export default \".item ion-label {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n.state {\\n  margin-left: auto;\\n  font-size: 0.8rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy9zd2l0Y2guc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUIsRUFBQTs7QUFFdkI7RUFDSSxpQkFBaUI7RUFDakIsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9yZW5kZXJpbmcvc3dpdGNoLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaXRlbSBpb24tbGFiZWwge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5zdGF0ZSB7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgZm9udC1zaXplOiAwLjhyZW07XG59Il19 */\"","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\n\n@Component({\n  selector: 'switch',\n  inputs: ['service'],\n  styleUrls: ['switch.scss'],\n  template: `\n    <ion-item lines=\"none\">\n      <ion-label tappable (click)=\"toggle(service)\">\n        {{service.getName()}}\n        <ion-icon class=\"state\" *ngIf=\"service.status === 2\" name=\"time\" color=\"primary\"></ion-icon>\n      </ion-label>\n\n      <ion-toggle [(ngModel)]=\"service.status\" \n                  (ionBlur)=\"change(service)\"></ion-toggle>\n    </ion-item>\n  `})\n\nexport class SwitchControl {\n  protected service: Unit;\n\n  change(unit: Unit) {\n    if (this.service.status == 2) {\n    } else {\n      unit.setState(unit.status);\n    }\n  }\n  toggle(unit: Unit) {\n    unit.setState(!unit.status);\n  }\n\n}\n","export default \".temp,\\n.presets {\\n  margin-bottom: 40px;\\n  padding: 20px;\\n  border-radius: var(--duotecno-border-radius);\\n  background: #fff; }\\n\\n.temp {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-bottom: 10px; }\\n\\n.temp__name {\\n    font-weight: 700; }\\n\\n.temp__current {\\n    margin: 15px 0;\\n    font-size: 3.5rem;\\n    font-weight: 700; }\\n\\n.temp__current .temp__celcius {\\n      font-size: 1.5rem;\\n      line-height: 1.8;\\n      font-weight: 400; }\\n\\n.temp__celcius {\\n    margin-bottom: 5px;\\n    margin-left: 2px;\\n    font-size: 0.7rem;\\n    vertical-align: text-top; }\\n\\n.temp__data {\\n    width: calc(100% - 90px); }\\n\\n.temp ion-buttons {\\n    display: -webkit-box;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n            flex-direction: column;\\n    width: 90px; }\\n\\n.temp ion-button {\\n    --background: var(--ion-background-color);\\n    --background-hover: var(--ion-background-color);\\n    --border-radius: 4px;\\n    --color: var(--ion-color-dark);\\n    width: 70px;\\n    height: 70px;\\n    margin: 10px; }\\n\\n.temp ion-button ion-icon {\\n      font-size: 3rem; }\\n\\n.presets {\\n  padding-bottom: 0; }\\n\\n.presets ion-buttons {\\n    display: -webkit-box;\\n    display: flex;\\n    -webkit-box-pack: justify;\\n            justify-content: space-between; }\\n\\n.presets ion-button {\\n    --color: var(--ion-color-dark);\\n    width: 40px;\\n    height: 40px; }\\n\\n.presets .icons ion-button {\\n    --background: var(--ion-background-color);\\n    --background-hover: var(--ion-background-color);\\n    --border-radius: 4px; }\\n\\n.presets .icons ion-button.preset-active {\\n      --background: var(--ion-color-primary);\\n      --background-hover: var(--ion-color-primary);\\n      --color: #fff; }\\n\\n.presets .icontext ion-button {\\n    font-size: 0.8rem; }\\n\\n.presets .icontext ion-button .temp__celcius {\\n      font-size: 0.5rem; }\\n\\n@media (min-width: 375px) {\\n  .temp__current {\\n    font-size: 4.8rem; }\\n    .temp__current .temp__celcius {\\n      font-size: 2rem;\\n      line-height: 1.8; }\\n  .presets ion-button {\\n    width: 50px;\\n    height: 50px; }\\n  .presets .icontext ion-button {\\n    font-size: 1rem; }\\n    .presets .icontext ion-button .temp__celcius {\\n      font-size: 0.7rem; } }\\n\\n@media (prefers-color-scheme: dark) {\\n  .temp,\\n  .presets {\\n    background: var(--ion-color-step-150); } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy90ZW1wZXJhdHVyZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUdJLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsNENBQTRDO0VBQzVDLGdCQUFnQixFQUFBOztBQUVwQjtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsbUJBQW1CLEVBQUE7O0FBRW5CO0lBQ0ksZ0JBQWdCLEVBQUE7O0FBRXBCO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixnQkFBZ0IsRUFBQTs7QUFIbkI7TUFNTyxpQkFBaUI7TUFDakIsZ0JBQWdCO01BQ2hCLGdCQUFnQixFQUFBOztBQUd4QjtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLHdCQUF3QixFQUFBOztBQUU1QjtJQUNJLHdCQUF3QixFQUFBOztBQTFCaEM7SUE2QlEsb0JBQWE7SUFBYixhQUFhO0lBQ2IsNEJBQXNCO0lBQXRCLDZCQUFzQjtZQUF0QixzQkFBc0I7SUFDdEIsV0FBVyxFQUFBOztBQS9CbkI7SUFrQ1EseUNBQWE7SUFDYiwrQ0FBbUI7SUFDbkIsb0JBQWdCO0lBQ2hCLDhCQUFRO0lBQ1IsV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZLEVBQUE7O0FBeENwQjtNQTJDWSxlQUFlLEVBQUE7O0FBSTNCO0VBQ0ksaUJBQWlCLEVBQUE7O0FBRHJCO0lBSVEsb0JBQWE7SUFBYixhQUFhO0lBQ2IseUJBQThCO1lBQTlCLDhCQUE4QixFQUFBOztBQUx0QztJQVFRLDhCQUFRO0lBQ1IsV0FBVztJQUNYLFlBQVksRUFBQTs7QUFWcEI7SUFhUSx5Q0FBYTtJQUNiLCtDQUFtQjtJQUNuQixvQkFBZ0IsRUFBQTs7QUFmeEI7TUFrQlksc0NBQWE7TUFDYiw0Q0FBbUI7TUFDbkIsYUFBUSxFQUFBOztBQXBCcEI7SUF3QlEsaUJBQWlCLEVBQUE7O0FBeEJ6QjtNQTJCWSxpQkFBaUIsRUFBQTs7QUFLN0I7RUFFUTtJQUNJLGlCQUFpQixFQUFBO0lBRHBCO01BSU8sZUFBZTtNQUNmLGdCQUFnQixFQUFBO0VBSTVCO0lBRVEsV0FBVztJQUNYLFlBQVksRUFBQTtFQUhwQjtJQU1RLGVBQWUsRUFBQTtJQU52QjtNQVNZLGlCQUFpQixFQUFBLEVBQ3BCOztBQUliO0VBQ0k7O0lBRUkscUNBQXFDLEVBQUEsRUFDeEMiLCJmaWxlIjoic3JjL2FwcC9yZW5kZXJpbmcvdGVtcGVyYXR1cmUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZW1wLFxuLnByZXNldHNcbiB7XG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWR1b3RlY25vLWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG59XG4udGVtcCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAmX19uYW1lIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICB9XG4gICAgJl9fY3VycmVudCB7XG4gICAgICAgIG1hcmdpbjogMTVweCAwO1xuICAgICAgICBmb250LXNpemU6IDMuNXJlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcblxuICAgICAgICAudGVtcF9fY2VsY2l1cyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICB9XG4gICAgfVxuICAgICZfX2NlbGNpdXMge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC43cmVtO1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XG4gICAgfVxuICAgICZfX2RhdGEge1xuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gOTBweCk7XG4gICAgfVxuICAgIGlvbi1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgd2lkdGg6IDkwcHg7XG4gICAgfVxuICAgIGlvbi1idXR0b24ge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAtLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICAgIHdpZHRoOiA3MHB4O1xuICAgICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICAgIG1hcmdpbjogMTBweDtcblxuICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDNyZW07XG4gICAgICAgIH1cbiAgICB9XG59XG4ucHJlc2V0cyB7XG4gICAgcGFkZGluZy1ib3R0b206IDA7XG5cbiAgICBpb24tYnV0dG9ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICB9XG4gICAgaW9uLWJ1dHRvbiB7XG4gICAgICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICB9XG4gICAgLmljb25zIGlvbi1idXR0b24ge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogNHB4O1xuXG4gICAgICAgICYucHJlc2V0LWFjdGl2ZSB7XG4gICAgICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIC0tYmFja2dyb3VuZC1ob3ZlcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgICAgLS1jb2xvcjogI2ZmZjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAuaWNvbnRleHQgaW9uLWJ1dHRvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuXG4gICAgICAgIC50ZW1wX19jZWxjaXVzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC41cmVtO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5AbWVkaWEgKG1pbi13aWR0aDogMzc1cHgpIHtcbiAgICAudGVtcCB7XG4gICAgICAgICZfX2N1cnJlbnQge1xuICAgICAgICAgICAgZm9udC1zaXplOiA0LjhyZW07XG5cbiAgICAgICAgICAgIC50ZW1wX19jZWxjaXVzIHtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAucHJlc2V0cyB7XG4gICAgICAgIGlvbi1idXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmljb250ZXh0IGlvbi1idXR0b24ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIFxuICAgICAgICAgICAgLnRlbXBfX2NlbGNpdXMge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xuICAgIC50ZW1wLFxuICAgIC5wcmVzZXRzIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwKTtcbiAgICB9XG59Il19 */\"","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\n\n@Component({\n  selector: 'temperature',\n  inputs: ['service'],\n  styleUrls: ['temperature.scss'],\n  template: `\n    <div class=\"temp\">\n      <div class=\"temp__data\">\n        <div class=\"temp__name\">\n          {{service.getName()}}\n          <ion-icon *ngIf=\"service.preset >= 0\" class=\"right\" [color]=\"colorTemp()\" name=\"thermometer\"></ion-icon>\n          <!--span class=\"right\">{{statusTemp()}}</span -->\n        </div>\n        <div class=\"temp__current\">{{service.value | temp}}<span class=\"temp__celcius\">°C</span></div>\n        <div class=\"temp__asking\">{{ \"Temperature.Asking\" |_ }}: {{ getTemp() | temp}}<span class=\"temp__celcius\">°C</span></div>\n      </div>\n\n      <ion-buttons>\n        <ion-button fill=\"solid\" slot=\"icon-only\" (click)=\"incDecTemp(true)\">\n          <ion-icon name=\"chevron-up\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" (click)=\"incDecTemp(false)\">\n          <ion-icon name=\"chevron-down\"></ion-icon></ion-button>\n      </ion-buttons>\n    </div>\n\n    <div class=\"presets\">\n      <ion-buttons class=\"icons\">\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(-1)\" (click)=\"changePreset(-1)\">\n          <ion-icon name=\"close-outline\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(1)\" (click)=\"changePreset(1)\">\n          <ion-icon src=\"/assets/icon/hsun.svg\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(0)\" (click)=\"changePreset(0)\">\n          <ion-icon name=\"sunny\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(3)\" (click)=\"changePreset(3)\">\n          <ion-icon src=\"/assets/icon/hmoon.svg\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(2)\" (click)=\"changePreset(2)\">\n          <ion-icon name=\"moon-sharp\"></ion-icon></ion-button>\n      </ion-buttons>\n\n      <ion-buttons class=\"icontext\">\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(-1)\" color=\"dark\">\n          {{ \"Temperature.Off\" |_ }}</ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(1)\" color=\"dark\">\n          {{service.hsun | temp}}<span class=\"temp__celcius\">°C</span></ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(0)\" color=\"dark\">\n          {{service.sun | temp}}<span class=\"temp__celcius\">°C</span></ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(3)\" color=\"dark\">\n          {{service.hmoon | temp}}<span class=\"temp__celcius\">°C</span></ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(2)\" color=\"dark\">\n          {{service.moon | temp}}<span class=\"temp__celcius\">°C</span></ion-button>\n      </ion-buttons>\n    </div>\n  `})\n\n/*\n  unit.status => 0=idle, 1=heating, 2=cooling\n  unit.preset => 0=sun, 1=half sun, 2=moon, 3=half moon, -1=off\n  unit.sun    => 10x temperature\n  unit.hsun   => 10x temperature\n  unit.moon   => 10x temperature\n  unit.hmoon  => 10x temperature\n  unit.value  => 10x temperature\n*/\n\n  export class TemperatureControl {\n    protected service: Unit;\n\n    colorTemp(): string {\n      if (this.service.status == 1) {\n        return 'danger';\n      }\n      else if (this.service.status == 2) {\n        return 'cool';\n      }\n      else {\n        return 'light';\n      }\n    }\n\n    statusTemp(): string {\n      if (this.service.status == 1) {\n        return 'Heating';\n      }\n      else if (this.service.status == 2) {\n        return 'Cooling';\n      }\n      else if (this.service.status == 0) {\n        return 'Off';\n      }\n      else {\n        return '-';\n      }\n    }\n\n    colorPreset(preset) {\n      return (this.service.preset === preset) ? 'preset-active' : '';\n    }\n\n    getTemp(): number {\n      switch (this.service.preset) {\n        case 0: return this.service.sun;\n        case 1: return this.service.hsun;\n        case 2: return this.service.moon;\n        case 3: return this.service.hmoon;\n      }\n    }\n\n    incDecTemp(inc: boolean) {\n      this.service.doIncDecPreset(inc);\n    }\n    changeTemp(delta: number) {\n      this.service.setPreset(this.service.preset, <number>this.service.value + delta);\n    }\n    changePreset(preset: number) {\n      if (preset == -1) {\n        this.service.sensorOnOff(false);\n\n      } else {\n        this.service.sensorOnOff(true);\n        this.service.preset = preset;\n        this.service.temp = this.getTemp();\n        this.service.selectPreset(preset);\n      }\n    }\n\n  }\n","export default \"ion-buttons {\\n  margin: 0; }\\n\\n.ios ion-button, .md ion-button {\\n  --background: var(--ion-background-color);\\n  --background-hover: var(--ion-background-color);\\n  --border-radius: 4px;\\n  margin-left: 10px; }\\n\\n.ios ion-button ion-icon, .md ion-button ion-icon {\\n    color: var(--ion-color-dark); }\\n\\n.ios ion-button ion-icon.active, .md ion-button ion-icon.active {\\n      color: var(--ion-color-secondary); }\\n\\n.ios ion-button ion-icon.done, .md ion-button ion-icon.done {\\n      color: var(--ion-color-primary); }\\n\\n.item ion-label {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n.state {\\n  margin-left: auto;\\n  font-size: 0.8rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy91cGRvd24uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFNBQVMsRUFBQTs7QUFFYjtFQUVRLHlDQUFhO0VBQ2IsK0NBQW1CO0VBQ25CLG9CQUFnQjtFQUNoQixpQkFBaUIsRUFBQTs7QUFMekI7SUFRWSw0QkFBNEIsRUFBQTs7QUFSeEM7TUFXZ0IsaUNBQWlDLEVBQUE7O0FBWGpEO01BY2dCLCtCQUErQixFQUFBOztBQUsvQztFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUIsRUFBQTs7QUFFdkI7RUFDSSxpQkFBaUI7RUFDakIsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9yZW5kZXJpbmcvdXBkb3duLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYnV0dG9ucyB7XG4gICAgbWFyZ2luOiAwO1xufVxuLmlvcywgLm1kIHtcbiAgICBpb24tYnV0dG9uIHtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIC0tYmFja2dyb3VuZC1ob3ZlcjogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgICAtLWJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG5cbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcblxuICAgICAgICAgICAgJi5hY3RpdmUge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICYuZG9uZSB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi5pdGVtIGlvbi1sYWJlbCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnN0YXRlIHtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBmb250LXNpemU6IDAuOHJlbTtcbn1cbiJdfQ== */\"","import { Component } from '@angular/core';\nimport { Unit, UnitMotorCmd, UnitState } from '../system/protocol';\n\n@Component({\n  selector: 'updown',\n  inputs: ['service'],\n  styleUrls: ['updown.scss'],\n  template: `\n    <ion-item lines=\"none\" class=\"updown\">\n      <ion-label>{{service.getName()}}\n        <span class=\"state\">{{state()}}</span>\n      </ion-label>\n\n      <ion-buttons slot=\"end\">\n        <ion-button size=\"small\" slot=\"icon-only\" (click)=\"doDown(service)\">\n          <ion-icon name=\"caret-down\" [ngClass]=\"colorDown()\"></ion-icon></ion-button>\n        <ion-button size=\"small\" slot=\"icon-only\" (click)=\"doStop(service)\">\n          <ion-icon name=\"stop\"></ion-icon></ion-button>\n        <ion-button size=\"small\" slot=\"icon-only\" (click)=\"doUp(service)\" [ngClass]=\"colorUp()\">\n          <ion-icon name=\"caret-up\" [ngClass]=\"colorUp()\"></ion-icon></ion-button>\n      </ion-buttons>\n    </ion-item>\n  `})\n\n  export class UpDownControl {\n    protected service: Unit;\n\n    state() {\n      return this.service.getDispayState();\n    }\n    stateColor() {\n      if ((this.service.status === UnitState.kOpen) || (this.service.status === UnitState.kClosed)) {\n        return 'done';\n      }\n      else if ((this.service.status === UnitState.kOpening) || (this.service.status === UnitState.kClosing)) {\n        return 'active';\n      }\n      else {\n        return '';\n      }\n    }\n\n    colorUp() {\n      if (this.service.status === UnitState.kOpen) {\n        return 'done';\n      }\n      else if (this.service.status === UnitState.kOpening) {\n        return 'active';\n      }\n      else {\n        return '';\n      }\n    }\n    doUp() {\n      this.service.setState(UnitMotorCmd.kOpen);\n    }\n\n    colorDown() {\n      if (this.service.status === UnitState.kClosed) {\n        return 'done';\n      }\n      else if (this.service.status === UnitState.kClosing) {\n        return 'active';\n      }\n      else {\n        return '';\n      }\n    }\n    doDown() {\n      this.service.setState(UnitMotorCmd.kClose);\n    }\n\n    doStop() {\n      this.service.setState(UnitMotorCmd.kStop);\n    }\n\n  }\n","import { LogFunction } from './types';\n\nexport class Q {\n  private timer = null;\n  private queue = [];\n  logger: LogFunction;\n\n  constructor(logger: LogFunction) {\n    this.logger = logger || console.log;\n  }\n\n  exec(fn) {\n    const len = this.queue.length;\n    this.queue.push(fn);\n\n    // start timer to execute this functon if nobody else calls \"do\"\n    this.logger('*Q* exec, we\\'ve put stuff in the queue, start ' + (len ? 'long timer' : 'short timer'));\n    this.startWaiter(len ? 500 : 0);\n  }\n\n  endWaiter() {\n    if (this.timer) {\n      // this.logger(\"*Q* Waiter: clearing timer\");\n      clearTimeout(this.timer);\n    }\n  }\n\n  startWaiter(mSecs = 1000) {\n    this.endWaiter();\n\n    // this.logger(\"*Q* Waiter: starting timer for \" + mSecs + \" mSec\");\n    this.timer = setTimeout(() => {\n      this.logger('*Q* Waiter: timer finished, calling \\'do\\' because nobody else did');\n      this.do();\n    }, mSecs);\n  }\n\n  do() {\n    this.logger('*Q* Do, qlen='+ this.queue.length);\n\n    // Get the oldest function and execute\n    if (this.queue.length > 0) {\n      const fn = this.queue[0];\n      this.queue.splice(0, 1);\n      // this.logger(\"*Q* Do: calling function\");\n      fn();\n    }\n\n    // Still stuff to execute\n    if (this.queue.length > 0) {\n      // this.logger(\"*Q* Do, still stuff in the queue, start timer\");\n      this.startWaiter();\n    } else {\n      this.endWaiter();\n    }\n  }\n}","import { Protocol } from './protocol';\nimport { LogFunction } from './types';\n\n\n///////////////\n// Log Class //\n///////////////\n\nexport class Logger {\n  debug: boolean;\n  type: string;\n  logger: LogFunction;\n\n  constructor(type: string, debug: boolean = false) {\n    this.logger = (debug) ? console.log : function() {};\n    Protocol.setLogger(this.logger);\n\n    this.debug = debug || false;\n    this.type = type || 'base';\n  }\n\n  info(msg: string) {\n    if (this.debug) {\n      this.logger(this.type + ' - ' + msg);\n    }\n  }\n  log(msg: string) {\n    this.logger(this.type + ' - ' + msg);\n  }\n  err(msg: string) {\n    this.logger(this.type + ' - *** ' + msg + ' ***');\n  }\n\n}\n","import { Node, Protocol, Unit, recName, Rec } from \"./protocol\";\nimport { MasterConfig, WriteError, CommRecord, Message, Sanitizers } from \"./types\";\nimport { System } from \"./system\";\nimport { Logger } from \"./logger\";\n\nimport { Q } from \"./Q\";\nimport { ToastController } from \"@ionic/angular\";\n// import { Socket } from \"cz.blocshop.socketsforcordova/socket.js\";\n\nexport class Master extends Logger {\n\n  private system: System;\n  public nodes: Array<Node>;\n  public nrNodes: number;\n  public schedule: number;\n\n  public isOpen: boolean;\n  public isLoggedIn: boolean;\n  private resolveLogin = null;\n  private closeRequested: boolean;\n  private buffer: string;\n\n  private Q: Q;\n\n  config: MasterConfig;\n  private socket: WebSocket; //  Socket;\n\n  // command was sent, no response received yet\n\n  /*  V2: no groups (store separate in \"config.groups\")\n\n  system.config: {\n    \"socketserver\": \"akiworks.be\",\n    \"socketport\": 9999,\n    \"language\": \"EN\",\n    \"stores\": true,\n    \"multiple\": true,\n    \"cmasters\": [\n      { \"name\": \"Roos\",\n        \"address\": \"141.135.240.51\",\n        \"port\": 5001,\n        \"password\": \"duotecno\",\n        \"debug\": true,\n        \"active\": true\n      }, ...],\n    \"cnodes\": [\n      { \"active\": \"Y\",\n        \"masterAddress\": \"141.135.240.51\",\n        \"masterPort\": 5001,\n        \"logicalAddress\": 7\n      }, ...],\n    \"cunits\": [\n      { \"active\": \"Y\",\n        \"group\": \"1\",\n        \"masterAddress\": \"141.135.240.51\",\n        \"masterPort\": 5001,\n        \"logicalNodeAddress\": 7,\n        \"logicalAddress\": 0\n      }, ...\n    ]\n  }\n\n\n  V3 (no cnodes):\n\n  system.config: {\n    \"socketserver\": \"akiworks.be\",\n    \"socketport\": 9999,\n    \"language\": \"EN\",\n    \"stores\": true,\n    \"multiple\": true,\n    \"remotescenes\": true,\n    \"cmasters\": [\n      { \"name\": \"Roos\",\n        \"address\": \"141.135.240.51\",\n        \"port\": 5001,\n        \"password\": \"duotecno\",\n        \"debug\": true,\n        \"active\": true\n      }, ...],\n    \"cunits\": [\n      { \"active\": \"Y\",\n        \"group\": \"1\",\n        \"masterAddress\": \"141.135.240.51\",\n        \"masterPort\": 5001,\n        \"logicalNodeAddress\": 7,\n        \"logicalAddress\": 0\n      }, ...\n    ]\n  }\n\n\n  V4 (no cunits): -- still needed ??\n\n   system.config: {\n    \"version\": 3,\n    \"socketserver\": \"akiworks.be\",\n    \"socketport\": 9999,\n    \"language\": \"EN\",\n    \"stores\": true,\n    \"debug\": true,\n    \"multiple\": true,\n    \"remotescenes\": true,\n    \"masters\": [\n      { \"name\": \"Roos\",\n        \"address\": \"141.135.240.51\",\n        \"port\": 5001,\n        \"password\": \"duotecno\",\n        \"active\": true,\n        \"nodes\": [\n          { \"active\": \"Y\",\n            \"logicalAddress\": 7,\n            \"units\": [\n              { \"active\": \"Y\",\n                \"group\": \"1\",\n                \"logicalAddress\": 0\n              }, ...\n            ]\n          }, ...]\n      }, ...]\n   }\n  */\n\n  constructor(system: System, config: MasterConfig, private toastCtrl: ToastController) {\n    super(\"master\", system.debug);\n    this.Q = new Q(system.logger);\n\n    // save my eco system\n    this.system = system;\n\n    // save this masters config settings\n    this.config = Sanitizers.masterConfig(config);\n\n    // all nodes in this master\n    this.nodes = [];\n    this.nrNodes = 0;\n    this.schedule = 0;\n\n    // connection to an IP node / smartbox\n    this.socket = null;\n    this.isOpen = false;\n    this.isLoggedIn = false;\n    this.closeRequested = false;\n\n    // incoming data\n    this.buffer = \"\";\n  }\n\n  async toast(message: string) {\n    const toast = await this.toastCtrl.create({\n      message, duration: 1000, position: \"top\"\n    });\n    toast.present();\n  }\n\n  getName() {\n    return this.config.name || \"master\";\n  }\n  getSort() {\n    return this.getName().toLowerCase();\n  }\n\n  log(msg: string) {\n    // overwrite to add IP address\n    super.log(this.type + \" \" + this.getAddress() + \": \" + msg);\n  }\n\n  writeConfig(config?: object, fn?: string) {\n    // overwrite: don't do anything, all is stored in the system-config\n  }\n\n  getConfig(): MasterConfig {\n    return this.config;\n  }\n  hasAddress(ip: string): boolean {\n    return this.config.address === ip;\n  }\n  getAddress(): string {\n    return this.config.address;\n  }\n  isMaster(ip: string, port: number) {\n    return this.hasAddress(ip) && this.hasPort(port);\n  }\n  getPort(): number {\n    return this.config.port;\n  }\n  hasPort(port: number): boolean {\n    return this.config.port == port;\n  }\n\n  inMultiNode(): boolean {\n    return (this.nodes.length > 1);\n  }\n\n  same(master: Master | string, port?: number): boolean {\n    if (typeof master === \"string\") {\n      if (typeof port === \"undefined\") port = 5001;\n      return this.hasAddress(master) && this.hasPort(port);\n    } else {\n      return master && this.hasAddress(master.getAddress()) && this.hasPort(master.getPort());\n    }\n  }\n\n\n  /* ************* */\n  /* Communication */\n  /* ************* */\n  async open(): Promise<boolean> {\n    // if (this.system.isBrowser)\n      return this.openWeb();\n    // else\n    //  return this.openTCP();\n  }\n  async openTCP(): Promise<boolean> {\n    return this.openWeb();\n  /*\n    return new Promise((resolve, reject) => {\n      try {\n        ////////////////////////////////\n        // try to open the connection //\n        this.log(\"opening connection to direct TCP Socket\");\n        this.socket = new Socket();\n        if (!this.socket) {\n          throw(new Error(\"could create new tcp socket\"));\n          resolve(false);\n        }\n\n        ///////////////////////\n        // set data listener //\n        this.socket.onData = (message) => {\n          // messages need to be buffered until \"]\" is received\n          this.handleData(message);\n        };\n\n        ///////////////////////////\n        // set an error listener //\n        this.socket.onError = (err) => {\n          this.err(\"TCP Socket: \" + err);\n        };\n\n        ///////////////////////////////////////////\n        // set end: the server closed the socket //\n        this.socket.onClose = (err) => {\n          this.isOpen = false;\n          this.isLoggedIn = false;\n          this.log(\"end -> socket got disconnected\");\n\n          if (!this.closeRequested) {\n            // unexpected close\n            this.err(\"Socket: closed unexpectedly -> \" + err);\n          }\n        };\n\n        this.socket.open(this.config.address, this.config.port,\n          () => {\n            this.log(\"connection open on \" + this.getAddress() + \" on port \" + this.getPort());\n            this.isOpen = true;\n            resolve(this.socket);\n          },\n          (err) => {\n            this.err(\"Failed to open a connection to \" + this.getAddress() + \" on port \" + this.getPort());\n            resolve(false);\n          }\n        );\n\n      } catch(e) {\n        this.err(\"Failed to open a connection to \" + this.getAddress() + \" on port \" + this.getPort());\n        resolve(false);\n      }\n    });\n    */\n  }\n  async openWeb(): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      try {\n        ////////////////////////////////\n        // try to open the connection //\n        this.log(\"opening connection to the SmartSocket Server\");\n        const wsserver = this.system.config.socketserver + \":\" + this.system.config.socketport;\n        const tcpserver = this.config.address + \":\" + this.config.port;\n        this.socket = new WebSocket(\"ws://\" + wsserver + \"/\" + tcpserver);\n        if (!this.socket) {\n          this.err(\"could create new web socket to \" + wsserver + \"/\" + tcpserver);\n          resolve(false);\n         }\n \n        ///////////////////////\n        // set data listener //\n        this.socket.onmessage = (message) => {\n          // messages need to be buffered until \"]\" is received\n          this.handleData(message.data);\n        };\n\n        ///////////////////////////\n        // set an error listener //\n        this.socket.onerror = (err) => {\n          this.err(\"Socket: \" + err + \" on \" + wsserver + \"/\" + tcpserver);\n        };\n\n        ///////////////////////////////////////////\n        // set end: the server closed the socket //\n        this.socket.onclose = () => {\n          this.isOpen = false;\n          this.isLoggedIn = false;\n          this.log(\"end -> socket got disconnected\");\n\n          if (!this.closeRequested) {\n            // unexpected close\n            this.err(\"Socket: closed unexpectedly\");\n          }\n        };\n\n        this.socket.onopen = () => {\n          this.isOpen = true;\n\n          // request a connection to the real socket\n          this.log(\"connection open on \" + wsserver + \"/\" + tcpserver);\n\n          // resolve our promise with the opened socket\n          resolve(true);\n        };\n\n\n      } catch (e) {\n        this.err(\"Failed to open a connection on port \" + this.getPort());\n        resolve(false);\n      }\n    });\n  }\n\n\n  async close() {\n    if (this.isOpen) {\n      const message = Protocol.buildDisconnect();\n      try {\n        this.closeRequested = true;\n        await this.send(message);\n        // server will close the socket, no need to call socket.close()\n\n      } catch (err) {\n        this.err(\"Disconnect failure: \" + err);\n      }\n    }\n  }\n\n  async login() {\n    return new Promise((resolve, reject) => {\n      const message = Protocol.buildLogin(this.config.password)\n      try {\n        Protocol.write(this.socket, message);\n        // to be called when logged in\n        this.resolveLogin = resolve;\n\n      } catch (err) {\n        this.resolveLogin = null;\n        this.err(\"Login call failed: \" + err);\n        reject(false);\n      }\n    });\n  }\n\n  getSocket(): WebSocket {\n    return this.socket;\n  }\n\n  async send(message: Message) {\n    return this.Q.exec(async () => {\n      if (! this.isOpen) {\n        await this.open();\n        if (! await this.login()) {\n          return WriteError.writeFatal;\n        }\n      }\n      return Protocol.write(this.socket, message);\n    });\n  }\n\n  handleData(message: string) {\n    // put the incoming data into a buffer and only use complete data\n    this.buffer += message;\n\n    while ((this.buffer.length > 0) && this.processData()) {\n    }\n  }\n\n  processData(): boolean {\n    // fetch next message and store the rest of unused data (if any)\n    const next = Protocol.nextMessage(this.buffer);\n    this.buffer = next.rest;\n\n    if (!next.cmd) {\n      return false;\n\n    } else {\n      this.log(\"incoming msg=\" + recName(next.cmd) + \", status=\" + next.isStatus +\n      \", data=\" + ((next.message) ? next.message.join(\",\") : \"--\"));\n\n      this.Q.do();\n\n      if (next.isStatus) {\n        this.receiveStatus(next);\n\n      } else if (next.cmd === Rec.Info) {\n        this.receiveInfo(next);\n\n      } else if (next.cmd === Rec.ConnectStatus) {\n        this.receiveLogin(next.message);\n\n      } else if (next.cmd === Rec.ScheduleStatus) {\n        this.receiveSchedule(next.message);\n\n      } else if (next.cmd === Rec.Internal) {\n        this.receiveInternal(next.raw);\n\n      } else {\n        this.log(\"what to do with: \" + next.message);\n\n      }\n      return true;\n    }\n  }\n\n  ///////////////////////\n  // Internal messages //\n  ///////////////////////\n  receiveInternal(msg: string) {\n    const separ = msg.indexOf(\":\");\n    if (separ < 0) return;\n\n    const type = msg.substr(5, separ-5);\n    const data = msg.substr(type.length+6, msg.length-type.length-6);\n\n    if (msg[2] === 'R') {\n      this.system.doReceiveBackup(type, data);\n    }\n  }\n\n  ///////////////////\n  // Login message //\n  ///////////////////\n\n  receiveLogin(message: Message) {\n    this.isLoggedIn = (message[2] === 1);\n\n    if (this.resolveLogin) {\n      this.toast(\"Login \" + (this.isLoggedIn ? \"OK\" : \"FAIL\") + \" for \" + this.config.address);\n      this.resolveLogin(this.isLoggedIn);\n      this.resolveLogin = null;\n    } else {\n      this.err(\"unexpected ConnectStatus ?\");\n    }\n  }\n\n  ///////////////////\n  // Info messages //\n  ///////////////////\n\n  receiveInfo(next: CommRecord) {\n    if (next.message[1] === Rec.DBInfo) {\n      this.receiveDBInfo(next.message);\n\n    } else if (next.message[1] === Rec.NodeInfo) {\n      this.receiveNodeInfo(next.message);\n\n    } else if (next.message[1] === Rec.UnitInfo) {\n      this.receiveUnitInfo(next.message);\n\n    } else {\n      this.err(\"What is this? info type = \" + next.message[1] + \", message: \" + next.message);\n    }\n    this.system.triggerRebuild();\n  }\n\n  receiveSchedule(message: Message) {\n    this.schedule = message[2];\n    this.info(\"received week schedule = \" + this.schedule);\n  }\n\n  receiveDBInfo(message: Message) {\n    const dbInfo = Protocol.makeDBInfo(message);\n    this.nrNodes = dbInfo.nrNodes;\n    for (let nodeInx = 0; nodeInx < this.nrNodes; nodeInx++) {\n      this.fetchNode(nodeInx);\n    }\n  }\n\n  receiveNodeInfo(message: Message) {\n    const nodeInfo = Protocol.makeNodeInfo(message);\n    let node = this.findNode(nodeInfo.logicalAddress);\n    if (!node) {\n      node = new Node(this, nodeInfo);\n      this.nodes.push(node);\n    } else {\n      Sanitizers.nodeInfo(nodeInfo, node);\n    }\n    this.system.setActiveState(node);\n\n    if (node.active && (node.nrUnits !== node.units.length)) {\n      this.fetchAllUnits(node);\n    } else {\n      this.log(\"Skipping node: \" + node.getDescription());\n    }\n  }\n\n  receiveUnitInfo(message: Message) {\n    const unitInfo = Protocol.makeUnitInfo(message);\n    let unit = this.findUnit(unitInfo.logicalNodeAddress, unitInfo.logicalAddress);\n    if (!unit) {\n      const node = this.findNode(unitInfo.logicalNodeAddress);\n      if (node) {\n        unit = new Unit(node, unitInfo);\n        node.units.push(unit);\n      } else {\n        this.err(\"Node not found: \" + unitInfo.logicalNodeAddress);\n      }\n    } else {\n      Sanitizers.unitInfo(unitInfo, unit);\n    }\n    this.system.setActiveState(unit);\n  }\n\n\n  fetchAllUnits(node: Node) {\n    for (let unitInx = 0; unitInx < node.nrUnits; unitInx++) {\n      this.fetchUnit(node, unitInx);\n    }\n  }\n\n  async fetchDbInfo() {\n    try {\n      await this.send(Protocol.buildDBInfo());\n      await this.send(Protocol.buildRequestSchedule());\n\n    } catch (err) {\n      this.err(\"dbInfo call failed -> \" + err);\n    }\n  }\n\n  async fetchNode(nodeInx: number) {\n    const message = Protocol.buildNodeInfo(nodeInx);\n    try {\n      await this.send(message);\n\n    } catch (err) {\n      this.err(\"nodeInfo call failed -> \" + err);\n    }\n  }\n\n  async fetchUnit(node: Node, unitInx: number) {\n    const message = Protocol.buildUnitInfo(node, unitInx);\n    try {\n      // unit with index \"unitInx\" in node \"logicalAddress\"\n      await this.send(message);\n\n    } catch (err) {\n      this.err(\"unitInfo call failed -> \" + err);\n    }\n  }\n\n\n  async getDatabase(readUnits: boolean = true) {\n    this.nodes = [];\n\n    await this.fetchDbInfo();\n  }\n\n  allNodes(callback: (n: Node) => void) {\n    this.nodes.forEach(node => {\n      callback(node);\n    });\n  }\n\n  allUnits(callback: (u: Unit) => void) {\n    this.nodes.forEach(node => {\n      node.units.forEach(unit => {\n        callback(unit);\n      });\n    });\n  }\n\n  displayDatabase(onlyNodes = false) {\n    this.log(\"Showing \" + this.nodes.length + \" nodes\");\n    this.nodes.forEach((node, nodeInx) => {\n      if (onlyNodes) { this.log(\"===================================================================================\"); }\n      this.log(nodeInx + \". \" + node.name +\n          \", type = \" + node.typeName() +\n          \", nrUnits = \" + node.nrUnits +\n          \", logical address = \" + node.logicalAddress);\n      if (onlyNodes) {\n        this.log(\"-----------------------------------------------------------------------------------\");\n        node.units.forEach((unit, unitInx) => {\n          this.log(\"> \" + unitInx + \". '\" + unit.name + \"' => '\" + unit.getName() +\n                                    \"', type = \" + unit.typeName() +\n                                    \", logical address: \" + unit.logicalAddress +\n                                    \", value: \" + unit.value +\n                                    (unit.status ? (\", status = \" + unit.status) : \"\"));\n        });\n      }\n    });\n  }\n\n  findUnit(logicalNodeAddress: number, logicalAddress: number) {\n    const node = this.findNode(logicalNodeAddress);\n    if (node) {\n      return node.units.find((u: Unit) => u.logicalAddress === logicalAddress);\n    }\n    else {\n      return null;\n    }\n  }\n\n  findNode(logicalAddress: number) {\n    return this.nodes.find((n: Node) => n && (n.logicalAddress === logicalAddress));\n  }\n\n  getNodeAndUnit(node: number | Node, unit: number | Unit) {\n    // allow for index numbers or real nodes to be passed\n    if (typeof node === \"number\") {\n      if (node >= this.nodes.length) {\n        this.err(\"getNodeAndUnit -> node nr \" + node + \" out of bounds\");\n        node = null;\n      } else {\n        node = this.nodes[node];\n      }\n    }\n    if (! node) {\n      this.err(\"getNodeAndUnit -> node not found \");\n      return null;\n    }\n\n    if (typeof unit === \"number\") { \n      if (unit >= (<Node>node).units.length) {\n        this.err(\"getNodeAndUnit -> unit nr \" + unit + \" out of bounds\");\n        unit = null;\n      } else {\n        unit = (<Node>node).units[unit];\n      }\n    }\n    if (! unit) {\n      this.err(\"getNodeAndUnit -> unit not found\");\n      return null;\n    }\n\n    return { node, unit };\n  }\n\n  /* ****************************************************************************** */\n  /* Status requests                                                                */\n  /*   Database (all known nodes)                                                   */\n  /*   Node (all known units in this node)                                          */\n  /*   Unit (only dimmer, switch, input, temperature, motor and mood implemented)   */\n  /* ****************************************************************************** */\n\n  receiveStatus(next: CommRecord) {\n    // called when an incoming message was received and classified as a status message\n\n    // find node\n    const nodeLogical = next.message[2];\n    const node = this.nodes.find(node => node && (node.logicalAddress == nodeLogical));\n    if (! node) {\n      this.err(\"status message \" + next.cmd + \" for unknown node = \" + nodeLogical);\n      return;\n    }\n\n    // find unit\n    const unitLogical = next.message[3];\n    const unit = node.units.find(unit => unit && (unit.logicalAddress == unitLogical));\n    if (!unit) {\n      // this.err(\"status message \" + next.cmd + \" for unknown unit = \" + unitLogical +\n      //          \" in node = \" + nodeLogical);\n      return;\n    }\n\n    // Parse the status into the unit\n    Protocol.receiveStatus(next, unit);\n\n    /*\n    // inform the system if a change was detected or if macro command (69)\n    if ((currValue != unit.value) || (currStatus != unit.status) || (next.cmd == 69))\n      this.system.informStatusChange(this, unit);\n    */\n  }\n\n  async requestStatus() {\n    for (let nodeInx = 0; nodeInx < this.nodes.length; nodeInx++) {\n      const node = this.nodes[nodeInx];\n      if (node.active) {\n        for (let unitInx = 0; unitInx < node.units.length; unitInx++) {\n          await this.requestUnitStatus(node.units[unitInx]);\n        }\n      }\n    }\n  }\n\n  async requestNodeStatus(node: Node) {\n    for (let unitInx = 0; unitInx < node.units.length; unitInx++) {\n      if (node.units[unitInx].active) {\n        await this.requestUnitStatus(node.units[unitInx]);\n      }\n    }\n  }\n\n  async requestUnitStatus(unit: Unit) {\n    const message = Protocol.buildRequestUnitStatus(unit.node, unit);\n    let res = await this.send(message);\n    // results will be set by the data event listener\n    this.info(\"get value of \" + unit.node.getName() + \"-\" + unit.getName());\n  }\n\n  async setUnitStatus(unit: Unit, value: number) {\n    const params = Protocol.buildSetCmd(unit.node, unit, value);\n    if (params.cmd) {\n      await this.send(params.message);\n    }\n    this.system.checkScenes(unit);\n  }\n\n  async setPreset(unit: Unit, preset: number, temp: number) {\n    await this.send(Protocol.buildSetPreset(unit.node, unit, preset, temp));\n    this.info(\"set temp preset: \" + preset + \" of \" + unit.node.getName() + \"-\" + unit.getName() + \" to temp \" + temp);\n  }\n\n  async selectPreset(unit: Unit, preset: number) {\n    await this.send(Protocol.buildSelectPreset(unit.node, unit, preset));\n    this.info(\"set temp preset of \" + unit.node.getName() + \"-\" + unit.getName() + \" to: \" + preset);\n  }\n\n  async setSchedule() {\n    await this.send(Protocol.buildSendSchedule(this.schedule));\n    this.info(\"set schedule to week nr: \" + this.schedule);\n  }\n\n  async setTempOnOff(unit: Unit, on: boolean) {\n    await this.send(Protocol.buildSensorOnOff(unit.node, unit, on));\n    this.info(\"turn temp sensor of \" + unit.node.getName() + \"-\" + unit.getName() + \": \" + (on ? \"on\" : \"off\"));\n  }\n\n  async doIncDecPreset(unit: Unit, inc: boolean) {\n    await this.send(Protocol.buildIncDecPreset(unit.node, unit, inc));\n    this.info(\"set temp preset of \" + unit.node.getName() + \"-\" + unit.getName() + \": \" + (inc ? \"up\" : \"down\"));\n  }\n\n}\n","import { CommRecord, Message, Sanitizers, NodeInfo, UnitInfo, DBInfo, WriteError, LogFunction, hex } from './types';\nimport { Master } from './master';\nimport { EventEmitter } from 'events';\n\n// Duotecno master IP protocol implementation\n// Johan Coppieters\n//\n// Dec 2018 - v1 - first version based on 1 smartbox\n// Mar 2019 - v2 - rewrite to support multiple masters\n//\n// Dec 2019 - v3 - for app side only\n\n\n///////////////////////////\n// Commands + attributes //\n///////////////////////////\nenum Cmd {\n  Internal = 9,     // smartsystem defined (not Duotecno)\n  SetSwitch = 163,\n  SetDimmer = 162,\n  SetControl = 168,\n  SetMotor = 182,\n  SetSensor = 136,\n  Login = 214,\n  Heartbeat = 215,\n  DatabaseInfo = 209,\n  SetSchedule = 217\n}\n\n// for Set Switch/Dimmer/Control\nconst reqDim = 3;\nconst reqOff = 9;\nconst reqOn = 10;\n\n// for Login\nconst reqDisconnect = 0;\nconst reqConnect = 3;\n\n// for DatabaseInfo = 209;\nconst reqDBInfo = 0;\nconst reqNodeInfo = 1;\nconst reqUnitInfo = 2;\nconst reqUnitStatus = 3;\n\n// for Schedule\nconst reqSchedule = 218;\n\n\nexport function cmdName(cmd: number) {\n  return Cmd[cmd] || 'cmd' + cmd;\n}\n\ntype CmdSet = {\n  cmd: number,\n  method: number,\n  value?: number | boolean,\n  message?: Message,\n  reqStatus?: boolean\n};\n\n//////////////////////\n// Received results //\n//////////////////////\nexport enum Rec {\n  // return info from cmdDatabaseInfo\n  DBInfo = 0,\n  NodeInfo = 1,\n  UnitInfo = 2,\n\n  Internal = 9,     // smartsystem defined (not Duotecno)\n\n  ErrorMessage = 17,\n  ConnectStatus = 67,\n  ScheduleStatus = 73,\n\n  // return info from recDBInfo\n  Info = 64,\n\n  // return info from reqUnitStatus\n  Mood = 4,\n  Dimmer = 5,\n  Switch = 6,\n  Sensor = 7,\n  Motor = 38,\n  Macro = 69\n}\n\nexport function recName(rec: number) {\n  return Rec[rec] || 'rec' + rec;\n}\n\n\n// Node types\nexport enum NodeType { kNoNode = 0, kStandardNode = 1, kGatewayNode = 4, kModemNode = 8, kGUINode = 32 };\n\n// States\nexport enum UnitState { kOpening = 4, kClosing = 3, kOpen = 2, kClosed = 1, kStopped = 0 };\nexport enum UnitMotorCmd { kClose = 5, kOpen = 4, kStop = 3};\n\nexport enum UnitType { kNoUnit = 0, kDimmer = 1, kSwitch = 2, kInput = 3, \n                       kTemperature = 4, kExtendedAudio = 5, kMood = 7, kSwitchingMotor = 8, \n                       kAudio = 10, kAV = 11, kIRTX = 12, kVideo = 14, kLightbulb = 101, kGarageDoor = 102, kNoType = 0 };\n// kLightbulb  == kSwitch with no \"stk\" in the name\n// kGarageDoor == kSwitchingMotor with \"!\" in the name\n\n\n\n/////////////////////////\n// Node in the network //\n/////////////////////////\nexport class Node {\n  master: Master;\n  active: boolean;\n  name: string;\n  index: number;\n  logicalAddress: number;\n  physicalAddress: number;\n  type: NodeType;\n  flags: number;\n  nrUnits: number;\n  units: Array<Unit>;\n\n  constructor(master: Master, params: NodeInfo) {\n    this.master = master;\n    Sanitizers.nodeInfo(params, this);\n    this.units = [];\n\n    // remove | in names\n    let separ = this.name.indexOf('|');\n    this.name = (separ < 0) ? this.name : this.name.substring(0, separ) + ' ' + (this.name.substring(separ + 1));\n  }\n\n  inMultiNode() {\n    return this.master.inMultiNode();\n  }\n\n  typeName(): string {\n    switch (this.type) {\n      case NodeType.kStandardNode: return 'Standard';\n      case NodeType.kGatewayNode: return 'Gateway';\n      case NodeType.kModemNode: return 'Modem';\n      case NodeType.kGUINode: return 'GUI';\n      default: return 'Unknown node type (' + this.type + ')';\n    }\n  }\n\n  getName(): string {\n    return this.name;\n  }\n  getSort(): string {\n    return this.getName().toLowerCase();\n  }\n\n  getNumber(): string {\n    return hex(this.logicalAddress);\n  }\n\n  getDescription(): string {\n    return this.getName() + ', active: ' + this.active + ', type: ' + this.typeName() + ', node: ' + this.getName();\n  }\n\n  findUnit(logicalAddress: number): Unit {\n    return this.units.find(u => u && (u.logicalAddress === logicalAddress));\n  }\n\n  findUnitIndex(logicalAddress: number): number {\n    return this.units.findIndex(u => u && (u.logicalAddress === logicalAddress));\n  }\n}\n\n\n/////////////////////////\n// Unit within a Node  //\n/////////////////////////\nexport class Unit {\n  node: Node;\n  active: boolean;\n  name: string;\n  group: number = 0;\n  logicalReqNodeAddress: number;\n  index: number;\n  logicalNodeAddress: number;\n  logicalAddress: number;\n  type: UnitType;\n  flags: number;\n  displayName: string;\n  value: number | boolean;\n  status: number;\n\n  // Temperature stuff (values in x10 degree Celcius)\n  preset: number;  // 0=sun, 1=half sun, 2=moon, 3=half moon, -1=off\n  sun: number;\n  hsun: number;\n  moon: number;\n  hmoon: number;\n  temp: number;\n\n\n  constructor(node, params: UnitInfo) {\n    this.node = node;\n    Sanitizers.unitInfo(params, this);\n\n    // make a display name for homekit, without the |\n    // if the display name is empty make a N[nodeAdr]-U[unitAdr] name.\n    let separ = this.name.indexOf('|');\n    this.name = (separ < 0) ? this.name : this.name.substring(0, separ) + ' ' + (this.name.substring(separ + 1));\n    this.displayName = (separ < 0) ? this.name : (this.name.substring(separ + 1) + ' ' + this.name.substring(0, separ));\n\n    if (!this.displayName) { this.displayName = this.getSerialNr(); }\n  }\n\n  isUnit(unit: Unit): boolean;\n  isUnit(master: string, port: number, nodeLogicalAddress: number, unitLogicalAddress: number): boolean;\n  isUnit(master: Unit | string, port?: number, nodeLogicalAddress?: number, unitLogicalAddress?: number): boolean {\n    if (master instanceof Unit) {\n      const unit = master;\n      return ((this.node.master.isMaster(unit.node.master.getAddress(), unit.node.master.getPort())) &&\n              (this.node.logicalAddress == unit.node.logicalAddress) && \n              (this.logicalAddress == unit.logicalAddress));\n\n    } else { /* if (typeof master === \"string\") */\n      return ((this.node.master.isMaster(master, port)) &&\n              (this.node.logicalAddress == nodeLogicalAddress) && \n              (this.logicalAddress == unitLogicalAddress));\n    } \n  }\n\n\n  sameValue(value): boolean {\n    if ((this.type === UnitType.kSwitchingMotor) || (this.type === UnitType.kGarageDoor)) {\n      return (((this.value == UnitState.kOpening) && (value == 4)) ||\n              ((this.value == UnitState.kClosing) && (value == 5)) ||\n              ((this.value <= UnitState.kOpen) && (value == 3)));\n    }\n    else {\n      return (this.value == value);\n    }\n  }\n\n  typeName(): string {\n    switch (this.type) {\n      case UnitType.kDimmer: return 'Dimmer';\n      case UnitType.kSwitch: return 'Switch/Relay';\n      case UnitType.kLightbulb: return 'Lightbulb';\n      case UnitType.kInput: return 'Control input';\n      case UnitType.kTemperature: return 'Temperature sensor';\n      case UnitType.kExtendedAudio: return 'Extended audio';\n      case UnitType.kMood: return 'Virtual mood';\n      case UnitType.kSwitchingMotor: return 'Switch motor';\n      case UnitType.kGarageDoor: return 'Garagedoor';\n      case UnitType.kAudio: return 'Basic audio';\n      case UnitType.kAV: return 'AV Matrix';\n      case UnitType.kIRTX: return 'IRTX';\n      case UnitType.kVideo: return 'Video multiplexer';\n      default: return 'Unknown unit type (' + this.type + ')';\n    }\n  }\n  getName(): string {\n    return this.name;\n  }\n  getDisplayName(): string {\n    if (this.inMultiNode) {\n      return this.displayName + ' on ' + this.node.getName();\n    }\n    else {\n      return this.displayName;\n    }\n  }\n  getNumber(): string {\n    return this.node.getNumber() + ';' + hex(this.logicalAddress);\n  }\n  getSort(): string {\n    const name = this.getName().toLowerCase();\n    switch (this.type) {\n      case UnitType.kTemperature: return '01|' + name;\n      case UnitType.kSwitchingMotor: return '02|' + name;\n      case UnitType.kGarageDoor: return '02|' + name;\n      case UnitType.kDimmer: return '03|' + name;\n      case UnitType.kLightbulb: return '04|' + name;\n      case UnitType.kSwitch: return '04|' + name;\n      case UnitType.kInput: return '11|' + name;\n      case UnitType.kExtendedAudio: return '12|' + name;\n      case UnitType.kMood: return '09|' + name;\n      case UnitType.kAudio: return '12|' + name;\n      case UnitType.kAV: return '13|' + name;\n      case UnitType.kIRTX: return '19|' + name;\n      case UnitType.kVideo: return '14|' + name;\n      default: return '99|' + name;\n    }\n  }\n\n  getType(): UnitType {\n    // as default we consider a switch as a light unless it has \"stk\" in the name\n    if ((this.type === UnitType.kSwitch) &&\n        (this.name.indexOf('STK') < 0) && (this.name.indexOf('stk') < 0) && (this.name.indexOf('Stk') < 0)) {\n      return UnitType.kLightbulb;\n    }\n\n    // as default we consider a switch-motor as a window covering unless it has \"!\" in the name\n    if ((this.type === UnitType.kSwitchingMotor) &&\n        (this.name.indexOf('!') >= 0)) {\n      return UnitType.kGarageDoor;\n    }\n\n    return this.type;\n  }\n  getSerialNr(): string {\n    if (this.inMultiNode) {\n      return this.node.getName() + '-N' + this.logicalNodeAddress + '-U' + this.logicalAddress;\n    }\n    else {\n      return 'N' + this.logicalNodeAddress + '-U' + this.logicalAddress;\n    }\n  }\n\n\n  isCtrl(): boolean {\n    return this.isSwitch() || this.isDimmer() || this.isUpDown();\n  }\n  isSwitch(): boolean {\n    return (this.type === UnitType.kSwitch) || (this.type === UnitType.kLightbulb);\n  }\n  isMood(): boolean {\n    return (this.type === UnitType.kMood);\n  }\n  isInput(): boolean {\n    return (this.type === UnitType.kInput);\n  }\n  isTemperature(): boolean {\n    return (this.type === UnitType.kTemperature);\n  }\n  isDimmer(): boolean {\n    return (this.type === UnitType.kDimmer);\n  }\n  isUpDown(): boolean {\n    return (this.type === UnitType.kGarageDoor) || (this.type === UnitType.kSwitchingMotor);\n  }\n\n  async setPreset(preset: number, temp: number) {\n    await this.node.master.setPreset(this, preset, temp);\n  }\n  async selectPreset(preset: number) {\n    await this.node.master.selectPreset(this, preset);\n  }\n  async sensorOnOff(on: boolean) {\n    await this.node.master.setTempOnOff(this, on);\n  }\n  async doIncDecPreset(inc: boolean) {\n    await this.node.master.doIncDecPreset(this, inc);\n  }\n\n  inMultiNode() {\n    return this.node.inMultiNode();\n  }\n\n  async reqState() {\n    await this.node.master.requestUnitStatus(this);\n  }\n  async setState(value) {\n    await this.node.master.setUnitStatus(this, value);\n  }\n\n\n  getDispayState(): string {\n    switch(this.type) {\n      case UnitType.kDimmer: return ((this.status) ? 'on' : 'off') + ' (' + this.value + '%)';\n      case UnitType.kSwitch:\n      case UnitType.kLightbulb: return (this.status) ? 'on' : 'off';\n      case UnitType.kInput: return (this.status) ? 'on' : 'off';\n      case UnitType.kTemperature: return (<number>this.value / 10.0) + 'C';\n      case UnitType.kMood: return (this.status) ? 'on' : 'off';\n      case UnitType.kGarageDoor:\n      case UnitType.kSwitchingMotor:\n        if (this.status === UnitState.kOpening) { return 'opening'; }\n        if (this.status === UnitState.kClosing) { return 'closing'; }\n        if (this.status === UnitState.kOpen) { return 'open'; }\n        if (this.status === UnitState.kClosed) { return 'closed'; }\n        if (this.status === UnitState.kStopped) { return 'stopped'; }\n    }\n    return (this.status) ? this.status.toString() : 'unknown';\n  }\n\n  getDescription() {\n    return this.getDisplayName() + ', active: ' + this.active + ', type: ' + this.typeName() + ', status: ' + this.status + ', value: ' + this.value;\n  }\n\n}\n\n\n/////////////////////////////////////\n// IP node protocol implementation //\n/////////////////////////////////////\nexport const Protocol = {\n  // set to a different value if needed.\n  logger: console.log,\n  emitter: null,\n\n  setLogger(logger: LogFunction) {\n    this.logger = logger;\n  },\n  setEmitter(emitter: EventEmitter) {\n    this.emitter = emitter;\n  },\n\n  ////////////////////\n  // Helper methods //\n  ////////////////////\n\n  getStr: function(arr: Array<number>, at: number) {\n    return arr.slice(at + 1, at + arr[at] + 1)\n              .map(val => String.fromCharCode(val))\n              .join('');\n  },\n\n  makeLong: function(arr: Array<number>, at: number) {\n    return arr[at + 0] * 256 * 256 * 256 +\n           arr[at + 1] * 256 * 256 +\n           arr[at + 2] * 256 +\n           arr[at + 3];\n  },\n\n  isStatus: function(cmd: number): boolean {\n    return (cmd === Rec.Mood)   ||\n           (cmd === Rec.Dimmer) ||\n           (cmd === Rec.Switch) ||\n           (cmd === Rec.Sensor) ||\n           (cmd === Rec.Motor)  ||\n           (cmd === Rec.Macro);\n  },\n\n\n  //////////////////////////\n  // Code to String stuff //\n  //////////////////////////\n\n  translateError: function(err: Message): string {\n    if (err[0] != Rec.ErrorMessage) { return 'received unexpected data: ' + err; }\n\n    switch(err[1]) {\n      case 11: return 'Wrong object method received for ' + err[2] + '/' + err[3];\n      case 12: return 'Wrong Message Code received: ' + err[2];\n      case 18: return 'This function can only be executed when this node is the master';\n      case 128: return 'The node database is not ready';\n      case 129: return 'Node ' + err[2] + ' could not be found in the database';\n      case 130: return 'Wrong node index: ' + err[2];\n      case 131: return 'Unit ' + err[2] + ' with address ' + err[3] + ' could not be found in the database';\n      case 132: return 'Wrong unit index ' + err[3] + ' for this node ' + err[2];\n      case 133: return 'Unit ' + err[3] + ' of node ' + err[2] + ' is of a different type';\n      case 140: return 'The requested operation is not allowed';\n      case 141: return 'The requested operation is not allowed because a wrong access code is used';\n      case 142: return 'The requested operation is not implemented in this software version';\n      default:\n        return 'Unknown error';\n    }\n  },\n\n\n  ////////////////////\n  // Socket methods //\n  ////////////////////\n\n  write: function(socket: WebSocket /* | Socket */, data: Message | string): WriteError {\n    const cmd = parseInt(<string> data[0]);\n    if (data instanceof Array) {\n      data = data.join(',');\n    }\n\n    if (typeof data === 'string') {\n      // if no enclosing \"[...]\", add them\n      if (data[0] != '[') { data = '[' + data + ']'; }\n      this.logger('sending: ' + cmdName(cmd) + ' - ' + data);\n\n      try {\n        // append a LF char and send\n        socket.send(data + String.fromCharCode(10));\n        return WriteError.writeOK;\n\n      } catch(err) {\n        this.logger('error sending through socket ' + err.message);\n        return WriteError.writeFatal;\n      }\n    } else {\n      throw(new Error('wrong data type for sending'));\n    }\n  },\n\n  //////////////////////////////\n  // Handle incoming data     //\n  //  strip []                //\n  //  convert to array        //\n  //  convert chars to ints   //\n  //////////////////////////////\n  nextMessage: function(buffer: string): CommRecord {\n    // pre return result\n    const nextRec: CommRecord = { rest: buffer, isStatus: false, message: null, cmd: 0, raw: \"\" };\n\n    // no \"start-of-data\" -> discard buffer || else -> trim buffer\n    const begin = buffer.indexOf('[');\n    if (begin < 0) {\n      nextRec.rest = '';\n    } else if (begin != 0) {\n      nextRec.rest = buffer.substring(begin);\n    }\n\n    // we either have valid start data or nothing\n    if (nextRec.rest.length > 0) {\n      // do we have an \"end-of-data\" in our buffer\n      let end = nextRec.rest.indexOf(']');\n\n      // if no end-of-data was found:\n      // leave it in the buffer and hope more data will arrive soon\n      // TODO: set up a timer that clears the buffer if nothing comes through\n\n      if (end >= 0) {\n        // fetch the first available message (discard the [ and ])\n        nextRec.raw = nextRec.rest.substring(1, end);\n\n        // delete the used message from the input buffer\n        // if there, also delete the trailing LF (0x0A)\n        if ((end <= nextRec.rest.length) && (nextRec.rest.charCodeAt(end + 1) === 0x0A)) { end++; }\n        nextRec.rest = nextRec.rest.substring(end + 1);\n\n        // convert to array and turn strings into numbers\n        nextRec.message = nextRec.raw.split(',').map(c => parseInt(c));\n\n        // get the first byte to see what kind of incoming data\n        nextRec.cmd = <number>nextRec.message[0];\n        nextRec.isStatus = this.isStatus(nextRec.cmd);\n\n        // this.logger(\"processing: \" + (nextRec.isStatus ? \"status -> \" : \"\") + msg);\n      }\n\n    }\n    return nextRec;\n  },\n\n\n  buildLogin: function(password: string): Message {\n    password = password || this.config.password;\n    return [Cmd.Login, reqConnect, password.length,\n            ...password.split('').map(c => c.charCodeAt(0))];\n  },\n\n  buildDisconnect: function(): Message {\n    return [Cmd.Login, reqDisconnect];\n  },\n\n\n  /////////////////////////////////////\n  // Collect info of all found nodes //\n  /////////////////////////////////////\n\n  buildDBInfo: function(): Message {\n    return [Cmd.DatabaseInfo, reqDBInfo];\n  },\n\n  buildNodeInfo: function(nodeInx: number): Message {\n    return [Cmd.DatabaseInfo, reqNodeInfo, nodeInx];\n  },\n\n  buildUnitInfo: function(node: Node, unitInx: number) {\n    return [Cmd.DatabaseInfo, reqUnitInfo, node.logicalAddress, unitInx];\n  },\n\n  buildRequestUnitStatus: function(node: Node, unit: Unit): Message {\n    return [Cmd.DatabaseInfo, reqUnitStatus, node.logicalAddress, unit.logicalAddress, unit.type];\n  },\n\n  buildRequestSchedule(): Message {\n    return [reqSchedule, 0];\n  },\n\n  getCmdAndMethod: function(unit: Unit, value: number | boolean): CmdSet {\n    switch (unit.type) {\n      case UnitType.kDimmer:\n        if (typeof value === 'boolean') {\n          return { cmd: Cmd.SetDimmer, method: (value) ? reqOn : reqOff };\n        }\n        else if (value <= 0) {\n          return { cmd: Cmd.SetDimmer, method: reqOff };\n        }\n        else {\n          return { cmd: Cmd.SetDimmer, method: reqDim, value: Math.max(Math.min(value, 99), 1) };\n        }\n\n      case UnitType.kSwitch:\n        return { cmd: Cmd.SetSwitch, method: (value) ? 3 : 2 };\n\n      case UnitType.kInput:\n      case UnitType.kMood:\n        if (value < 0) {\n          return { cmd: Cmd.SetControl, method: 2 };\n        } // short pulse\n        else {\n          return { cmd: Cmd.SetControl, method: 3, value: (value) ? 1 : 0 };\n        }  // long event + 0/1\n\n      case UnitType.kSwitchingMotor:\n        return { cmd: Cmd.SetMotor, method: <number>value };  // 5 close, 4 open, 3 is stop\n\n      case UnitType.kTemperature:\n        return { cmd: Cmd.SetSensor, method: 13 /* select preset */, value };\n\n      case UnitType.kExtendedAudio:\n      case UnitType.kAudio:\n      case UnitType.kAV:\n      case UnitType.kIRTX:\n      case UnitType.kVideo:\n\n      default: // \"Unknown unit type (\" + unit.type + \")\";\n        this.err('setting ' + unit.type + ' not yet implemented');\n        return { cmd: 0, method: 0, value: 0};\n    }\n  },\n\n  buildSetCmd: function(node: Node, unit: Unit, value: number | boolean): CmdSet {\n    let params = this.getCmdAndMethod(unit, value);\n    if (params.cmd) {\n      params.message = [params.cmd, params.method, node.logicalAddress, unit.logicalAddress];\n      if (typeof params.value != 'undefined') { params.message.push(params.value); }\n\n      // some need a requestStatus afterwards\n      params.reqStatus = ((params.cmd === Cmd.SetDimmer) && (params.method === reqDim));\n    }\n    return params;\n  },\n\n  /* Temperature / Presets */\n  buildSelectPreset(node: Node, unit: Unit, preset: number): Message {\n    let params = this.getCmdAndMethod(unit, preset);\n    return [params.cmd, 13, node.logicalAddress, unit.logicalAddress, preset];\n  },\n\n  buildSetPreset(node: Node, unit: Unit, preset: number, value: number): Message {\n    return [Cmd.SetSensor, 1, node.logicalAddress, unit.logicalAddress, preset, Math.floor(value / 256), value % 256];\n  },\n  buildIncDecPreset(node: Node, unit: Unit, inc: boolean): Message {\n    return [Cmd.SetSensor, (inc) ? 5 : 6, node.logicalAddress, unit.logicalAddress];\n  },\n  buildSensorOnOff(node: Node, unit: Unit, on: boolean): Message {\n    return [Cmd.SetSensor, 3, node.logicalAddress, unit.logicalAddress, (on) ? 1 : 0];\n  },\n\n  /* Schedule commands */\n  buildSendSchedule(schedule: number): Message {\n    return [Cmd.SetSchedule, 0, Math.max(0, Math.min(3, schedule))];\n  },\n\n  ///////////////////\n  // Received info //\n  ///////////////////\n  receiveStatus: function(next: CommRecord, unit: Unit) {\n    if (next.cmd === Rec.Sensor) {\n      // sensor -> value\n      unit.value  = next.message[9] * 256  +  next.message[10];   // 10x current temperature\n      unit.status = next.message[7];                            // 0=idle, 1=heating, 2=cooling\n      unit.preset = (next.message[6]) ? next.message[8] : -1;   // 0=sun, 1=half sun, 2=moon, 3=half moon, -1 = off\n      unit.sun    = next.message[11] * 256 +  next.message[12];   // 10x temperature\n      unit.hsun   = next.message[13] * 256 +  next.message[14];   // 10x temperature\n      unit.moon   = next.message[15] * 256 +  next.message[16];   // 10x temperature\n      unit.hmoon  = next.message[17] * 256 +  next.message[18];   // 10x temperature\n      this.logger('received temperature = ' + <number>unit.value / 10.0);\n\n    } else if (next.cmd === Rec.Switch) {\n      // switch -> boolean\n      unit.status = next.message[6];\n      unit.value = (next.message[6] > 0);\n\n    } else if (next.cmd === Rec.Dimmer) {\n      // dimmer -> 0 .. 99\n      unit.status = next.message[6];\n      unit.value = next.message[7];\n\n    } else if (next.cmd === Rec.Mood) {\n      // control -> boolean\n      unit.status = next.message[6];\n      unit.value = (next.message[6] != 0);\n\n    } else if (next.cmd === Rec.Motor) {\n      // motor -> boolean/status\n      unit.status = next.message[6];               // 0 = stopped, 1 stopped/down, 2 = stopped/up, busy/down, busy/up\n      unit.value = next.message[6];                // (unit.status == 1);    // true=closed\n\n    } else if (next.cmd = Rec.Macro) {\n      // = EV_UNITMACROCOMMANDO\n      // example: On 50%: [69,0,NodeAddress,UnitAddress,6,1,50]\n      //          Off:    [69,0,NodeAddress,UnitAddress,6,0,0]\n      unit.status = next.message[5];\n      unit.value = next.message[6];\n\n    }\n    this.emitter.emit('update', unit);\n  },\n\n  makeDBInfo(res: Message): DBInfo {\n    return { nrNodes: res[2] };\n  },\n\n  makeNodeInfo(res: Message): NodeInfo {\n    let name = this.getStr(res, 8);\n    let offset = name.length;\n    return {\n      name: name,\n      index: res[2],               // should be == nodeInx\n      logicalAddress: res[3],\n      physicalAddress: this.makeLong(res, 4),\n      nrUnits: res[offset + 9],\n      type: res[offset + 10],\n      flags: res[offset + 11]\n    }\n  },\n\n  makeUnitInfo(res: Message): UnitInfo {\n    let name = this.getStr(res, 6);\n    let offset = name.length;\n\n    return {\n      name,\n      logicalReqNodeAddress: res[2],  // should be == node.logicalAddress ?\n      index: res[3],                  // should be == unitInx\n      logicalNodeAddress: res[4],     // difference with res[2] ?\n      logicalAddress: res[5],\n      type: res[offset + 7],\n      flags: res[offset + 8]\n    };\n  }\n};\n","import { Injectable } from \"@angular/core\";\n\nimport { Master } from \"./master\";\nimport { SystemConfig, MasterConfig, UnitConfig, YN, GroupConfig, Sanitizers, LogFunction, SceneConfig } from \"./types\";\nimport { Node, Unit, Protocol } from \"./protocol\";\nimport { Logger } from \"./logger\";\nimport { ToastController } from \"@ionic/angular\";\nimport { EventEmitter } from 'events';\n\n\n@Injectable()\nexport class System extends Logger {\n  public masters: Array<Master>;\n\n  public config: SystemConfig;\n  public groups: Array<GroupConfig>;\n  public scenes: Array<SceneConfig>;\n  public backup: {config: SystemConfig, groups: Array<GroupConfig>,  scenes: Array<SceneConfig>} = null;\n\n  public isBrowser: boolean = true;\n  public isSplitted: boolean = false;\n\n  // rebuild active services (units) and spread unit updates\n  trigger = null;\n  public emitter: EventEmitter;\n\n  public moods: Array<Unit> = [];\n  public controls: Array<Unit> = [];\n  public temperatures: Array<Unit> = [];\n  public stores: Array<Unit> = [];\n\n\n\n  constructor(private toastCtrl: ToastController) {\n    super(\"system\", true);\n    this.trigger = null;\n\n    this.emitter = new EventEmitter();\n    Protocol.setEmitter(this.emitter);\n    //this.emitter.on('update', this.checkScenes.bind(this));\n\n    this.readConfig();\n    this.readGroups();\n    this.readScenes();\n\n    // open all masters listed in the config\n    this.masters = [];\n    this.openMasters();\n  }\n\n  setBrowser(isB: boolean) {\n    this.isBrowser = isB;\n  }\n\n  setLogger(logger: LogFunction) {\n    this.logger = logger;\n\n    // use my log function\n    Protocol.logger = logger;\n  }\n\n  openMasters() {\n    // don\"t wait for the real open of the sockets\n    // some errors: the socket to the proxy opens, but the socket to the hardware fails\n    for (let inx = 0; inx < this.config.cmasters.length; inx++) {\n      this.openMaster(this.config.cmasters[inx], inx);\n    }\n  }\n  async closeMasters() {\n    for (let inx = 0; inx < this.masters.length; inx++) {\n      await this.closeMaster(this.masters[inx]);\n    }\n  }\n\n  async openMaster(config: MasterConfig, inx: number): Promise<Master> {\n    const master = new Master(this, config, this.toastCtrl);\n    this.masters[inx] = master;\n\n    if (!master.config.active) return;\n\n    this.log(\"opening master: \" + master.getAddress());\n    if (await master.open()) {\n      if (await master.login()) {\n        await master.getDatabase();\n        this.log(\"master: \" + master.getAddress() + \" opened with \" + master.nodes.length + \" nodes.\");\n        this.triggerRebuild();\n      } else {\n        this.err(\"failed to log in on \" + master.getAddress());\n      } \n    } else {\n      this.err(\"failed to open connection on \" + master.getAddress());\n    }\n    return master;\n  }\n\n  async closeMaster(master: Master) {\n    // non-existing master -> do nothing... strange...\n    if ((! master) || (!master.isOpen)) return;\n\n    // find its index (we need it to delete it from the list)\n    let inx = this.findMasterInx(master);\n\n    // close\n    try {\n      await master.close();\n    } catch (e) {\n      this.err(\"failed to close master on \" + master.getAddress() + \":\" + master.getConfig().port);\n    }\n\n    // remove from list\n    if (inx > -1) {\n      this.masters.splice(inx, 1);\n    }\n  }\n\n  displayDatabases() {\n    this.masters.forEach(m => m.displayDatabase());\n  }\n\n\n  //////////////////\n  // Config stuff //\n  //////////////////\n\n  async addMaster(cmaster: MasterConfig): Promise<Master> {\n    if (!cmaster.address) { return; }\n\n    // see if this master already exists\n    let inx = this.findCMasterInx(cmaster.address, cmaster.port);\n\n    // store in config if not yet known\n    if (inx < 0) {\n      this.config.cmasters.push(cmaster);\n      inx = this.masters.length;\n\n    } else {\n      // close to re-open\n      await this.closeMaster(this.masters[inx]);\n      this.config.cmasters[inx] = cmaster;\n    }\n    this.writeConfig();\n    return await this.openMaster(cmaster, inx);\n  }\n\n  async deleteMaster(master: Master) {\n    const masterAddress = master.getAddress();\n    const masterPort = master.getPort();\n    let inx = this.findCMasterInx(masterAddress, masterPort);\n\n    if (inx >= 0) {\n      await this.closeMaster(master);\n\n      // remove the master, it's nodes and their units from the config\n      this.config.cmasters.splice(inx, 1);\n      this.config.cunits = this.config.cunits.filter(unit =>\n        (unit.masterPort != masterPort) || (unit.masterAddress != masterAddress));\n\n      this.writeConfig();\n    }\n  }\n\n  setActiveState(item: Node | Unit) {\n    if (item instanceof Node) {\n      const masterAddress = item.master.getAddress();\n      const masterPort = item.master.getPort();\n      const unitConfig = this.config.cunits.find((cu: UnitConfig) => \n        (cu.logicalNodeAddress === item.logicalAddress) && \n        (cu.masterAddress === masterAddress) && \n        (cu.masterPort == masterPort));\n\n      // node is used, it exists in configured units\n      item.active = !! unitConfig;\n    }\n\n    if (item instanceof Unit) {\n      const masterAddress = item.node.master.getAddress();\n      const masterPort = item.node.master.getPort();\n      const unitConfig = this.config.cunits.find((cu: UnitConfig) =>\n        (cu.logicalAddress === item.logicalAddress) &&\n        (cu.logicalNodeAddress === item.logicalNodeAddress) &&\n        (cu.masterAddress === masterAddress) &&\n        (cu.masterPort == masterPort));\n      item.active = !! unitConfig;\n\n      // unit is used, it exists in configured units\n      if (unitConfig) {\n        item.group = unitConfig.group;\n      }\n    }\n  }\n\n  deleteGroup(group: GroupConfig) {\n    if (this.groups.length > 1) {\n      // delete the group\n      const inx = this.groups.indexOf(group);\n      this.groups.splice(inx, 1);\n\n      // renumber\n      this.groups.sort((a,b) => a.order-b.order);\n      this.groups.forEach((g,i) => g.order = i);\n\n      // set all items of the deleted group to group 0\n      const first = this.groups[0].id;\n      this.masters.forEach(m => m.allUnits(u => {\n        if (u.group == group.id) u.group = first;\n      }));\n      \n      // save groups and changes units\n      this.writeGroups();\n      this.updateSystem(false);\n    }\n  }\n\n  //////////////////////////////////////\n  // Finding masters, nodes and units //\n  //////////////////////////////////////\n\n  findMaster(master: Master | string, port?: number): Master {\n    if (typeof master === \"string\") {\n      if (typeof port === \"undefined\") port = 5001;\n      return this.masters.find((m: Master) => m.same(master, port))\n    } else {\n      return this.masters.find((m: Master) => m && m.same(master));\n    }\n  }\n  findMasterInx(master: Master): number {\n    return this.masters.findIndex((m: Master) => m && m.same(master));\n  }\n\n  findCMasterInx(address: string, port: number): number {\n    return this.config.cmasters.findIndex((m: MasterConfig) => (m.address == address) && (m.port == port));\n  }\n\n  findNode(master: Master, logicalAddress: number) {\n    master = this.findMaster(master);\n    if (master) {\n      return master.nodes.find((n: Node) => n && (n.logicalAddress === logicalAddress));\n    }\n    else {\n      return null;\n    }\n  }\n\n  findUnit(master: string, port: number, logicalNodeAddress: number, logicalAddress: number): Unit;\n  findUnit(master: Master, logicalNodeAddress: number, logicalAddress: number): Unit;\n  findUnit(master: Master | string, A: number, B: number, C?: number): Unit {\n    let nodeNr = A; \n    let unitNr = B;\n    if (typeof master === \"string\") {\n      master = this.findMaster(master, A);\n      nodeNr = B; unitNr = C;\n    }\n    const node = this.findNode(master, nodeNr);\n    if (node)\n      return node.units.find((u: Unit) => u && (u.logicalAddress === unitNr));\n    else\n      return null;\n  }\n\n\n  findUnitByAddress(logicalNodeAddress: number, logicalAddress: number): Unit {\n    let unit: Unit = null;\n    this.masters.forEach((m: Master) => {\n      if (m) {\n        const node = this.findNode(m, logicalNodeAddress);\n        if (node) {\n          unit = node.units.find((u: Unit) => u && (u.logicalAddress === logicalAddress));\n        }\n      }\n    });\n    return unit;\n  }\n\n  findUnitByName(master: string, name: string): Unit {\n    let unit: Unit = null;\n    this.masters.forEach((m: Master) => {\n      if (m && (m.getAddress() == master)) {\n        m.nodes.forEach((n: Node) => {\n          if (n) {\n            n.units.forEach(u => {\n              if ((u.displayName === name) || (u.name === name)) {\n                unit = u;\n              }\n            });\n          }\n        });\n      }\n    });\n    return unit;\n  }\n\n  allActiveUnits(): Array<Unit> {\n    return this.masters\n      .reduce((acc, m) => acc.concat(m.nodes), [])\n      .reduce((acc, n) => acc.concat(n.units), [])\n      .filter(u => u.active);\n  }\n\n\n  //////////////////////////////////////////////////\n  // Getting the current state of units and nodes //\n  //////////////////////////////////////////////////\n  updateSystem(dontTrigger: boolean = false) {\n    this.config.cunits = this.allActiveUnits()\n      .map((u: Unit) => { return { active: <YN>\"Y\", group: u.group, \n                                   masterAddress: u.node.master.getAddress(), masterPort: u.node.master.getPort(),\n                                   logicalNodeAddress: u.node.logicalAddress, logicalAddress: u.logicalAddress}; });\n\n    this.writeConfig();\n\n    if (dontTrigger) {\n      this.triggerRebuild();\n    }\n  }\n\n  triggerRebuild(immediate: boolean = false) {\n    this.log(\"triggerRebuild requested\");\n    if (this.trigger) {\n      this.log(\"killing pending rebuild\");\n      clearTimeout(this.trigger);\n      this.trigger = null;\n    }\n\n    if (immediate) {\n      this.rebuildServices();\n    } else {\n      this.trigger = setTimeout(() => {\n        this.trigger = null;\n        this.rebuildServices();\n      }, 1000);\n    }\n  }\n\n  rebuildServices() {\n    function compare(a: Unit | Node | Master, b: Unit | Node | Master) {\n      const an = a.getSort();\n      const bn = b.getSort();\n      if (an < bn) return -1;\n      if (an > bn) return 1;\n      return 0;\n    }\n    function compareN(a: Unit, b: Unit) {\n      const aname = a.name.toLowerCase();\n      const bname = b.name.toLowerCase();\n      if (aname < bname) return -1;\n      if (aname > bname) return 1;\n      return 0;\n    }\n\n    // sort masters, nodes in masters, units in nodes.\n    this.log(\"rebuildMasters/Nodes\")\n    this.masters.sort(compare);\n    this.masters.forEach((m: Master) => {\n      m.nodes.sort(compare);\n      m.nodes.forEach((n: Node) => n.units.sort(compare));\n     });\n\n    // sort selected controls, temperatures and moods.\n    this.log(\"rebuildServices\")\n    const services = this.allActiveUnits();\n\n    this.controls = services.filter(s => s.isCtrl()).sort(compareN);\n    this.temperatures = services.filter(s => s.isTemperature()).sort(compareN);\n    this.moods = services.filter(s => (s.isMood() || s.isInput())).sort(compareN);\n    this.stores = this.controls.filter(s => s.isUpDown());\n\n    this.emitter.emit('refresh');\n  }\n\n  ////////////\n  // Scenes //\n  ////////////\n  checkScenes(unit: Unit) {\n    // do local scene implementation only if not handle by server\n    if (this.config.remotescenes) return;\n\n    // used when local-scenes = true.\n    const scene = this.scenes.find(s => unit.isUnit(s.trigger.masterAddress, s.trigger.masterPort,\n                                                    s.trigger.logicalNodeAddress, s.trigger.logicalAddress));\n    if (scene) {\n      this.log(\"scene found -> \" + scene.name + \", value = \" + scene.trigger.value + \" unit = \" + unit.value);console.log(scene);\n      //if (unit.sameValue(scene.trigger.value)) {\n        scene.units.forEach(u => {\n          this.log(\"Find unit: \" + u.masterAddress + \", \" + u.masterPort + \", \" + u.logicalNodeAddress + \", \" + u.logicalAddress);\n          const unit = this.findUnit(u.masterAddress, u.masterPort, u.logicalNodeAddress, u.logicalAddress);\n          if (unit) {\n            this.log(\" - unit found \" + unit.getDisplayName() + \" -> \" + u.value);\n            unit.setState(u.value);\n          }\n        });\n      //}\n    }\n  }\n\n\n  //////////////////////\n  // Backup - Restore //\n  //////////////////////\n  /* Example backup:\n  \"{\"groups\":[{\"name\":\"twee\",\"id\":1,\"order\":0,\"visible\":true,\"used\":false},{\"name\":\"drie\",\"id\":2,\"order\":1,\"visible\":true,\"used\":false},{\"name\":\"een\",\"id\":0,\"order\":2,\"visible\":true,\"used\":false}],\"scenes\":[{\"name\":\"Bad+Paal+Trap\",\"trigger\":{\"logicalNodeAddress\":0,\"logicalAddress\":0,\"masterAddress\":\"\",\"masterPort\":5001,\"value\":true},\"order\":0,\"units\":[{\"logicalNodeAddress\":7,\"logicalAddress\":34,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":true},{\"logicalNodeAddress\":7,\"logicalAddress\":30,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":8},{\"logicalNodeAddress\":7,\"logicalAddress\":31,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":10}]},{\"name\":\"Scene Bad+Keuken\",\"trigger\":{\"logicalNodeAddress\":3,\"logicalAddress\":2,\"masterAddress\":\"178.118.70.181\",\"masterPort\":5001,\"value\":1},\"order\":1,\"units\":[{\"logicalNodeAddress\":7,\"logicalAddress\":34,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":true},{\"logicalNodeAddress\":7,\"logicalAddress\":36,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":true}]}],\"config\":{\"cmasters\":[{\"name\":\"Appartement\",\"address\":\"141.135.240.51\",\"port\":5001,\"password\":\"duotecno\",\"debug\":true,\"regime\":\"0\",\"active\":false},{\"name\":\"Smartbox 1\",\"address\":\"178.118.70.181\",\"port\":5001,\"password\":\"duotecno\",\"debug\":true,\"regime\":\"0\",\"active\":false},{\"name\":\"Toonzaal\",\"address\":\"host.duotecno-ip.be\",\"port\":5001,\"password\":\"#Dt2019*\",\"debug\":false,\"active\":false},{\"name\":\"Peter Thuis\",\"address\":\"81.83.0.10\",\"port\":5003,\"password\":\"peter1710\",\"debug\":false,\"active\":false},{\"name\":\"Smartbox Intern\",\"address\":\"192.168.0.98\",\"port\":5001,\"password\":\"duotecno\",\"debug\":false,\"active\":true}],\"cunits\":[{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":0},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":1},{\"active\":\"Y\",\"group\":1,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":28},{\"active\":\"Y\",\"group\":1,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":29},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":2},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":3},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":12},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":13},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":14}],\"socketserver\":\"localhost\",\"socketport\":\"5002\",\"language\":\"NL\",\"localhost\":\"akiworks.be\",\"stores\":true,\"multiple\":true,\"remotescenes\":false}}\"\n*/\n\n  // format [9,[cmd]-[master ip address]-[type of config]:[extra data]]\n  // cmd = B(ackup), R(estore), S(end scenes)\n  // in data the \"]\" are placed by \"§\"\n\n  toTransport(obj: any): string {\n    return JSON.stringify(obj).replace(/§/g,' ').replace(/\\]/g,'§')\n  }\n  fromTransport(str: string): any {\n    try {\n      return JSON.parse(str.replace(/§/g,']'));\n    } catch (e) {\n      this.log(\"error in input from server: \" + e);\n      return {};\n    }\n  }\n\n  findOpenMaster(): Master {\n    return this.masters.find(m => m.isOpen);\n  }\n\n  doBackup() {\n    const master = this.findOpenMaster();\n    if (master) {\n      Protocol.write(master.getSocket(), '[9,B-' + master.getAddress() +'-system:' + \n        this.toTransport({groups: this.groups, scenes: this.scenes, config:this.config}) + ']');\n    }\n  }\n\n  sendScenes() {\n    const master = this.findOpenMaster();\n    if (master) {\n      Protocol.write(master.getSocket(), '[9,S-' + master.getAddress() + '-scenes:' + this.toTransport(this.scenes) + ']');\n    }\n  }\n\n  doRequestBackup() {\n    // request restore (will come in async)\n    const master = this.findOpenMaster();\n    if (master) {\n      this.log(\"requesting backup from \" + master.getAddress());\n      Protocol.write(master.getSocket(), '[9,R-' + master.getAddress() + '-system:]');\n    }\n  }\n  doReceiveBackup(type: string, data: string) {\n    console.log(data);\n    this.backup = this.fromTransport(data);\n    this.log(\"received backup: groups = \" + this.backup.groups.length + \n                            \", scenes: \" + this.backup.scenes.length + \n                            \", masters: \" + this.backup.config.cmasters.length + \n                            \", units: \" + this.backup.config.cunits.length);\n    console.log(data);\n\n  }\n  doRestoreBackup() {\n    this.log(\"restoring backup: groups = \" + this.backup.groups.length + \n                             \", scenes: \" + this.backup.scenes.length + \n                             \", masters: \" + this.backup.config.cmasters.length + \n                             \", units: \" + this.backup.config.cunits.length);\n\n    this.scenes = this.backup.scenes;\n    this.groups = this.backup.groups;\n    this.config = this.backup.config;\n    this.backup = null;\n  }\n\n\n  //////////////////\n  // Config stuff //\n  //////////////////\n  read(type: string) {\n    const fn = \"config.\" + type;\n    let config = null;\n\n    try {\n      const configStr = localStorage.getItem(fn)\n      config = JSON.parse(configStr);\n    } catch(err) {\n      this.log(\"Couldn't read \" + fn + \" --> Creating empty config.\");\n    }\n\n    // sanitize the config\n    const temp = Sanitizers[type](config);\n\n    // write if we created it (new intallations or new config params)\n    if (!config && temp) {\n      this.write(type, temp);\n    }\n    return temp;\n  }\n\n  write(type: string, config) {\n    const fn = \"config.\" + type;\n    try {\n      config = Sanitizers[type](config);\n      localStorage.setItem(fn, JSON.stringify(config, null, 2));\n      return config;\n\n    } catch(err) {\n      this.err(\"Couldn't write config \" + fn);\n      return config;\n    }\n  }\n\n  ///////////////////\n  // System config //\n  ///////////////////\n\n  readConfig() {\n    this.config = this.read(\"system\");\n  }\n\n  writeConfig() {\n    this.write(\"system\", this.config);\n  }\n\n  //////////////////\n  // Group config //\n  //////////////////\n  readGroups() {\n    // support pre v1.1 configs -> convert the old config into new structure\n    if ((this.config.cgroups) && (this.config.cgroups.length)) {\n      this.groups = this.config.cgroups.map((g, inx) => { return {name: g, id: inx, visible: true, order: inx}; });\n      delete this.config.cgroups;\n      this.writeConfig();\n      this.writeGroups();\n\n    } else {\n      this.groups = this.read(\"groups\");\n    }\n\n    // order the groups and reset the order indices\n    this.groups.sort((a,b) => a.order-b.order);\n    this.groups.forEach((g,i) => g.order = i);\n  }\n\n  writeGroups() {\n    this.groups = this.write(\"groups\", this.groups);\n  }\n\n  //////////////////\n  // Scene config //\n  //////////////////\n\n  readScenes() {\n    this.scenes = this.read(\"scenes\");\n  }\n  writeScenes() {\n    // delete trigger-units and scene-units before saving if they were added\n    const sceneConfigs = Sanitizers.scenes(this.scenes);\n    this.write(\"scenes\", sceneConfigs);\n  }\n\n}\n","// Johan Coppieters.\n//\n// v1 - server version Apr 2019\n// v2 - app version\n// v3 - added scenes May 2020\n// v3.1 - brought in line with server version\n\nimport { UnitType, NodeType, Unit } from './protocol';\n\n// for Active=Y/N or New=X\nexport type YNX =  'Y' | 'N' | 'X';\nexport type YN =  'Y' | 'N';\n\n\n// coming from app or from unit tests\nexport type LogFunction = (message: any, ...optionalParams: any[]) => void;\n\n\n//////////////\n// Duotecno //\n//////////////\n\n// Configuration (see duotecno/system.ts)\nexport interface SystemConfig {\n  socketserver: string;\n  socketport: number;\n  language: string;\n  stores: boolean;\n  multiple: boolean;\n  remotescenes: boolean;\n  cmasters: Array<MasterConfig>;\n  cunits: Array<UnitConfig>;\n\n  // deprecated since v1.1 - moved to separate array\n  // but keep it here for old configs\n  cgroups?: Array<string>;\n};\n\nexport interface MasterConfig {\n  name?: string;\n  address: string;\n  port: number;\n  password: string;\n  debug?: boolean;\n  active: boolean;\n};\n\nexport interface NodeConfig {\n  active: YNX;                 // if found with \"N\": don't even query, \"X\": new node\n  masterAddress: string;      // address of master node\n  masterPort: number;         // port of master node\n  logicalAddress?: number;\n};\n\nexport interface UnitDef {\n  name?: string;              // optional name\n  masterAddress: string;      // address of master node\n  masterPort: number;         // port of master node\n  logicalNodeAddress: number;\n  logicalAddress: number;\n  unit?: Unit;\n};\nexport const kEmptyUnit: UnitDef = { masterAddress: \"0.0.0.0\", masterPort: 5001, name: \"unit\", logicalAddress: 0, logicalNodeAddress: 0 };\n\n\nexport interface UnitConfig extends UnitDef {\n  active: YN;                 // export / don't export to homebridge\n  group: number;              // id of group\n};\n\nexport interface UnitSetting extends UnitConfig {\n  value: number;\n};\n\nexport interface UnitScene extends UnitDef {\n  value: number | boolean;\n};\nexport const kEmptyUnitScene: UnitScene = { ...kEmptyUnit, value: true}\n\n\nexport interface SceneConfig {\n  name: string;\n  trigger: UnitScene;\n  order: number;\n  units: Array<UnitScene>;\n};\nexport const kEmptyScene: SceneConfig = {name: 'Scene', trigger: kEmptyUnitScene, order: 0, units: []};\n\n\nexport interface GroupConfig {\n  name: string;\n  id: number;\n  visible: boolean;\n  used?: boolean;\n  order: number;\n};\nexport const kEmptyGroup: GroupConfig = {name: 'Home', id: 0, order: 0, visible: true};\n\n\n// from Protocol//Hardware to DB, Nodes and Units\nexport interface DBInfo {\n  nrNodes: number;\n};\n\nexport interface NodeInfo {\n  name?: string;\n  logicalReqNodeAddress?: number;\n  index?: number;\n  logicalAddress?: number;\n  physicalAddress?: number;\n  nrUnits?: number;\n  type?: NodeType;\n  flags?: number;\n};\n\nexport interface UnitInfo {\n  name?: string;\n  logicalReqNodeAddress?: number;\n  logicalNodeAddress?: number;\n  index?: number;\n  logicalAddress?: number;\n  physicalAddress?: number;\n  type?: UnitType;\n  flags?: number;\n};\n\n// handlers from incoming and outgoing messages\nexport type Message = Array<number>;\nexport enum WriteError { writeFatal = -1, writeError = 0, writeOK = 1 }\nexport interface CommRecord {\n  isStatus: boolean;\n  cmd: number;\n  message: Message;\n  rest: string;\n  raw: string;\n};\nexport const kEmptyCommRecord = { status: false, cmd: -1, message: [-1, 0, 0], rest: ''};\n\n\n\n////////////////\n// Sanitizers //\n////////////////\n\nexport const Sanitizers = {\n\n  masterConfig: function(config?: MasterConfig): MasterConfig {\n    if (!config) { config = <MasterConfig>{}; }\n    config.name = config.name || 'Smartbox';\n    config.address = config.address || '';\n    config.port = config.port || 0;\n    if (typeof config.port === 'string') { config.port = parseInt(config.port); }\n    config.password = config.password || '';\n    config.debug = config.debug || false;\n    if (typeof config.active === 'undefined') { config.active = true; }\n    config.active = !!config.active;\n    return config;\n  },\n\n  system: function(config?: SystemConfig): SystemConfig {\n    if (!config) { config = <SystemConfig>{}; }\n    config.language = config.language || 'EN';\n    config.stores = config.stores || false;\n    config.multiple = config.multiple || false;\n    config.remotescenes = config.remotescenes || false;\n    config.socketserver = config.socketserver || 'akiworks.be';\n    config.socketport = config.socketport || 9999;\n    config.cmasters = config.cmasters || [];\n    delete config[\"cnodes\"];\n    config.cunits = config.cunits || [];\n    config.cunits.forEach((u: UnitConfig) => this.unitConfig(u));\n\n    // support old style groups, pre v1.1\n    if (typeof config.cgroups != 'undefined') {\n      config.cgroups = config.cgroups || ['Home'];\n    }\n\n    return config;\n  },\n\n  ////////////\n  // Groups //\n  group: function(config?: GroupConfig): GroupConfig {\n    if (!config) { return {...kEmptyGroup}; }\n\n    config.name = config.name || kEmptyGroup.name;\n    if (typeof config.id === 'string') { config.id = parseInt(config.id); }\n    config.id = config.id || kEmptyGroup.id;\n\n    if (typeof config.order === 'string') { config.order = parseInt(config.order); }\n    config.order = config.order || kEmptyGroup.order;\n\n    config.visible = (typeof config.visible === 'boolean') ? config.visible : kEmptyGroup.visible;\n    return config;\n  },\n\n  groups: function(config?: Array<GroupConfig>): Array<GroupConfig> {\n    if (!config) { return [this.group()]; }\n\n    config.forEach(g => this.group(g));\n    return config;\n  },\n\n  ///////////\n  // Nodes //\n  nodeConfig: function(config?: NodeConfig) {\n    if (!config) { config = <NodeConfig>{}; }\n    config.active = config.active || 'N';\n    config.masterAddress = config.masterAddress || '';\n    config.masterPort = config.masterPort || 5001;\n    config.logicalAddress = config.logicalAddress || 0;\n    return config;\n  },\n\n  ///////////\n  // Units //\n  unitConfig: function(config?: UnitConfig) {  // unitDef + active + group\n    if (!config) { config = <UnitConfig>{}; }\n    this.unitDef(config);\n\n    config.active = config.active || 'N';\n\n    if (typeof config.group === 'string') { config.group = parseInt(config.group); }\n    config.group = config.group || 0;\n\n    return config;\n  },\n\n  unitScene: function(config?: UnitScene) {  // unitDef + value \n    // change + create new clean record for writing to config files\n    if (!config) { config = <UnitScene>{}; }\n    this.unitDef(config);\n    if (typeof config.value === \"undefined\") config.value = 0;\n    if (typeof config.value === \"string\") config.value = parseInt(config.value);\n\n    return { logicalNodeAddress: config.logicalNodeAddress,\n             logicalAddress: config.logicalAddress,\n             masterAddress: config.masterAddress,\n             masterPort: config.masterPort,\n             value: config.value };\n  },\n\n  unitInfo: function(info: UnitInfo, into?: object) {\n    info.name = info.name || '';\n    info.logicalReqNodeAddress = info.logicalReqNodeAddress || 0;\n    info.index = info.index || -1;\n    info.logicalNodeAddress = info.logicalNodeAddress || 0;\n    info.logicalAddress = info.logicalAddress || 0;\n    info.type = info.type || UnitType.kNoType;\n    info.flags = info.flags || 0;\n\n    if (into) {\n      Object.keys(info).forEach(prop => into[prop] = info[prop]);\n    }\n\n    return info;\n  },\n\n  ////////////\n  // Scenes //\n  sceneConfig: function(config?: SceneConfig): SceneConfig {\n    // don't change -> create new clean record for writing to config files\n    if (!config) { return {...kEmptyScene}; }\n\n    const newConfig: SceneConfig = {...kEmptyScene};\n    newConfig.name = config.name || kEmptyScene.name;\n    if (typeof config.order === 'string') { newConfig.order = parseInt(config.order); }\n    newConfig.order = config.order || kEmptyScene.order;\n\n    newConfig.trigger = this.unitScene(config.trigger);\n\n    config.units = config.units || kEmptyScene.units;\n    newConfig.units = config.units.map(u => this.unitScene(u));\n\n    return newConfig;\n  },\n\n  scenes: function(config?: Array<SceneConfig>): Array<SceneConfig> {\n    if (!config) { return [this.sceneConfig()]; }\n\n    config.forEach(s => this.sceneConfig(s));\n    return config;\n  },\n\n\n  ////////////////////////////////////////////\n  // Data coming from the hardware or prefs //\n  nodeInfo: function(info: NodeInfo, into?: object) {\n    info.name = info.name || '';\n    info.index = info.index || -1;\n    info.logicalAddress = info.logicalAddress || 0;\n    info.physicalAddress = info.physicalAddress || 0;\n    info.type = info.type || NodeType.kNoNode;\n    info.flags = info.flags || 0;\n    info.nrUnits = info.nrUnits || 0;\n\n    if (into) {\n      Object.keys(info).forEach(prop => into[prop] = info[prop]);\n    }\n    return info;\n    },\n\n  \n  unitDef: function(info: UnitDef, into?: object) {\n    info.logicalNodeAddress = info.logicalNodeAddress || 0;\n    info.logicalAddress = info.logicalAddress || 0;\n    info.masterAddress = info.masterAddress || '';\n    info.masterPort = info.masterPort || 5001;\n\n    return info;\n  }\n\n};\n\n//////////////////////\n// Helper functions //\n//////////////////////\nexport function ascii(char: string): number {\n  return char.charCodeAt(0);\n}\nexport function char(ascii: number): string {\n  return String.fromCharCode(ascii);\n}\n\nexport function two(n: number | string) {\n  return (n < 10) ? ('0' + n) : n.toString();\n}\nexport function hex(n: number): string {\n  n = Math.floor(n);\n  return '0x' + n.toString(16);\n}\n\nexport function now(): string {\n  const aDate = new Date();\n  return aDate.getFullYear() + '-' +\n         two(aDate.getMonth() + 1) + '-' +\n         two(aDate.getDate()) + ' ' +\n         two(aDate.getHours()) + ':' +\n         two(aDate.getMinutes()) + ':' +\n         two(aDate.getSeconds());\n}\n\nexport function single(val: string | Array<string>): string {\n  return (val instanceof Array) ? val[0] : val;\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":"webpack:///","file":"main-es5.js"}