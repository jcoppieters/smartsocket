{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/app/app.component.html","./node_modules/tslib/tslib.es6.js","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/core/core.module.ts","./src/app/core/stdpage.ts","./src/app/core/temp.pipe.ts","./src/app/core/translate.pipe.ts","./src/app/core/translations.ts","./src/app/rendering/dimmer.scss","./src/app/rendering/dimmer.ts","./src/app/rendering/mood.ts","./src/app/rendering/switch.scss","./src/app/rendering/switch.ts","./src/app/rendering/temperature.scss","./src/app/rendering/temperature.ts","./src/app/rendering/updown.scss","./src/app/rendering/updown.ts","./src/app/system/Q.ts","./src/app/system/logger.ts","./src/app/system/master.ts","./src/app/system/protocol.ts","./src/app/system/system.ts","./src/app/system/types.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AC3YA;AAAe,kQAAmM,wBAAwB,iRAAiR,YAAY,iSAAiS,YAAY,yJAAyJ,YAAY,gGAAgG,UAAU,8KAA8K,uBAAuB,iJ;;;;;;;;;;;;ACAxwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;A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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-ios.entry.js\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-md.entry.js\",\n\t\t\"common\",\n\t\t5\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-ios.entry.js\",\n\t\t10\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-md.entry.js\",\n\t\t11\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t13\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t14\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-col_3.entry.js\",\n\t\t20\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-img.entry.js\",\n\t\t25\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-ios.entry.js\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-md.entry.js\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t28\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t33\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t35\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-ios.entry.js\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-md.entry.js\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-ios.entry.js\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-md.entry.js\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-nav_2.entry.js\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-ios.entry.js\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-md.entry.js\",\n\t\t\"common\",\n\t\t42\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t43\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t44\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t45\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t46\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t47\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t48\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t49\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t50\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t51\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t52\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js\",\n\t\t53\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t54\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t55\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t56\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t57\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t58\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t59\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t60\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-ios.entry.js\",\n\t\t61\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-md.entry.js\",\n\t\t62\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t63\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-ios.entry.js\",\n\t\t64\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-md.entry.js\",\n\t\t65\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t66\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t67\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t68\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-text.entry.js\",\n\t\t\"common\",\n\t\t69\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t70\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t71\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t72\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t73\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t74\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t75\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js\",\n\t\t76\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","export default \"<ion-app>\\n  <ion-split-pane (ionSplitPaneVisible)=\\\"splitter($event)\\\" contentId=\\\"main\\\">\\n    <ion-menu contentId=\\\"main\\\">\\n      <ion-header>\\n        <ion-toolbar>\\n          <ion-title>{{ \\\"Config.Groups\\\" |_ }}</ion-title>\\n        </ion-toolbar>\\n      </ion-header>\\n\\n      <ion-content class=\\\"ion-padding\\\">\\n        <ion-list *ngIf=\\\"system.config.multiple\\\">\\n          <ion-item *ngFor=\\\"let group of system.groups\\\" lines=\\\"none\\\">\\n            <ion-label>\\n              {{group.name}}\\n            </ion-label>\\n            <ion-checkbox slot=\\\"start\\\" [checked]=\\\"group.visible\\\" color=\\\"secondary\\\" (ionChange)=\\\"doCheck($event, group)\\\"></ion-checkbox>\\n          </ion-item>\\n        </ion-list>\\n\\n        <ion-radio-group *ngIf=\\\"! system.config.multiple\\\" value=\\\"{{selected()}}\\\" (ionChange)=\\\"doRadio($event)\\\">\\n          <ion-item *ngFor=\\\"let group of system.groups\\\" lines=\\\"none\\\">\\n            <ion-label>\\n              {{group.name}}\\n            </ion-label>\\n            <ion-radio slot=\\\"start\\\" color=\\\"secondary\\\" value=\\\"{{group.id}}\\\"></ion-radio>\\n          </ion-item>\\n        </ion-radio-group>\\n        \\n        <ion-button *ngIf=\\\"!system.isSplitted && system.config.multiple\\\" (click)=\\\"done()\\\">{{ \\\"General.Done\\\" |_ }}</ion-button>\\n      </ion-content>\\n    </ion-menu>\\n\\n    <ion-router-outlet id=\\\"main\\\"></ion-router-outlet>\\n  </ion-split-pane>\\n</ion-app>\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    loadChildren: () => import('./tabs/tabs/tabs.module').then(m => m.TabsPageModule)\n  }\n];\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\n\nimport { Platform, MenuController } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { System } from './system/system';\nimport { GroupConfig } from './system/types';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: \"app.component.html\"\n})\nexport class AppComponent {\n\n  constructor(\n    private platform: Platform,\n    private splashScreen: SplashScreen,\n    private statusBar: StatusBar,\n    private menuCtrl: MenuController,\n    private system: System\n\n  ) {\n    this.initializeApp();\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n      this.system.setBrowser(this.platform.is('pwa'));\n    });\n    this.platform.resume.subscribe(() => {\n      console.log(\"resume event\")\n      this.system.emitter.emit('refresh');\n    });\n  }\n\n  selected(): number {\n    // find the first visible group\n    const group = this.system.groups.find(g => g.visible);\n    return (group) ? group.id : 0;\n  }\n\n  doRadio(event: CustomEvent) {\n    const selected = event.detail.value;\n    this.system.groups.forEach(g => { g.visible = (g.id == selected)});\n    this.system.writeGroups();\n    event.preventDefault();\n\n    // close if the menu controller is open\n    this.menuCtrl.close();\n  }\n\n  doCheck(event: CustomEvent, group: GroupConfig) {\n    group.visible = ! group.visible;\n    this.system.writeGroups();\n    event.preventDefault();\n  }\n\n  done() {\n    this.menuCtrl.close();\n  }\n\n  splitter(e) {\n    this.system.isSplitted = e.detail.visible;\n  }\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\n\nimport { System } from './system/system';\n\n\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [CoreModule, BrowserModule, IonicModule.forRoot(), AppRoutingModule],\n  providers: [\n    StatusBar, SplashScreen,\n    System,\n\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  bootstrap: [AppComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class AppModule {}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StdPage } from './stdpage';\n\nimport { TranslatePipe } from './translate.pipe';\nimport { TemperaturPipe } from './temp.pipe';\n\nimport { DimmerControl } from '../rendering/dimmer';\nimport { UpDownControl } from '../rendering/updown';\nimport { SwitchControl } from '../rendering/switch';\nimport { MoodControl } from '../rendering/mood';\nimport { TemperatureControl } from '../rendering/temperature';\n\n@NgModule({\n  imports: [ CommonModule, FormsModule, IonicModule],\n  providers: [TranslatePipe, TemperaturPipe],\n  declarations: [StdPage, TranslatePipe, TemperaturPipe,\n                 DimmerControl, UpDownControl, SwitchControl, TemperatureControl, MoodControl],\n  exports: [StdPage, TranslatePipe, TemperaturPipe,\n            DimmerControl, UpDownControl, SwitchControl, TemperatureControl, MoodControl],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class CoreModule {}\n","import { System } from '../system/system';\nimport { Component } from '@angular/core';\nimport { GroupConfig } from '../system/types';\nimport { Unit } from '../system/protocol';\nimport { GroupedObservable } from 'rxjs';\n\n@Component({\n  selector: 'std-page',\n  inputs: ['services', 'showUpDowns'],\n  template: `\n    <ion-list *ngIf=\"system.masters.length > 0\">\n      <ion-item-group *ngFor=\"let group of system.groups\">\n        <ion-list-header *ngIf=\"group.used && moreGroups(group)\">\n          <ion-label>{{group.name}}</ion-label>\n          <ion-icon *ngIf=\"! system.isSplitted\" [ngClass]=\"arrow(group)\" (click)=\"toggle(group)\" name=\"chevron-forward-outline\"></ion-icon>\n        </ion-list-header>\n        <ng-container *ngIf=\"group.used && group.visible\">\n          <ng-container *ngFor=\"let service of system[services]\">\n            <dimmer      [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && service.isDimmer()\"></dimmer>\n            <updown      [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && showUpDowns && service.isUpDown()\"></updown>\n            <switch      [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && service.isSwitch()\"></switch>\n            <mood        [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && (service.isMood() || service.isInput())\"></mood>\n            <temperature [service]=\"service\" *ngIf=\"(service.group == group.id) \n                                                    && service.isTemperature()\"></temperature>\n          </ng-container>\n        </ng-container>\n      </ion-item-group>\n    </ion-list>\n\n    <div *ngIf=\"system.masters.length <= 0\" class=\"noMaster\">\n      <h1>No masters yet?</h1>\n      <p>Go to the tab \"Configure\" -> \"Masters\"<br>\n        Add a master by clicking on the \"+ Master\"<br>\n        Fill out the parameters.<br>\n        <br>\n        Once your first Node or Smartbox is visible<br>\n        Click on it and select the units you want to use.<br>\n        <br>\n        Later you can split the units (switches, temperature, dimmers, scenes, ...) in multiple sections by first adding more groups.\n      </p>\n    </div>\n`})\nexport class StdPage {\n  protected services: string;\n  protected showUpDowns: boolean = true;\n\n  constructor(protected system: System) {\n  }\n\n  ngOnInit() {\n    this.system.emitter.on('refresh', this.refreshServices.bind(this));\n    console.log(\"ngOnInit - StdPage: \" + this.services);\n  }\n\n  refreshServices(event?: string) {\n    const services = this.system[this.services];\n    console.log('stdPage.refreshServices: ' + this.services + \" = \" + services.length + ' services');\n\n    // request the status of all (real) units used on this page\n    if (this.services != \"scenes\")\n      services.forEach((u: Unit) => u.reqState());\n\n    // see if a group is used\n    this.system.groups.forEach((g: GroupConfig) => g.used = services.some((u: Unit) => u.group == g.id));\n  }\n\n\n  moreGroups(group): boolean {\n    return !!this.system && !!this.system.groups && (this.system.groups.length > 1) &&\n          (!this.system.isSplitted || group.visible);\n  }\n\n\n  arrow(group: GroupConfig) {\n    return group.visible ? 'list-open' : '';\n  }\n  toggle(group: GroupConfig) {\n    group.visible = ! group.visible;\n  }\n\n}\n","// Johan, 11/11/2020\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'temp'\n})\nexport class TemperaturPipe implements PipeTransform {\n\n    transform(value: number | string): any {\n      if (value === undefined || value === null) { return '-'; }\n      if (typeof value === 'string') { value = parseInt(value); }\n      if (value > 1100 || value < 0) { return '-'; }\n\n      let intp = Math.floor(Math.abs(value / 10)) * ((value < 0) ? -1 : 1);\n      let decp = Math.round((Math.abs(value) - Math.abs(intp) * 10));\n      return `${intp},${decp}`;\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { System } from '../system/system';\nimport { translations } from './translations';\n\n@Pipe({\n  name: '_', pure: false\n})\nexport class TranslatePipe implements PipeTransform {\n\n  constructor(protected system: System) {\n  }\n\n  transform(value: string): any {\n    return Translate(value, this.system);\n  }\n}\n\nexport function Translate(value: string, system: System) {\n  if (!value) { return '[** empty **]'; }\n\n  const lan = (system && system.config && system.config.language) ?\n              system.config.language : 'EN';\n\n  if (lan === 'XX') {\n    return '[' + value + ']';\n  }\n\n  if (typeof translations[lan] === 'undefined') {\n    return '[** no-' + lan + ': ' + value + ' **]';\n  } \n\n  const tran = translations[lan][value];\n  if (typeof tran === 'undefined') {\n    return '[** no-trn: ' + value + ' **]';\n  }\n\n  return tran;\n}\n","export const translations = {\n  'NL': {\n    'Page.Control': 'Lichten',\n\n    'Page.Temperature': 'Temperatuur',\n      'Temperature.Asking': 'Gevraagd',\n      'Temperature.Off': 'Uit',\n\n    'Page.Moods': 'Sferen',\n\n    'Page.Stores': 'Rolluiken',\n\n    'Page.Config': 'Configureer',\n      'Config.Masters': 'Masters',\n        'Config.Master': 'Master',\n        'Config.Week': 'Week',\n        'Config.Holiday': 'Vakantie',\n        'Config.NoScheduleSelected': 'Geen plan geselecteerd',\n\n      'Config.Scenes': 'Scenes',\n        'Config.Scenes.scene': 'Scene',\n        'Config.Scenes.for': 'Instellingen van',\n        'Config.Scenes.triggeredBy': 'Opgeroepen door',\n        'Config.Scenes.trigger': 'Trigger',\n        'Config.Scenes.selectTriggerFor': 'Trigger voor',\n        'Config.Scenes.name': 'Naam Schene',\n        'scene.trigger.off': 'Uit',\n        'scene.trigger.on': 'Aan',\n        'scene.trigger.long': 'Lang',\n\n      'Config.Units': 'Units',\n\n      'Config.Groups': 'Groepen',\n        'Config.Group': 'Groep',\n\n      'Config.General': 'Algemeen',\n        'Config.Settings': 'Instellingen',\n        'Config.Language': 'Taal',\n        'Config.SeparateStores': 'Rolluiken apart',\n        'Config.MultipleGroups': 'Meerdere groepen',\n        'Config.Advanced': 'Geavanceerde instellingen',\n        'Config.Communication': 'Communicatie',\n        'Config.EnableAdv': 'Geavanceerde instellingen aanzetten',\n        'Config.EnterPW': 'Geef het wachtwoord',\n\n      'Config.Backup': 'Backup / Restore',\n        'Config.Backup.scenes': 'Scene definities',\n        'Config.Backup.config': 'Backup config',\n        'Config.Backup.get': 'Request config',\n        'Config.Backup.restore': 'Ontvangen',\n        'Config.Backup.send': 'Verstuur',\n        'Config.Backup.fetch': 'Haal op',\n        'Config.Backup.replace': 'Vervang',\n\n    'Node.of': 'Units van',\n\n    'General.Done': 'Klaar',\n    'General.Save': 'Bewaar',\n    'General.Cancel': 'Annuleer',\n    'General.Delete': 'Verwijder'\n},\n\n  'FR': {\n    'Page.Control': 'Lumires',\n\n    'Page.Temperature': 'Temprature',\n      'Temperature.Asking': 'Demand',\n      'Temperature.Off': 'Dsactiv',\n\n    'Page.Moods': 'Atmosphres',\n\n    'Page.Stores': 'Stores',\n\n    'Page.Config': 'Configurer',\n       'Config.Masters': 'Masters',\n         'Config.Master': 'Master',\n         'Config.Week': 'Semaine',\n         'Config.Holiday': 'Vacances',\n         'Config.NoScheduleSelected': 'Aucun plan slectionn',\n\n      'Config.Scenes': 'Scnes',\n        'Config.Scenes.scene': 'Scnes',\n        'Config.Scenes.for': 'Configuration pour',\n        'Config.Scenes.triggeredBy': 'Appell par',\n        'Config.Scenes.trigger': 'Trigger',\n        'Config.Scenes.selectTriggerFor': 'Trigger for',\n        'Config.Scenes.name': 'Nom Scne',\n        'scene.trigger.off': 'Off',\n        'scene.trigger.on': 'On',\n        'scene.trigger.long': 'Longue',\n\n      'Config.Units': 'Unit',\n\n      'Config.Groups': 'Groups',\n        'Config.Group': 'Group',\n\n      'Config.General': 'Gnral',\n        'Config.Settings': 'Paramtres',\n        'Config.Language': 'Langue',\n        'Config.SeparateStores': 'Stores spars',\n        'Config.MultipleGroups': 'Plusiers groups',\n        'Config.Advanced': 'Paramtres avancs',\n        'Config.Communication': 'Communication',\n        'Config.EnableAdv': 'Activer les paramtres avancs',\n        'Config.EnterPW': 'Entrez le mot de passe de dverrouillage',\n\n      'Config.Backup': 'Backup / Restore',\n        'Config.Backup.scenes': 'Scene definitions',\n        'Config.Backup.config': 'Backup config',\n        'Config.Backup.get': 'Request config',\n        'Config.Backup.restore': 'Reu',\n        'Config.Backup.send': 'Envoyer',\n        'Config.Backup.fetch': 'Recevoir',\n        'Config.Backup.replace': 'Remplacer',\n\n      'Node.of': 'Units de',\n\n      'General.Done': 'OK',\n      'General.Save': 'Sauver',\n      'General.Cancel': 'Annuller',\n      'General.Delete': 'Suprimer'\n  },\n\n  'EN': {\n    'Page.Control': 'Lights',\n\n    'Page.Temperature': 'Temperature',\n      'Temperature.Asking': 'Asking',\n      'Temperature.Off': 'Off',\n\n    'Page.Moods': 'Scenes',\n\n    'Page.Stores': 'Blinds',\n\n    'Page.Config': 'Configure',\n      'Config.Masters': 'Masters',\n        'Config.Master': 'Master',\n        'Config.Week': 'Week',\n        'Config.Holiday': 'Holiday',\n        'Config.NoScheduleSelected': 'No schedule selected',\n\n      'Config.Groups': 'Groups',\n        'Config.Group': 'Group',\n\n      'Config.Scenes': 'Scenes',\n        'Config.Scenes.scene': 'Scene',\n        'Config.Scenes.for': 'Settings for',\n        'Config.Scenes.triggeredBy': 'Called by',\n        'Config.Scenes.trigger': 'Trigger',\n        'Config.Scenes.selectTriggerFor': 'Trigger for',\n        'Config.Scenes.name': 'Scene name',\n        'scene.trigger.off': 'Off',\n        'scene.trigger.on': 'On',\n        'scene.trigger.long': 'Long',\n\n      'Config.Units': 'Units',\n\n      'Config.General': 'General',\n        'Config.Settings': 'Settings',\n        'Config.Language': 'Language',\n        'Config.SeparateStores': 'Blinds separate',\n        'Config.MultipleGroups': 'Multiple groups',\n        'Config.Advanced': 'Advanced Settings',\n        'Config.Communication': 'Communication',\n        'Config.EnableAdv': 'Enable Advanced Settings',\n        'Config.EnterPW': 'Enter unlock password',\n\n      'Config.Backup': 'Backup / Restore',\n        'Config.Backup.scenes': 'Scene definitions',\n        'Config.Backup.config': 'Backup config',\n        'Config.Backup.get': 'Request config',\n        'Config.Backup.restore': 'Received',\n        'Config.Backup.send': 'Send',\n        'Config.Backup.fetch': 'Fetch',\n        'Config.Backup.replace': 'Replace',\n\n      'Node.of': 'Units of',\n\n      'General.Done': 'Done',\n      'General.Save': 'Save',\n      'General.Cancel': 'Cancel',\n      'General.Delete': 'Delete'\n  }\n};\n\n\n/* old stuff from DPT\nexport default {\n  start_menu: 'Start menu',\n  scene_builder: 'Scene builder',\n  users: 'Users',\n  logout: 'Logout',\n  favorites: 'Favorites',\n  rooms: 'Rooms',\n  scenes: 'Scenes',\n  add_scene: 'Add scene',\n  cannot_be_empty: 'Cannot be empty',\n  enter_a_valid_name: 'Please enter a valid name',\n  added_scene: 'Added scene {name}',\n  selected_image: 'Selected image, press the image to take another picture.',\n  room_management_info: 'Room management info',\n  add_room: 'Add room',\n\n\n  username_label: 'Your administrator email',\n  username_login: 'John.doe@example.com',\n  password_login: 'Enter your password',\n  password_label: 'Your password',\n  name_room_label: 'The name of the room',\n  placeholder_device_name: 'Enter the name of the device.',\n\n  admin_room: 'Manage rooms',\n  admin_devices: 'Manage devices',\n  exit_admin: 'Logout',\n  admin_login: 'Admin login',\n  select_image: 'Select image',\n  image_preview: 'Image preview',\n  resolve_the_following_errors: 'Resolve the following errors:',\n  change_image: 'Change image',\n  enter_a_valid_room_name: 'Enter a valid room name',\n  user_management: 'User management',\n  settings: 'Settings',\n  devices: 'Devices',\n  updated_device: 'Updated device',\n\n  enabled_scene: 'Activated scene {name}',\n\n  deleted_room: 'Deleted room',\n\n  updated_room: 'Updated room',\n  edit_room: 'Edit room',\n  use_image: 'Use image',\n  update_room: 'Update room',\n  failed_to_update_room: 'Failed to update room',\n  failed_to_add_room:  'Failed to add room',\n  failed_to_delete_room: 'Failed to delete room',\n  failed_to_update_image: 'Failed to update image',\n  updated_image: 'Updated image',\n  manage_rooms: 'Manage rooms',\n  manage_devices: 'Manage devices',\n  there_are_currently_no_lights_in_the_system: 'There are currently no lights in the system.',\n\n  categorize_on: 'Categorize on',\n  category: 'Category',\n  type: 'Type',\n  address: 'Address',\n  name: 'Name',\n  overview: 'Overview',\n\n  click_to_change_image: 'Click to change image',\n  delete_room_info: 'Are you sure you want to delete the room: <span class=\"warning\"> {name}</span>? This action cannot be undone.',\n  there_are_currently_no_roller_shutters_in_the_system: 'There are currently no roller shutters in the system',\n  there_are_currently_no_camera_settings_in_the_system: 'There are currently no camera settings in the system',\n  there_are_currently_no_audio_devices_in_the_system: 'There are currently no audio devices in the system',\n  there_are_currently_no_temperature_settings_in_the_system: 'There are curently no temperature settings in the system',\n  there_are_currently_no_security_settings_in_the_system:' There are currently no security settings in the system',\n  there_are_currently_no_switches_in_the_system: 'There are currently no switches in the system',\n\n  installer: 'Installer',\n\n  lights: 'Lights',\n  rollershutters: 'Rollershutters',\n  security: 'Security',\n  camera: 'Camera',\n  temperature: 'Temperature',\n  switches: 'Switches',\n  audio: 'Audio',\n  wifi: 'Wifi',\n  assign_device_to_category: 'Assign device to category',\n\n  // new labels\n  displayType: 'Display type',\n  exit: 'Exit',\n  room: 'Room',\n  edit_room: 'Edit room',\n  select_an_image: 'Select an image by clicking on the button below',\n  category_1: 'Lights',\n  category_2: 'Switches',\n  category_3: 'Rollershutters',\n  category_4: 'Temperatures',\n  category_5: 'Audio',\n  category_5: 'Audio',\n\n}\n\n*/\n","export default \".dimmer {\\n  position: relative;\\n  z-index: 2; }\\n  .dimmer ion-label {\\n    display: -webkit-box;\\n    display: flex;\\n    -webkit-box-align: center;\\n            align-items: center; }\\n  .dimmer__chevron {\\n  margin-left: auto;\\n  margin-right: 10px; }\\n  .dimmer__value {\\n  font-size: 0.8rem; }\\n  ion-range {\\n  --bar-background: #fff;\\n  --knob-size: 24px;\\n  --knob-background: #fff; }\\n  ion-range ion-icon {\\n    color: var(--ion-color-primary-contrast); }\\n  .dimmer__slider {\\n  --background: var(--ion-color-dark);\\n  --border-radius: 0;\\n  position: relative;\\n  z-index: 1;\\n  margin-top: -22px;\\n  border-bottom-left-radius: var(--duotecno-border-radius);\\n  border-bottom-right-radius: var(--duotecno-border-radius); }\\n  @media (prefers-color-scheme: dark) {\\n  .dimmer__slider {\\n    --background: var(--ion-color-step-150); } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy9kaW1tZXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFrQjtFQUNsQixVQUFVLEVBQUE7RUFGZDtJQUtRLG9CQUFhO0lBQWIsYUFBYTtJQUNiLHlCQUFtQjtZQUFuQixtQkFBbUIsRUFBQTtFQUczQjtFQUNJLGlCQUFpQjtFQUNqQixrQkFBa0IsRUFBQTtFQUV0QjtFQUNJLGlCQUFpQixFQUFBO0VBRXJCO0VBQ0ksc0JBQWlCO0VBQ2pCLGlCQUFZO0VBQ1osdUJBQWtCLEVBQUE7RUFIdEI7SUFNUSx3Q0FBd0MsRUFBQTtFQUdoRDtFQUNJLG1DQUFhO0VBQ2Isa0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLHdEQUF3RDtFQUN4RCx5REFBeUQsRUFBQTtFQUU3RDtFQUNJO0lBQ0ksdUNBQWEsRUFBQSxFQUNoQiIsImZpbGUiOiJzcmMvYXBwL3JlbmRlcmluZy9kaW1tZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaW1tZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAyO1xuXG4gICAgaW9uLWxhYmVsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG59XG4uZGltbWVyX19jaGV2cm9uIHtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG4uZGltbWVyX192YWx1ZSB7XG4gICAgZm9udC1zaXplOiAwLjhyZW07XG59XG5pb24tcmFuZ2Uge1xuICAgIC0tYmFyLWJhY2tncm91bmQ6ICNmZmY7XG4gICAgLS1rbm9iLXNpemU6IDI0cHg7XG4gICAgLS1rbm9iLWJhY2tncm91bmQ6ICNmZmY7XG5cbiAgICBpb24taWNvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdCk7XG4gICAgfVxufVxuLmRpbW1lcl9fc2xpZGVyIHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDA7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gICAgbWFyZ2luLXRvcDogLTIycHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogdmFyKC0tZHVvdGVjbm8tYm9yZGVyLXJhZGl1cyk7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IHZhcigtLWR1b3RlY25vLWJvcmRlci1yYWRpdXMpO1xufVxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xuICAgIC5kaW1tZXJfX3NsaWRlciB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwKTtcbiAgICB9XG59XG4iXX0= */\"","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\n\n@Component({\n  selector: 'dimmer',\n  inputs: ['service'],\n  styleUrls: ['dimmer.scss'],\n  template: `\n    <ion-item lines=\"none\" class=\"dimmer\">\n      <ion-label tappable (click)=\"labelClick()\">{{service.getName()}}\n        <ion-icon [name]=\"arrow()\" class=\"dimmer__chevron\"></ion-icon>\n        <span class=\"dimmer__value\">{{service.value}}%</span>\n        <ion-icon class=\"state\" *ngIf=\"service.status == 2\" name=\"time\"></ion-icon>\n      </ion-label>\n\n      <ion-toggle [(ngModel)]=\"service.status\" (ionBlur)=\"change()\"></ion-toggle>\n    </ion-item>\n    <ion-item lines=\"none\" class=\"dimmer__slider\" *ngIf=\"visible()\">\n      <ion-range min=\"1\" max=\"100\" debounce=\"400\" [(ngModel)]=\"service.value\" (ionChange)=\"changeValue()\">\n        <ion-icon slot=\"start\" name=\"remove\" name=\"remove\" (click)=\"changeValue(-5)\"></ion-icon>\n        <ion-icon slot=\"end\" name=\"add\" name=\"add\" (click)=\"changeValue(5)\"></ion-icon>\n      </ion-range>\n    </ion-item>\n  `})\n\n  export class DimmerControl {\n    protected service: Unit;\n    private force: boolean = false;\n\n    visible() {\n      return this.force; // || this.service.status;\n    }\n\n    arrow() {\n      return (this.visible()) ? 'chevron-up' : 'chevron-down';\n    }\n\n    labelClick() {\n      this.force = ! this.force;\n    }\n\n    change() {\n      if (this.service.status == 2) {\n      } else {\n        this.service.setState(!!this.service.status);\n      }\n    }\n    changeValue(delta) {\n      if (delta) { (<number>this.service.value) += delta; }\n      this.service.setState(this.service.value);\n    }\n  }\n","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'mood',\n  inputs: ['service'],\n  styles: ['ion-button { width: 25px; height: 25px }'],\n  template: `\n    <ion-item lines=\"none\">\n      <ion-label>{{service.name}}</ion-label>\n      <ion-button slot=\"end\" shape=\"round\" [color]=\"moodColor()\"\n              (mousedown)=\"down($event)\" (mouseup)=\"up($event)\"\n              (touchstart)=\"down($event)\" (touchend)=\"up($event)\"></ion-button>\n    </ion-item>\n  `})\n\nexport class MoodControl {\n  protected service: Unit;\n  protected pressed: any = 0;\n\n  constructor(private toastCtrl: ToastController) { }\n\n  async toast(message: string) {\n    const toast = await this.toastCtrl.create({\n      message, duration: 1000, position: 'top'\n    });\n    toast.present();\n  }\n\n  moodColor() {\n    return this.service.status ? 'primary' : (this.service.isInput() ? 'warning' : 'medium');\n  }\n\n  down(ev) {\n    ev.preventDefault();\n\n     // send long event after 1Sec\n    this.pressed = setTimeout(() => {\n      this.toast(this.service.name + ' - long on');\n      this.service.setState(1);\n      this.pressed = -1;\n    }, 1000);\n  }\n\n  up(ev) {\n    ev.preventDefault();\n\n    if (this.pressed === -1) {\n      // we've already send a long \"on\"\n      this.toast(this.service.name + ' - long off');\n      this.service.setState(0);\n\n    } else if (this.pressed) {\n      // stop timer for long and send short\n      clearTimeout(this.pressed);\n      this.toast(this.service.name + ' - short');\n      this.service.setState(-1); // short event\n    }\n  }\n\n}","export default \".item ion-label {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n.state {\\n  margin-left: auto;\\n  font-size: 0.8rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy9zd2l0Y2guc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUIsRUFBQTs7QUFFdkI7RUFDSSxpQkFBaUI7RUFDakIsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9yZW5kZXJpbmcvc3dpdGNoLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaXRlbSBpb24tbGFiZWwge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5zdGF0ZSB7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgZm9udC1zaXplOiAwLjhyZW07XG59Il19 */\"","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\n\n@Component({\n  selector: 'switch',\n  inputs: ['service'],\n  styleUrls: ['switch.scss'],\n  template: `\n    <ion-item lines=\"none\">\n      <ion-label tappable (click)=\"toggle(service)\">\n        {{service.getName()}}\n        <ion-icon class=\"state\" *ngIf=\"service.status === 2\" name=\"time\" color=\"primary\"></ion-icon>\n      </ion-label>\n\n      <ion-toggle [(ngModel)]=\"service.status\" \n                  (ionBlur)=\"change(service)\"></ion-toggle>\n    </ion-item>\n  `})\n\nexport class SwitchControl {\n  protected service: Unit;\n\n  change(unit: Unit) {\n    if (this.service.status == 2) {\n    } else {\n      unit.setState(unit.status);\n    }\n  }\n  toggle(unit: Unit) {\n    unit.setState(!unit.status);\n  }\n\n}\n","export default \".temp,\\n.presets {\\n  margin-bottom: 40px;\\n  padding: 20px;\\n  border-radius: var(--duotecno-border-radius);\\n  background: #fff; }\\n\\n.temp {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-bottom: 10px; }\\n\\n.temp__name {\\n    font-weight: 700; }\\n\\n.temp__current {\\n    margin: 15px 0;\\n    font-size: 3.5rem;\\n    font-weight: 700; }\\n\\n.temp__current .temp__celcius {\\n      font-size: 1.5rem;\\n      line-height: 1.8;\\n      font-weight: 400; }\\n\\n.temp__celcius {\\n    margin-bottom: 5px;\\n    margin-left: 2px;\\n    font-size: 0.7rem;\\n    vertical-align: text-top; }\\n\\n.temp__data {\\n    width: calc(100% - 90px); }\\n\\n.temp ion-buttons {\\n    display: -webkit-box;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n            flex-direction: column;\\n    width: 90px; }\\n\\n.temp ion-button {\\n    --background: var(--ion-background-color);\\n    --background-hover: var(--ion-background-color);\\n    --border-radius: 4px;\\n    --color: var(--ion-color-dark);\\n    width: 70px;\\n    height: 70px;\\n    margin: 10px; }\\n\\n.temp ion-button ion-icon {\\n      font-size: 3rem; }\\n\\n.presets {\\n  padding-bottom: 0; }\\n\\n.presets ion-buttons {\\n    display: -webkit-box;\\n    display: flex;\\n    -webkit-box-pack: justify;\\n            justify-content: space-between; }\\n\\n.presets ion-button {\\n    --color: var(--ion-color-dark);\\n    width: 40px;\\n    height: 40px; }\\n\\n.presets .icons ion-button {\\n    --background: var(--ion-background-color);\\n    --background-hover: var(--ion-background-color);\\n    --border-radius: 4px; }\\n\\n.presets .icons ion-button.preset-active {\\n      --background: var(--ion-color-primary);\\n      --background-hover: var(--ion-color-primary);\\n      --color: #fff; }\\n\\n.presets .icontext ion-button {\\n    font-size: 0.8rem; }\\n\\n.presets .icontext ion-button .temp__celcius {\\n      font-size: 0.5rem; }\\n\\n@media (min-width: 375px) {\\n  .temp__current {\\n    font-size: 4.8rem; }\\n    .temp__current .temp__celcius {\\n      font-size: 2rem;\\n      line-height: 1.8; }\\n  .presets ion-button {\\n    width: 50px;\\n    height: 50px; }\\n  .presets .icontext ion-button {\\n    font-size: 1rem; }\\n    .presets .icontext ion-button .temp__celcius {\\n      font-size: 0.7rem; } }\\n\\n@media (prefers-color-scheme: dark) {\\n  .temp,\\n  .presets {\\n    background: var(--ion-color-step-150); } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy90ZW1wZXJhdHVyZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUdJLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsNENBQTRDO0VBQzVDLGdCQUFnQixFQUFBOztBQUVwQjtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsbUJBQW1CLEVBQUE7O0FBRW5CO0lBQ0ksZ0JBQWdCLEVBQUE7O0FBRXBCO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixnQkFBZ0IsRUFBQTs7QUFIbkI7TUFNTyxpQkFBaUI7TUFDakIsZ0JBQWdCO01BQ2hCLGdCQUFnQixFQUFBOztBQUd4QjtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLHdCQUF3QixFQUFBOztBQUU1QjtJQUNJLHdCQUF3QixFQUFBOztBQTFCaEM7SUE2QlEsb0JBQWE7SUFBYixhQUFhO0lBQ2IsNEJBQXNCO0lBQXRCLDZCQUFzQjtZQUF0QixzQkFBc0I7SUFDdEIsV0FBVyxFQUFBOztBQS9CbkI7SUFrQ1EseUNBQWE7SUFDYiwrQ0FBbUI7SUFDbkIsb0JBQWdCO0lBQ2hCLDhCQUFRO0lBQ1IsV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZLEVBQUE7O0FBeENwQjtNQTJDWSxlQUFlLEVBQUE7O0FBSTNCO0VBQ0ksaUJBQWlCLEVBQUE7O0FBRHJCO0lBSVEsb0JBQWE7SUFBYixhQUFhO0lBQ2IseUJBQThCO1lBQTlCLDhCQUE4QixFQUFBOztBQUx0QztJQVFRLDhCQUFRO0lBQ1IsV0FBVztJQUNYLFlBQVksRUFBQTs7QUFWcEI7SUFhUSx5Q0FBYTtJQUNiLCtDQUFtQjtJQUNuQixvQkFBZ0IsRUFBQTs7QUFmeEI7TUFrQlksc0NBQWE7TUFDYiw0Q0FBbUI7TUFDbkIsYUFBUSxFQUFBOztBQXBCcEI7SUF3QlEsaUJBQWlCLEVBQUE7O0FBeEJ6QjtNQTJCWSxpQkFBaUIsRUFBQTs7QUFLN0I7RUFFUTtJQUNJLGlCQUFpQixFQUFBO0lBRHBCO01BSU8sZUFBZTtNQUNmLGdCQUFnQixFQUFBO0VBSTVCO0lBRVEsV0FBVztJQUNYLFlBQVksRUFBQTtFQUhwQjtJQU1RLGVBQWUsRUFBQTtJQU52QjtNQVNZLGlCQUFpQixFQUFBLEVBQ3BCOztBQUliO0VBQ0k7O0lBRUkscUNBQXFDLEVBQUEsRUFDeEMiLCJmaWxlIjoic3JjL2FwcC9yZW5kZXJpbmcvdGVtcGVyYXR1cmUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZW1wLFxuLnByZXNldHNcbiB7XG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWR1b3RlY25vLWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG59XG4udGVtcCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAmX19uYW1lIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICB9XG4gICAgJl9fY3VycmVudCB7XG4gICAgICAgIG1hcmdpbjogMTVweCAwO1xuICAgICAgICBmb250LXNpemU6IDMuNXJlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcblxuICAgICAgICAudGVtcF9fY2VsY2l1cyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICB9XG4gICAgfVxuICAgICZfX2NlbGNpdXMge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC43cmVtO1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XG4gICAgfVxuICAgICZfX2RhdGEge1xuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gOTBweCk7XG4gICAgfVxuICAgIGlvbi1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgd2lkdGg6IDkwcHg7XG4gICAgfVxuICAgIGlvbi1idXR0b24ge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAtLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICAgIHdpZHRoOiA3MHB4O1xuICAgICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICAgIG1hcmdpbjogMTBweDtcblxuICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDNyZW07XG4gICAgICAgIH1cbiAgICB9XG59XG4ucHJlc2V0cyB7XG4gICAgcGFkZGluZy1ib3R0b206IDA7XG5cbiAgICBpb24tYnV0dG9ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICB9XG4gICAgaW9uLWJ1dHRvbiB7XG4gICAgICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICB9XG4gICAgLmljb25zIGlvbi1idXR0b24ge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogNHB4O1xuXG4gICAgICAgICYucHJlc2V0LWFjdGl2ZSB7XG4gICAgICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIC0tYmFja2dyb3VuZC1ob3ZlcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgICAgLS1jb2xvcjogI2ZmZjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAuaWNvbnRleHQgaW9uLWJ1dHRvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuXG4gICAgICAgIC50ZW1wX19jZWxjaXVzIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC41cmVtO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5AbWVkaWEgKG1pbi13aWR0aDogMzc1cHgpIHtcbiAgICAudGVtcCB7XG4gICAgICAgICZfX2N1cnJlbnQge1xuICAgICAgICAgICAgZm9udC1zaXplOiA0LjhyZW07XG5cbiAgICAgICAgICAgIC50ZW1wX19jZWxjaXVzIHtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAucHJlc2V0cyB7XG4gICAgICAgIGlvbi1idXR0b24ge1xuICAgICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmljb250ZXh0IGlvbi1idXR0b24ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIFxuICAgICAgICAgICAgLnRlbXBfX2NlbGNpdXMge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xuICAgIC50ZW1wLFxuICAgIC5wcmVzZXRzIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwKTtcbiAgICB9XG59Il19 */\"","import { Component } from '@angular/core';\nimport { Unit } from '../system/protocol';\n\n@Component({\n  selector: 'temperature',\n  inputs: ['service'],\n  styleUrls: ['temperature.scss'],\n  template: `\n    <div class=\"temp\">\n      <div class=\"temp__data\">\n        <div class=\"temp__name\">\n          {{service.getName()}}\n          <ion-icon *ngIf=\"service.preset >= 0\" class=\"right\" [color]=\"colorTemp()\" name=\"thermometer\"></ion-icon>\n          <!--span class=\"right\">{{statusTemp()}}</span -->\n        </div>\n        <div class=\"temp__current\">{{service.value | temp}}<span class=\"temp__celcius\">C</span></div>\n        <div class=\"temp__asking\">{{ \"Temperature.Asking\" |_ }}: {{ getTemp() | temp}}<span class=\"temp__celcius\">C</span></div>\n      </div>\n\n      <ion-buttons>\n        <ion-button fill=\"solid\" slot=\"icon-only\" (click)=\"incDecTemp(true)\">\n          <ion-icon name=\"chevron-up\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" (click)=\"incDecTemp(false)\">\n          <ion-icon name=\"chevron-down\"></ion-icon></ion-button>\n      </ion-buttons>\n    </div>\n\n    <div class=\"presets\">\n      <ion-buttons class=\"icons\">\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(-1)\" (click)=\"changePreset(-1)\">\n          <ion-icon name=\"close-outline\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(1)\" (click)=\"changePreset(1)\">\n          <ion-icon src=\"/assets/icon/hsun.svg\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(0)\" (click)=\"changePreset(0)\">\n          <ion-icon name=\"sunny\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(3)\" (click)=\"changePreset(3)\">\n          <ion-icon src=\"/assets/icon/hmoon.svg\"></ion-icon></ion-button>\n        <ion-button fill=\"solid\" slot=\"icon-only\" [ngClass]=\"colorPreset(2)\" (click)=\"changePreset(2)\">\n          <ion-icon name=\"moon-sharp\"></ion-icon></ion-button>\n      </ion-buttons>\n\n      <ion-buttons class=\"icontext\">\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(-1)\" color=\"dark\">\n          {{ \"Temperature.Off\" |_ }}</ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(1)\" color=\"dark\">\n          {{service.hsun | temp}}<span class=\"temp__celcius\">C</span></ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(0)\" color=\"dark\">\n          {{service.sun | temp}}<span class=\"temp__celcius\">C</span></ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(3)\" color=\"dark\">\n          {{service.hmoon | temp}}<span class=\"temp__celcius\">C</span></ion-button>\n        <ion-button fill=\"clear\" mode=\"ios\" (click)=\"changePreset(2)\" color=\"dark\">\n          {{service.moon | temp}}<span class=\"temp__celcius\">C</span></ion-button>\n      </ion-buttons>\n    </div>\n  `})\n\n/*\n  unit.status => 0=idle, 1=heating, 2=cooling\n  unit.preset => 0=sun, 1=half sun, 2=moon, 3=half moon, -1=off\n  unit.sun    => 10x temperature\n  unit.hsun   => 10x temperature\n  unit.moon   => 10x temperature\n  unit.hmoon  => 10x temperature\n  unit.value  => 10x temperature\n*/\n\n  export class TemperatureControl {\n    protected service: Unit;\n\n    colorTemp(): string {\n      if (this.service.status == 1) {\n        return 'danger';\n      }\n      else if (this.service.status == 2) {\n        return 'cool';\n      }\n      else {\n        return 'light';\n      }\n    }\n\n    statusTemp(): string {\n      if (this.service.status == 1) {\n        return 'Heating';\n      }\n      else if (this.service.status == 2) {\n        return 'Cooling';\n      }\n      else if (this.service.status == 0) {\n        return 'Off';\n      }\n      else {\n        return '-';\n      }\n    }\n\n    colorPreset(preset) {\n      return (this.service.preset === preset) ? 'preset-active' : '';\n    }\n\n    getTemp(): number {\n      switch (this.service.preset) {\n        case 0: return this.service.sun;\n        case 1: return this.service.hsun;\n        case 2: return this.service.moon;\n        case 3: return this.service.hmoon;\n      }\n    }\n\n    incDecTemp(inc: boolean) {\n      this.service.doIncDecPreset(inc);\n    }\n    changeTemp(delta: number) {\n      this.service.setPreset(this.service.preset, <number>this.service.value + delta);\n    }\n    changePreset(preset: number) {\n      if (preset == -1) {\n        this.service.sensorOnOff(false);\n\n      } else {\n        this.service.sensorOnOff(true);\n        this.service.preset = preset;\n        this.service.temp = this.getTemp();\n        this.service.selectPreset(preset);\n      }\n    }\n\n  }\n","export default \"ion-buttons {\\n  margin: 0; }\\n\\n.ios ion-button, .md ion-button {\\n  --background: var(--ion-background-color);\\n  --background-hover: var(--ion-background-color);\\n  --border-radius: 4px;\\n  margin-left: 10px; }\\n\\n.ios ion-button ion-icon, .md ion-button ion-icon {\\n    color: var(--ion-color-dark); }\\n\\n.ios ion-button ion-icon.active, .md ion-button ion-icon.active {\\n      color: var(--ion-color-secondary); }\\n\\n.ios ion-button ion-icon.done, .md ion-button ion-icon.done {\\n      color: var(--ion-color-primary); }\\n\\n.item ion-label {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n.state {\\n  margin-left: auto;\\n  font-size: 0.8rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9Qcm9qZWN0cy9EdW90ZWNuby9zbWFydHN5c3RlbS9zcmMvYXBwL3JlbmRlcmluZy91cGRvd24uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFNBQVMsRUFBQTs7QUFFYjtFQUVRLHlDQUFhO0VBQ2IsK0NBQW1CO0VBQ25CLG9CQUFnQjtFQUNoQixpQkFBaUIsRUFBQTs7QUFMekI7SUFRWSw0QkFBNEIsRUFBQTs7QUFSeEM7TUFXZ0IsaUNBQWlDLEVBQUE7O0FBWGpEO01BY2dCLCtCQUErQixFQUFBOztBQUsvQztFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtVQUFuQixtQkFBbUIsRUFBQTs7QUFFdkI7RUFDSSxpQkFBaUI7RUFDakIsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9yZW5kZXJpbmcvdXBkb3duLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYnV0dG9ucyB7XG4gICAgbWFyZ2luOiAwO1xufVxuLmlvcywgLm1kIHtcbiAgICBpb24tYnV0dG9uIHtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIC0tYmFja2dyb3VuZC1ob3ZlcjogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgICAtLWJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG5cbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcblxuICAgICAgICAgICAgJi5hY3RpdmUge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICYuZG9uZSB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi5pdGVtIGlvbi1sYWJlbCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnN0YXRlIHtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBmb250LXNpemU6IDAuOHJlbTtcbn1cbiJdfQ== */\"","import { Component } from '@angular/core';\nimport { Unit, UnitMotorCmd, UnitState } from '../system/protocol';\n\n@Component({\n  selector: 'updown',\n  inputs: ['service'],\n  styleUrls: ['updown.scss'],\n  template: `\n    <ion-item lines=\"none\" class=\"updown\">\n      <ion-label>{{service.getName()}}\n        <span class=\"state\">{{state()}}</span>\n      </ion-label>\n\n      <ion-buttons slot=\"end\">\n        <ion-button size=\"small\" slot=\"icon-only\" (click)=\"doDown(service)\">\n          <ion-icon name=\"caret-down\" [ngClass]=\"colorDown()\"></ion-icon></ion-button>\n        <ion-button size=\"small\" slot=\"icon-only\" (click)=\"doStop(service)\">\n          <ion-icon name=\"stop\"></ion-icon></ion-button>\n        <ion-button size=\"small\" slot=\"icon-only\" (click)=\"doUp(service)\" [ngClass]=\"colorUp()\">\n          <ion-icon name=\"caret-up\" [ngClass]=\"colorUp()\"></ion-icon></ion-button>\n      </ion-buttons>\n    </ion-item>\n  `})\n\n  export class UpDownControl {\n    protected service: Unit;\n\n    state() {\n      return this.service.getDispayState();\n    }\n    stateColor() {\n      if ((this.service.status === UnitState.kOpen) || (this.service.status === UnitState.kClosed)) {\n        return 'done';\n      }\n      else if ((this.service.status === UnitState.kOpening) || (this.service.status === UnitState.kClosing)) {\n        return 'active';\n      }\n      else {\n        return '';\n      }\n    }\n\n    colorUp() {\n      if (this.service.status === UnitState.kOpen) {\n        return 'done';\n      }\n      else if (this.service.status === UnitState.kOpening) {\n        return 'active';\n      }\n      else {\n        return '';\n      }\n    }\n    doUp() {\n      this.service.setState(UnitMotorCmd.kOpen);\n    }\n\n    colorDown() {\n      if (this.service.status === UnitState.kClosed) {\n        return 'done';\n      }\n      else if (this.service.status === UnitState.kClosing) {\n        return 'active';\n      }\n      else {\n        return '';\n      }\n    }\n    doDown() {\n      this.service.setState(UnitMotorCmd.kClose);\n    }\n\n    doStop() {\n      this.service.setState(UnitMotorCmd.kStop);\n    }\n\n  }\n","import { LogFunction } from './types';\n\nexport class Q {\n  private timer = null;\n  private queue = [];\n  logger: LogFunction;\n\n  constructor(logger: LogFunction) {\n    this.logger = logger || console.log;\n  }\n\n  exec(fn) {\n    const len = this.queue.length;\n    this.queue.push(fn);\n\n    // start timer to execute this functon if nobody else calls \"do\"\n    this.logger('*Q* exec, we\\'ve put stuff in the queue, start ' + (len ? 'long timer' : 'short timer'));\n    this.startWaiter(len ? 500 : 0);\n  }\n\n  endWaiter() {\n    if (this.timer) {\n      // this.logger(\"*Q* Waiter: clearing timer\");\n      clearTimeout(this.timer);\n    }\n  }\n\n  startWaiter(mSecs = 1000) {\n    this.endWaiter();\n\n    // this.logger(\"*Q* Waiter: starting timer for \" + mSecs + \" mSec\");\n    this.timer = setTimeout(() => {\n      this.logger('*Q* Waiter: timer finished, calling \\'do\\' because nobody else did');\n      this.do();\n    }, mSecs);\n  }\n\n  do() {\n    this.logger('*Q* Do, qlen='+ this.queue.length);\n\n    // Get the oldest function and execute\n    if (this.queue.length > 0) {\n      const fn = this.queue[0];\n      this.queue.splice(0, 1);\n      // this.logger(\"*Q* Do: calling function\");\n      fn();\n    }\n\n    // Still stuff to execute\n    if (this.queue.length > 0) {\n      // this.logger(\"*Q* Do, still stuff in the queue, start timer\");\n      this.startWaiter();\n    } else {\n      this.endWaiter();\n    }\n  }\n}","import { Protocol } from './protocol';\nimport { LogFunction } from './types';\n\n\n///////////////\n// Log Class //\n///////////////\n\nexport class Logger {\n  debug: boolean;\n  type: string;\n  logger: LogFunction;\n\n  constructor(type: string, debug: boolean = false) {\n    this.logger = (debug) ? console.log : function() {};\n    Protocol.setLogger(this.logger);\n\n    this.debug = debug || false;\n    this.type = type || 'base';\n  }\n\n  info(msg: string) {\n    if (this.debug) {\n      this.logger(this.type + ' - ' + msg);\n    }\n  }\n  log(msg: string) {\n    this.logger(this.type + ' - ' + msg);\n  }\n  err(msg: string) {\n    this.logger(this.type + ' - *** ' + msg + ' ***');\n  }\n\n}\n","import { Node, Protocol, Unit, recName, Rec } from \"./protocol\";\nimport { MasterConfig, WriteError, CommRecord, Message, Sanitizers } from \"./types\";\nimport { System } from \"./system\";\nimport { Logger } from \"./logger\";\n\nimport { Q } from \"./Q\";\nimport { ToastController } from \"@ionic/angular\";\n// import { Socket } from \"cz.blocshop.socketsforcordova/socket.js\";\n\nexport class Master extends Logger {\n\n  private system: System;\n  public nodes: Array<Node>;\n  public nrNodes: number;\n  public schedule: number;\n\n  public isOpen: boolean;\n  public isLoggedIn: boolean;\n  private resolveLogin = null;\n  private closeRequested: boolean;\n  private buffer: string;\n\n  private Q: Q;\n\n  config: MasterConfig;\n  private socket: WebSocket; //  Socket;\n\n  // command was sent, no response received yet\n\n  /*  V2: no groups (store separate in \"config.groups\")\n\n  system.config: {\n    \"socketserver\": \"akiworks.be\",\n    \"socketport\": 9999,\n    \"language\": \"EN\",\n    \"stores\": true,\n    \"multiple\": true,\n    \"cmasters\": [\n      { \"name\": \"Roos\",\n        \"address\": \"141.135.240.51\",\n        \"port\": 5001,\n        \"password\": \"duotecno\",\n        \"debug\": true,\n        \"active\": true\n      }, ...],\n    \"cnodes\": [\n      { \"active\": \"Y\",\n        \"masterAddress\": \"141.135.240.51\",\n        \"masterPort\": 5001,\n        \"logicalAddress\": 7\n      }, ...],\n    \"cunits\": [\n      { \"active\": \"Y\",\n        \"group\": \"1\",\n        \"masterAddress\": \"141.135.240.51\",\n        \"masterPort\": 5001,\n        \"logicalNodeAddress\": 7,\n        \"logicalAddress\": 0\n      }, ...\n    ]\n  }\n\n\n  V3 (no cnodes):\n\n  system.config: {\n    \"socketserver\": \"akiworks.be\",\n    \"socketport\": 9999,\n    \"language\": \"EN\",\n    \"stores\": true,\n    \"multiple\": true,\n    \"remotescenes\": true,\n    \"cmasters\": [\n      { \"name\": \"Roos\",\n        \"address\": \"141.135.240.51\",\n        \"port\": 5001,\n        \"password\": \"duotecno\",\n        \"debug\": true,\n        \"active\": true\n      }, ...],\n    \"cunits\": [\n      { \"active\": \"Y\",\n        \"group\": \"1\",\n        \"masterAddress\": \"141.135.240.51\",\n        \"masterPort\": 5001,\n        \"logicalNodeAddress\": 7,\n        \"logicalAddress\": 0\n      }, ...\n    ]\n  }\n\n\n  V4 (no cunits): -- still needed ??\n\n   system.config: {\n    \"version\": 3,\n    \"socketserver\": \"akiworks.be\",\n    \"socketport\": 9999,\n    \"language\": \"EN\",\n    \"stores\": true,\n    \"debug\": true,\n    \"multiple\": true,\n    \"remotescenes\": true,\n    \"masters\": [\n      { \"name\": \"Roos\",\n        \"address\": \"141.135.240.51\",\n        \"port\": 5001,\n        \"password\": \"duotecno\",\n        \"active\": true,\n        \"nodes\": [\n          { \"active\": \"Y\",\n            \"logicalAddress\": 7,\n            \"units\": [\n              { \"active\": \"Y\",\n                \"group\": \"1\",\n                \"logicalAddress\": 0\n              }, ...\n            ]\n          }, ...]\n      }, ...]\n   }\n  */\n\n  constructor(system: System, config: MasterConfig, private toastCtrl: ToastController) {\n    super(\"master\", system.debug);\n    this.Q = new Q(system.logger);\n\n    // save my eco system\n    this.system = system;\n\n    // save this masters config settings\n    this.config = Sanitizers.masterConfig(config);\n\n    // all nodes in this master\n    this.nodes = [];\n    this.nrNodes = 0;\n    this.schedule = 0;\n\n    // connection to an IP node / smartbox\n    this.socket = null;\n    this.isOpen = false;\n    this.isLoggedIn = false;\n    this.closeRequested = false;\n\n    // incoming data\n    this.buffer = \"\";\n  }\n\n  async toast(message: string) {\n    const toast = await this.toastCtrl.create({\n      message, duration: 1000, position: \"top\"\n    });\n    toast.present();\n  }\n\n  getName() {\n    return this.config.name || \"master\";\n  }\n  getSort() {\n    return this.getName().toLowerCase();\n  }\n\n  log(msg: string) {\n    // overwrite to add IP address\n    super.log(this.type + \" \" + this.getAddress() + \": \" + msg);\n  }\n\n  writeConfig(config?: object, fn?: string) {\n    // overwrite: don't do anything, all is stored in the system-config\n  }\n\n  getConfig(): MasterConfig {\n    return this.config;\n  }\n  hasAddress(ip: string): boolean {\n    return this.config.address === ip;\n  }\n  getAddress(): string {\n    return this.config.address;\n  }\n  isMaster(ip: string, port: number) {\n    return this.hasAddress(ip) && this.hasPort(port);\n  }\n  getPort(): number {\n    return this.config.port;\n  }\n  hasPort(port: number): boolean {\n    return this.config.port == port;\n  }\n\n  inMultiNode(): boolean {\n    return (this.nodes.length > 1);\n  }\n\n  same(master: Master | string, port?: number): boolean {\n    if (typeof master === \"string\") {\n      if (typeof port === \"undefined\") port = 5001;\n      return this.hasAddress(master) && this.hasPort(port);\n    } else {\n      return master && this.hasAddress(master.getAddress()) && this.hasPort(master.getPort());\n    }\n  }\n\n\n  /* ************* */\n  /* Communication */\n  /* ************* */\n  async open(): Promise<boolean> {\n    // if (this.system.isBrowser)\n      return this.openWeb();\n    // else\n    //  return this.openTCP();\n  }\n  async openTCP(): Promise<boolean> {\n    return this.openWeb();\n  /*\n    return new Promise((resolve, reject) => {\n      try {\n        ////////////////////////////////\n        // try to open the connection //\n        this.log(\"opening connection to direct TCP Socket\");\n        this.socket = new Socket();\n        if (!this.socket) {\n          throw(new Error(\"could create new tcp socket\"));\n          resolve(false);\n        }\n\n        ///////////////////////\n        // set data listener //\n        this.socket.onData = (message) => {\n          // messages need to be buffered until \"]\" is received\n          this.handleData(message);\n        };\n\n        ///////////////////////////\n        // set an error listener //\n        this.socket.onError = (err) => {\n          this.err(\"TCP Socket: \" + err);\n        };\n\n        ///////////////////////////////////////////\n        // set end: the server closed the socket //\n        this.socket.onClose = (err) => {\n          this.isOpen = false;\n          this.isLoggedIn = false;\n          this.log(\"end -> socket got disconnected\");\n\n          if (!this.closeRequested) {\n            // unexpected close\n            this.err(\"Socket: closed unexpectedly -> \" + err);\n          }\n        };\n\n        this.socket.open(this.config.address, this.config.port,\n          () => {\n            this.log(\"connection open on \" + this.getAddress() + \" on port \" + this.getPort());\n            this.isOpen = true;\n            resolve(this.socket);\n          },\n          (err) => {\n            this.err(\"Failed to open a connection to \" + this.getAddress() + \" on port \" + this.getPort());\n            resolve(false);\n          }\n        );\n\n      } catch(e) {\n        this.err(\"Failed to open a connection to \" + this.getAddress() + \" on port \" + this.getPort());\n        resolve(false);\n      }\n    });\n    */\n  }\n  async openWeb(): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      try {\n        ////////////////////////////////\n        // try to open the connection //\n        this.log(\"opening connection to the SmartSocket Server\");\n        const wsserver = this.system.config.socketserver + \":\" + this.system.config.socketport;\n        const tcpserver = this.config.address + \":\" + this.config.port;\n        this.socket = new WebSocket(\"ws://\" + wsserver + \"/\" + tcpserver);\n        if (!this.socket) {\n          this.err(\"could create new web socket to \" + wsserver + \"/\" + tcpserver);\n          resolve(false);\n         }\n \n        ///////////////////////\n        // set data listener //\n        this.socket.onmessage = (message) => {\n          // messages need to be buffered until \"]\" is received\n          this.handleData(message.data);\n        };\n\n        ///////////////////////////\n        // set an error listener //\n        this.socket.onerror = (err) => {\n          this.err(\"Socket: \" + err + \" on \" + wsserver + \"/\" + tcpserver);\n        };\n\n        ///////////////////////////////////////////\n        // set end: the server closed the socket //\n        this.socket.onclose = () => {\n          this.isOpen = false;\n          this.isLoggedIn = false;\n          this.log(\"end -> socket got disconnected\");\n\n          if (!this.closeRequested) {\n            // unexpected close\n            this.err(\"Socket: closed unexpectedly\");\n          }\n        };\n\n        this.socket.onopen = () => {\n          this.isOpen = true;\n\n          // request a connection to the real socket\n          this.log(\"connection open on \" + wsserver + \"/\" + tcpserver);\n\n          // resolve our promise with the opened socket\n          resolve(true);\n        };\n\n\n      } catch (e) {\n        this.err(\"Failed to open a connection on port \" + this.getPort());\n        resolve(false);\n      }\n    });\n  }\n\n\n  async close() {\n    if (this.isOpen) {\n      const message = Protocol.buildDisconnect();\n      try {\n        this.closeRequested = true;\n        await this.send(message);\n        // server will close the socket, no need to call socket.close()\n\n      } catch (err) {\n        this.err(\"Disconnect failure: \" + err);\n      }\n    }\n  }\n\n  async login() {\n    return new Promise((resolve, reject) => {\n      const message = Protocol.buildLogin(this.config.password)\n      try {\n        Protocol.write(this.socket, message);\n        // to be called when logged in\n        this.resolveLogin = resolve;\n\n      } catch (err) {\n        this.resolveLogin = null;\n        this.err(\"Login call failed: \" + err);\n        reject(false);\n      }\n    });\n  }\n\n  getSocket(): WebSocket {\n    return this.socket;\n  }\n\n  async send(message: Message) {\n    return this.Q.exec(async () => {\n      if (! this.isOpen) {\n        await this.open();\n        if (! await this.login()) {\n          return WriteError.writeFatal;\n        }\n      }\n      return Protocol.write(this.socket, message);\n    });\n  }\n\n  handleData(message: string) {\n    // put the incoming data into a buffer and only use complete data\n    this.buffer += message;\n\n    while ((this.buffer.length > 0) && this.processData()) {\n    }\n  }\n\n  processData(): boolean {\n    // fetch next message and store the rest of unused data (if any)\n    const next = Protocol.nextMessage(this.buffer);\n    this.buffer = next.rest;\n\n    if (!next.cmd) {\n      return false;\n\n    } else {\n      this.log(\"incoming msg=\" + recName(next.cmd) + \", status=\" + next.isStatus +\n      \", data=\" + ((next.message) ? next.message.join(\",\") : \"--\"));\n\n      this.Q.do();\n\n      if (next.isStatus) {\n        this.receiveStatus(next);\n\n      } else if (next.cmd === Rec.Info) {\n        this.receiveInfo(next);\n\n      } else if (next.cmd === Rec.ConnectStatus) {\n        this.receiveLogin(next.message);\n\n      } else if (next.cmd === Rec.ScheduleStatus) {\n        this.receiveSchedule(next.message);\n\n      } else if (next.cmd === Rec.Internal) {\n        this.receiveInternal(next.raw);\n\n      } else {\n        this.log(\"what to do with: \" + next.message);\n\n      }\n      return true;\n    }\n  }\n\n  ///////////////////////\n  // Internal messages //\n  ///////////////////////\n  receiveInternal(msg: string) {\n    const separ = msg.indexOf(\":\");\n    if (separ < 0) return;\n\n    const type = msg.substr(5, separ-5);\n    const data = msg.substr(type.length+6, msg.length-type.length-6);\n\n    if (msg[2] === 'R') {\n      this.system.doReceiveBackup(type, data);\n    }\n  }\n\n  ///////////////////\n  // Login message //\n  ///////////////////\n\n  receiveLogin(message: Message) {\n    this.isLoggedIn = (message[2] === 1);\n\n    if (this.resolveLogin) {\n      this.toast(\"Login \" + (this.isLoggedIn ? \"OK\" : \"FAIL\") + \" for \" + this.config.address);\n      this.resolveLogin(this.isLoggedIn);\n      this.resolveLogin = null;\n    } else {\n      this.err(\"unexpected ConnectStatus ?\");\n    }\n  }\n\n  ///////////////////\n  // Info messages //\n  ///////////////////\n\n  receiveInfo(next: CommRecord) {\n    if (next.message[1] === Rec.DBInfo) {\n      this.receiveDBInfo(next.message);\n\n    } else if (next.message[1] === Rec.NodeInfo) {\n      this.receiveNodeInfo(next.message);\n\n    } else if (next.message[1] === Rec.UnitInfo) {\n      this.receiveUnitInfo(next.message);\n\n    } else {\n      this.err(\"What is this? info type = \" + next.message[1] + \", message: \" + next.message);\n    }\n    this.system.triggerRebuild();\n  }\n\n  receiveSchedule(message: Message) {\n    this.schedule = message[2];\n    this.info(\"received week schedule = \" + this.schedule);\n  }\n\n  receiveDBInfo(message: Message) {\n    const dbInfo = Protocol.makeDBInfo(message);\n    this.nrNodes = dbInfo.nrNodes;\n    for (let nodeInx = 0; nodeInx < this.nrNodes; nodeInx++) {\n      this.fetchNode(nodeInx);\n    }\n  }\n\n  receiveNodeInfo(message: Message) {\n    const nodeInfo = Protocol.makeNodeInfo(message);\n    let node = this.findNode(nodeInfo.logicalAddress);\n    if (!node) {\n      node = new Node(this, nodeInfo);\n      this.nodes.push(node);\n    } else {\n      Sanitizers.nodeInfo(nodeInfo, node);\n    }\n    this.system.setActiveState(node);\n\n    if (node.active && (node.nrUnits !== node.units.length)) {\n      this.fetchAllUnits(node);\n    } else {\n      this.log(\"Skipping node: \" + node.getDescription());\n    }\n  }\n\n  receiveUnitInfo(message: Message) {\n    const unitInfo = Protocol.makeUnitInfo(message);\n    let unit = this.findUnit(unitInfo.logicalNodeAddress, unitInfo.logicalAddress);\n    if (!unit) {\n      const node = this.findNode(unitInfo.logicalNodeAddress);\n      if (node) {\n        unit = new Unit(node, unitInfo);\n        node.units.push(unit);\n      } else {\n        this.err(\"Node not found: \" + unitInfo.logicalNodeAddress);\n      }\n    } else {\n      Sanitizers.unitInfo(unitInfo, unit);\n    }\n    this.system.setActiveState(unit);\n  }\n\n\n  fetchAllUnits(node: Node) {\n    for (let unitInx = 0; unitInx < node.nrUnits; unitInx++) {\n      this.fetchUnit(node, unitInx);\n    }\n  }\n\n  async fetchDbInfo() {\n    try {\n      await this.send(Protocol.buildDBInfo());\n      await this.send(Protocol.buildRequestSchedule());\n\n    } catch (err) {\n      this.err(\"dbInfo call failed -> \" + err);\n    }\n  }\n\n  async fetchNode(nodeInx: number) {\n    const message = Protocol.buildNodeInfo(nodeInx);\n    try {\n      await this.send(message);\n\n    } catch (err) {\n      this.err(\"nodeInfo call failed -> \" + err);\n    }\n  }\n\n  async fetchUnit(node: Node, unitInx: number) {\n    const message = Protocol.buildUnitInfo(node, unitInx);\n    try {\n      // unit with index \"unitInx\" in node \"logicalAddress\"\n      await this.send(message);\n\n    } catch (err) {\n      this.err(\"unitInfo call failed -> \" + err);\n    }\n  }\n\n\n  async getDatabase(readUnits: boolean = true) {\n    this.nodes = [];\n\n    await this.fetchDbInfo();\n  }\n\n  allNodes(callback: (n: Node) => void) {\n    this.nodes.forEach(node => {\n      callback(node);\n    });\n  }\n\n  allUnits(callback: (u: Unit) => void) {\n    this.nodes.forEach(node => {\n      node.units.forEach(unit => {\n        callback(unit);\n      });\n    });\n  }\n\n  displayDatabase(onlyNodes = false) {\n    this.log(\"Showing \" + this.nodes.length + \" nodes\");\n    this.nodes.forEach((node, nodeInx) => {\n      if (onlyNodes) { this.log(\"===================================================================================\"); }\n      this.log(nodeInx + \". \" + node.name +\n          \", type = \" + node.typeName() +\n          \", nrUnits = \" + node.nrUnits +\n          \", logical address = \" + node.logicalAddress);\n      if (onlyNodes) {\n        this.log(\"-----------------------------------------------------------------------------------\");\n        node.units.forEach((unit, unitInx) => {\n          this.log(\"> \" + unitInx + \". '\" + unit.name + \"' => '\" + unit.getName() +\n                                    \"', type = \" + unit.typeName() +\n                                    \", logical address: \" + unit.logicalAddress +\n                                    \", value: \" + unit.value +\n                                    (unit.status ? (\", status = \" + unit.status) : \"\"));\n        });\n      }\n    });\n  }\n\n  findUnit(logicalNodeAddress: number, logicalAddress: number) {\n    const node = this.findNode(logicalNodeAddress);\n    if (node) {\n      return node.units.find((u: Unit) => u.logicalAddress === logicalAddress);\n    }\n    else {\n      return null;\n    }\n  }\n\n  findNode(logicalAddress: number) {\n    return this.nodes.find((n: Node) => n && (n.logicalAddress === logicalAddress));\n  }\n\n  getNodeAndUnit(node: number | Node, unit: number | Unit) {\n    // allow for index numbers or real nodes to be passed\n    if (typeof node === \"number\") {\n      if (node >= this.nodes.length) {\n        this.err(\"getNodeAndUnit -> node nr \" + node + \" out of bounds\");\n        node = null;\n      } else {\n        node = this.nodes[node];\n      }\n    }\n    if (! node) {\n      this.err(\"getNodeAndUnit -> node not found \");\n      return null;\n    }\n\n    if (typeof unit === \"number\") { \n      if (unit >= (<Node>node).units.length) {\n        this.err(\"getNodeAndUnit -> unit nr \" + unit + \" out of bounds\");\n        unit = null;\n      } else {\n        unit = (<Node>node).units[unit];\n      }\n    }\n    if (! unit) {\n      this.err(\"getNodeAndUnit -> unit not found\");\n      return null;\n    }\n\n    return { node, unit };\n  }\n\n  /* ****************************************************************************** */\n  /* Status requests                                                                */\n  /*   Database (all known nodes)                                                   */\n  /*   Node (all known units in this node)                                          */\n  /*   Unit (only dimmer, switch, input, temperature, motor and mood implemented)   */\n  /* ****************************************************************************** */\n\n  receiveStatus(next: CommRecord) {\n    // called when an incoming message was received and classified as a status message\n\n    // find node\n    const nodeLogical = next.message[2];\n    const node = this.nodes.find(node => node && (node.logicalAddress == nodeLogical));\n    if (! node) {\n      this.err(\"status message \" + next.cmd + \" for unknown node = \" + nodeLogical);\n      return;\n    }\n\n    // find unit\n    const unitLogical = next.message[3];\n    const unit = node.units.find(unit => unit && (unit.logicalAddress == unitLogical));\n    if (!unit) {\n      // this.err(\"status message \" + next.cmd + \" for unknown unit = \" + unitLogical +\n      //          \" in node = \" + nodeLogical);\n      return;\n    }\n\n    // Parse the status into the unit\n    Protocol.receiveStatus(next, unit);\n\n    /*\n    // inform the system if a change was detected or if macro command (69)\n    if ((currValue != unit.value) || (currStatus != unit.status) || (next.cmd == 69))\n      this.system.informStatusChange(this, unit);\n    */\n  }\n\n  async requestStatus() {\n    for (let nodeInx = 0; nodeInx < this.nodes.length; nodeInx++) {\n      const node = this.nodes[nodeInx];\n      if (node.active) {\n        for (let unitInx = 0; unitInx < node.units.length; unitInx++) {\n          await this.requestUnitStatus(node.units[unitInx]);\n        }\n      }\n    }\n  }\n\n  async requestNodeStatus(node: Node) {\n    for (let unitInx = 0; unitInx < node.units.length; unitInx++) {\n      if (node.units[unitInx].active) {\n        await this.requestUnitStatus(node.units[unitInx]);\n      }\n    }\n  }\n\n  async requestUnitStatus(unit: Unit) {\n    const message = Protocol.buildRequestUnitStatus(unit.node, unit);\n    let res = await this.send(message);\n    // results will be set by the data event listener\n    this.info(\"get value of \" + unit.node.getName() + \"-\" + unit.getName());\n  }\n\n  async setUnitStatus(unit: Unit, value: number) {\n    const params = Protocol.buildSetCmd(unit.node, unit, value);\n    if (params.cmd) {\n      await this.send(params.message);\n    }\n    this.system.checkScenes(unit);\n  }\n\n  async setPreset(unit: Unit, preset: number, temp: number) {\n    await this.send(Protocol.buildSetPreset(unit.node, unit, preset, temp));\n    this.info(\"set temp preset: \" + preset + \" of \" + unit.node.getName() + \"-\" + unit.getName() + \" to temp \" + temp);\n  }\n\n  async selectPreset(unit: Unit, preset: number) {\n    await this.send(Protocol.buildSelectPreset(unit.node, unit, preset));\n    this.info(\"set temp preset of \" + unit.node.getName() + \"-\" + unit.getName() + \" to: \" + preset);\n  }\n\n  async setSchedule() {\n    await this.send(Protocol.buildSendSchedule(this.schedule));\n    this.info(\"set schedule to week nr: \" + this.schedule);\n  }\n\n  async setTempOnOff(unit: Unit, on: boolean) {\n    await this.send(Protocol.buildSensorOnOff(unit.node, unit, on));\n    this.info(\"turn temp sensor of \" + unit.node.getName() + \"-\" + unit.getName() + \": \" + (on ? \"on\" : \"off\"));\n  }\n\n  async doIncDecPreset(unit: Unit, inc: boolean) {\n    await this.send(Protocol.buildIncDecPreset(unit.node, unit, inc));\n    this.info(\"set temp preset of \" + unit.node.getName() + \"-\" + unit.getName() + \": \" + (inc ? \"up\" : \"down\"));\n  }\n\n}\n","import { CommRecord, Message, Sanitizers, NodeInfo, UnitInfo, DBInfo, WriteError, LogFunction, hex } from './types';\nimport { Master } from './master';\nimport { EventEmitter } from 'events';\n\n// Duotecno master IP protocol implementation\n// Johan Coppieters\n//\n// Dec 2018 - v1 - first version based on 1 smartbox\n// Mar 2019 - v2 - rewrite to support multiple masters\n//\n// Dec 2019 - v3 - for app side only\n\n\n///////////////////////////\n// Commands + attributes //\n///////////////////////////\nenum Cmd {\n  Internal = 9,     // smartsystem defined (not Duotecno)\n  SetSwitch = 163,\n  SetDimmer = 162,\n  SetControl = 168,\n  SetMotor = 182,\n  SetSensor = 136,\n  Login = 214,\n  Heartbeat = 215,\n  DatabaseInfo = 209,\n  SetSchedule = 217\n}\n\n// for Set Switch/Dimmer/Control\nconst reqDim = 3;\nconst reqOff = 9;\nconst reqOn = 10;\n\n// for Login\nconst reqDisconnect = 0;\nconst reqConnect = 3;\n\n// for DatabaseInfo = 209;\nconst reqDBInfo = 0;\nconst reqNodeInfo = 1;\nconst reqUnitInfo = 2;\nconst reqUnitStatus = 3;\n\n// for Schedule\nconst reqSchedule = 218;\n\n\nexport function cmdName(cmd: number) {\n  return Cmd[cmd] || 'cmd' + cmd;\n}\n\ntype CmdSet = {\n  cmd: number,\n  method: number,\n  value?: number | boolean,\n  message?: Message,\n  reqStatus?: boolean\n};\n\n//////////////////////\n// Received results //\n//////////////////////\nexport enum Rec {\n  // return info from cmdDatabaseInfo\n  DBInfo = 0,\n  NodeInfo = 1,\n  UnitInfo = 2,\n\n  Internal = 9,     // smartsystem defined (not Duotecno)\n\n  ErrorMessage = 17,\n  ConnectStatus = 67,\n  ScheduleStatus = 73,\n\n  // return info from recDBInfo\n  Info = 64,\n\n  // return info from reqUnitStatus\n  Mood = 4,\n  Dimmer = 5,\n  Switch = 6,\n  Sensor = 7,\n  Motor = 38,\n  Macro = 69\n}\n\nexport function recName(rec: number) {\n  return Rec[rec] || 'rec' + rec;\n}\n\n\n// Node types\nexport enum NodeType { kNoNode = 0, kStandardNode = 1, kGatewayNode = 4, kModemNode = 8, kGUINode = 32 };\n\n// States\nexport enum UnitState { kOpening = 4, kClosing = 3, kOpen = 2, kClosed = 1, kStopped = 0 };\nexport enum UnitMotorCmd { kClose = 5, kOpen = 4, kStop = 3};\n\nexport enum UnitType { kNoUnit = 0, kDimmer = 1, kSwitch = 2, kInput = 3, \n                       kTemperature = 4, kExtendedAudio = 5, kMood = 7, kSwitchingMotor = 8, \n                       kAudio = 10, kAV = 11, kIRTX = 12, kVideo = 14, kLightbulb = 101, kGarageDoor = 102, kNoType = 0 };\n// kLightbulb  == kSwitch with no \"stk\" in the name\n// kGarageDoor == kSwitchingMotor with \"!\" in the name\n\n\n\n/////////////////////////\n// Node in the network //\n/////////////////////////\nexport class Node {\n  master: Master;\n  active: boolean;\n  name: string;\n  index: number;\n  logicalAddress: number;\n  physicalAddress: number;\n  type: NodeType;\n  flags: number;\n  nrUnits: number;\n  units: Array<Unit>;\n\n  constructor(master: Master, params: NodeInfo) {\n    this.master = master;\n    Sanitizers.nodeInfo(params, this);\n    this.units = [];\n\n    // remove | in names\n    let separ = this.name.indexOf('|');\n    this.name = (separ < 0) ? this.name : this.name.substring(0, separ) + ' ' + (this.name.substring(separ + 1));\n  }\n\n  inMultiNode() {\n    return this.master.inMultiNode();\n  }\n\n  typeName(): string {\n    switch (this.type) {\n      case NodeType.kStandardNode: return 'Standard';\n      case NodeType.kGatewayNode: return 'Gateway';\n      case NodeType.kModemNode: return 'Modem';\n      case NodeType.kGUINode: return 'GUI';\n      default: return 'Unknown node type (' + this.type + ')';\n    }\n  }\n\n  getName(): string {\n    return this.name;\n  }\n  getSort(): string {\n    return this.getName().toLowerCase();\n  }\n\n  getNumber(): string {\n    return hex(this.logicalAddress);\n  }\n\n  getDescription(): string {\n    return this.getName() + ', active: ' + this.active + ', type: ' + this.typeName() + ', node: ' + this.getName();\n  }\n\n  findUnit(logicalAddress: number): Unit {\n    return this.units.find(u => u && (u.logicalAddress === logicalAddress));\n  }\n\n  findUnitIndex(logicalAddress: number): number {\n    return this.units.findIndex(u => u && (u.logicalAddress === logicalAddress));\n  }\n}\n\n\n/////////////////////////\n// Unit within a Node  //\n/////////////////////////\nexport class Unit {\n  node: Node;\n  active: boolean;\n  name: string;\n  group: number = 0;\n  logicalReqNodeAddress: number;\n  index: number;\n  logicalNodeAddress: number;\n  logicalAddress: number;\n  type: UnitType;\n  flags: number;\n  displayName: string;\n  value: number | boolean;\n  status: number;\n\n  // Temperature stuff (values in x10 degree Celcius)\n  preset: number;  // 0=sun, 1=half sun, 2=moon, 3=half moon, -1=off\n  sun: number;\n  hsun: number;\n  moon: number;\n  hmoon: number;\n  temp: number;\n\n\n  constructor(node, params: UnitInfo) {\n    this.node = node;\n    Sanitizers.unitInfo(params, this);\n\n    // make a display name for homekit, without the |\n    // if the display name is empty make a N[nodeAdr]-U[unitAdr] name.\n    let separ = this.name.indexOf('|');\n    this.name = (separ < 0) ? this.name : this.name.substring(0, separ) + ' ' + (this.name.substring(separ + 1));\n    this.displayName = (separ < 0) ? this.name : (this.name.substring(separ + 1) + ' ' + this.name.substring(0, separ));\n\n    if (!this.displayName) { this.displayName = this.getSerialNr(); }\n  }\n\n  isUnit(unit: Unit): boolean;\n  isUnit(master: string, port: number, nodeLogicalAddress: number, unitLogicalAddress: number): boolean;\n  isUnit(master: Unit | string, port?: number, nodeLogicalAddress?: number, unitLogicalAddress?: number): boolean {\n    if (master instanceof Unit) {\n      const unit = master;\n      return ((this.node.master.isMaster(unit.node.master.getAddress(), unit.node.master.getPort())) &&\n              (this.node.logicalAddress == unit.node.logicalAddress) && \n              (this.logicalAddress == unit.logicalAddress));\n\n    } else { /* if (typeof master === \"string\") */\n      return ((this.node.master.isMaster(master, port)) &&\n              (this.node.logicalAddress == nodeLogicalAddress) && \n              (this.logicalAddress == unitLogicalAddress));\n    } \n  }\n\n\n  sameValue(value): boolean {\n    if ((this.type === UnitType.kSwitchingMotor) || (this.type === UnitType.kGarageDoor)) {\n      return (((this.value == UnitState.kOpening) && (value == 4)) ||\n              ((this.value == UnitState.kClosing) && (value == 5)) ||\n              ((this.value <= UnitState.kOpen) && (value == 3)));\n    }\n    else {\n      return (this.value == value);\n    }\n  }\n\n  typeName(): string {\n    switch (this.type) {\n      case UnitType.kDimmer: return 'Dimmer';\n      case UnitType.kSwitch: return 'Switch/Relay';\n      case UnitType.kLightbulb: return 'Lightbulb';\n      case UnitType.kInput: return 'Control input';\n      case UnitType.kTemperature: return 'Temperature sensor';\n      case UnitType.kExtendedAudio: return 'Extended audio';\n      case UnitType.kMood: return 'Virtual mood';\n      case UnitType.kSwitchingMotor: return 'Switch motor';\n      case UnitType.kGarageDoor: return 'Garagedoor';\n      case UnitType.kAudio: return 'Basic audio';\n      case UnitType.kAV: return 'AV Matrix';\n      case UnitType.kIRTX: return 'IRTX';\n      case UnitType.kVideo: return 'Video multiplexer';\n      default: return 'Unknown unit type (' + this.type + ')';\n    }\n  }\n  getName(): string {\n    return this.name;\n  }\n  getDisplayName(): string {\n    if (this.inMultiNode) {\n      return this.displayName + ' on ' + this.node.getName();\n    }\n    else {\n      return this.displayName;\n    }\n  }\n  getNumber(): string {\n    return this.node.getNumber() + ';' + hex(this.logicalAddress);\n  }\n  getSort(): string {\n    const name = this.getName().toLowerCase();\n    switch (this.type) {\n      case UnitType.kTemperature: return '01|' + name;\n      case UnitType.kSwitchingMotor: return '02|' + name;\n      case UnitType.kGarageDoor: return '02|' + name;\n      case UnitType.kDimmer: return '03|' + name;\n      case UnitType.kLightbulb: return '04|' + name;\n      case UnitType.kSwitch: return '04|' + name;\n      case UnitType.kInput: return '11|' + name;\n      case UnitType.kExtendedAudio: return '12|' + name;\n      case UnitType.kMood: return '09|' + name;\n      case UnitType.kAudio: return '12|' + name;\n      case UnitType.kAV: return '13|' + name;\n      case UnitType.kIRTX: return '19|' + name;\n      case UnitType.kVideo: return '14|' + name;\n      default: return '99|' + name;\n    }\n  }\n\n  getType(): UnitType {\n    // as default we consider a switch as a light unless it has \"stk\" in the name\n    if ((this.type === UnitType.kSwitch) &&\n        (this.name.indexOf('STK') < 0) && (this.name.indexOf('stk') < 0) && (this.name.indexOf('Stk') < 0)) {\n      return UnitType.kLightbulb;\n    }\n\n    // as default we consider a switch-motor as a window covering unless it has \"!\" in the name\n    if ((this.type === UnitType.kSwitchingMotor) &&\n        (this.name.indexOf('!') >= 0)) {\n      return UnitType.kGarageDoor;\n    }\n\n    return this.type;\n  }\n  getSerialNr(): string {\n    if (this.inMultiNode) {\n      return this.node.getName() + '-N' + this.logicalNodeAddress + '-U' + this.logicalAddress;\n    }\n    else {\n      return 'N' + this.logicalNodeAddress + '-U' + this.logicalAddress;\n    }\n  }\n\n\n  isCtrl(): boolean {\n    return this.isSwitch() || this.isDimmer() || this.isUpDown();\n  }\n  isSwitch(): boolean {\n    return (this.type === UnitType.kSwitch) || (this.type === UnitType.kLightbulb);\n  }\n  isMood(): boolean {\n    return (this.type === UnitType.kMood);\n  }\n  isInput(): boolean {\n    return (this.type === UnitType.kInput);\n  }\n  isTemperature(): boolean {\n    return (this.type === UnitType.kTemperature);\n  }\n  isDimmer(): boolean {\n    return (this.type === UnitType.kDimmer);\n  }\n  isUpDown(): boolean {\n    return (this.type === UnitType.kGarageDoor) || (this.type === UnitType.kSwitchingMotor);\n  }\n\n  async setPreset(preset: number, temp: number) {\n    await this.node.master.setPreset(this, preset, temp);\n  }\n  async selectPreset(preset: number) {\n    await this.node.master.selectPreset(this, preset);\n  }\n  async sensorOnOff(on: boolean) {\n    await this.node.master.setTempOnOff(this, on);\n  }\n  async doIncDecPreset(inc: boolean) {\n    await this.node.master.doIncDecPreset(this, inc);\n  }\n\n  inMultiNode() {\n    return this.node.inMultiNode();\n  }\n\n  async reqState() {\n    await this.node.master.requestUnitStatus(this);\n  }\n  async setState(value) {\n    await this.node.master.setUnitStatus(this, value);\n  }\n\n\n  getDispayState(): string {\n    switch(this.type) {\n      case UnitType.kDimmer: return ((this.status) ? 'on' : 'off') + ' (' + this.value + '%)';\n      case UnitType.kSwitch:\n      case UnitType.kLightbulb: return (this.status) ? 'on' : 'off';\n      case UnitType.kInput: return (this.status) ? 'on' : 'off';\n      case UnitType.kTemperature: return (<number>this.value / 10.0) + 'C';\n      case UnitType.kMood: return (this.status) ? 'on' : 'off';\n      case UnitType.kGarageDoor:\n      case UnitType.kSwitchingMotor:\n        if (this.status === UnitState.kOpening) { return 'opening'; }\n        if (this.status === UnitState.kClosing) { return 'closing'; }\n        if (this.status === UnitState.kOpen) { return 'open'; }\n        if (this.status === UnitState.kClosed) { return 'closed'; }\n        if (this.status === UnitState.kStopped) { return 'stopped'; }\n    }\n    return (this.status) ? this.status.toString() : 'unknown';\n  }\n\n  getDescription() {\n    return this.getDisplayName() + ', active: ' + this.active + ', type: ' + this.typeName() + ', status: ' + this.status + ', value: ' + this.value;\n  }\n\n}\n\n\n/////////////////////////////////////\n// IP node protocol implementation //\n/////////////////////////////////////\nexport const Protocol = {\n  // set to a different value if needed.\n  logger: console.log,\n  emitter: null,\n\n  setLogger(logger: LogFunction) {\n    this.logger = logger;\n  },\n  setEmitter(emitter: EventEmitter) {\n    this.emitter = emitter;\n  },\n\n  ////////////////////\n  // Helper methods //\n  ////////////////////\n\n  getStr: function(arr: Array<number>, at: number) {\n    return arr.slice(at + 1, at + arr[at] + 1)\n              .map(val => String.fromCharCode(val))\n              .join('');\n  },\n\n  makeLong: function(arr: Array<number>, at: number) {\n    return arr[at + 0] * 256 * 256 * 256 +\n           arr[at + 1] * 256 * 256 +\n           arr[at + 2] * 256 +\n           arr[at + 3];\n  },\n\n  isStatus: function(cmd: number): boolean {\n    return (cmd === Rec.Mood)   ||\n           (cmd === Rec.Dimmer) ||\n           (cmd === Rec.Switch) ||\n           (cmd === Rec.Sensor) ||\n           (cmd === Rec.Motor)  ||\n           (cmd === Rec.Macro);\n  },\n\n\n  //////////////////////////\n  // Code to String stuff //\n  //////////////////////////\n\n  translateError: function(err: Message): string {\n    if (err[0] != Rec.ErrorMessage) { return 'received unexpected data: ' + err; }\n\n    switch(err[1]) {\n      case 11: return 'Wrong object method received for ' + err[2] + '/' + err[3];\n      case 12: return 'Wrong Message Code received: ' + err[2];\n      case 18: return 'This function can only be executed when this node is the master';\n      case 128: return 'The node database is not ready';\n      case 129: return 'Node ' + err[2] + ' could not be found in the database';\n      case 130: return 'Wrong node index: ' + err[2];\n      case 131: return 'Unit ' + err[2] + ' with address ' + err[3] + ' could not be found in the database';\n      case 132: return 'Wrong unit index ' + err[3] + ' for this node ' + err[2];\n      case 133: return 'Unit ' + err[3] + ' of node ' + err[2] + ' is of a different type';\n      case 140: return 'The requested operation is not allowed';\n      case 141: return 'The requested operation is not allowed because a wrong access code is used';\n      case 142: return 'The requested operation is not implemented in this software version';\n      default:\n        return 'Unknown error';\n    }\n  },\n\n\n  ////////////////////\n  // Socket methods //\n  ////////////////////\n\n  write: function(socket: WebSocket /* | Socket */, data: Message | string): WriteError {\n    const cmd = parseInt(<string> data[0]);\n    if (data instanceof Array) {\n      data = data.join(',');\n    }\n\n    if (typeof data === 'string') {\n      // if no enclosing \"[...]\", add them\n      if (data[0] != '[') { data = '[' + data + ']'; }\n      this.logger('sending: ' + cmdName(cmd) + ' - ' + data);\n\n      try {\n        // append a LF char and send\n        socket.send(data + String.fromCharCode(10));\n        return WriteError.writeOK;\n\n      } catch(err) {\n        this.logger('error sending through socket ' + err.message);\n        return WriteError.writeFatal;\n      }\n    } else {\n      throw(new Error('wrong data type for sending'));\n    }\n  },\n\n  //////////////////////////////\n  // Handle incoming data     //\n  //  strip []                //\n  //  convert to array        //\n  //  convert chars to ints   //\n  //////////////////////////////\n  nextMessage: function(buffer: string): CommRecord {\n    // pre return result\n    const nextRec: CommRecord = { rest: buffer, isStatus: false, message: null, cmd: 0, raw: \"\" };\n\n    // no \"start-of-data\" -> discard buffer || else -> trim buffer\n    const begin = buffer.indexOf('[');\n    if (begin < 0) {\n      nextRec.rest = '';\n    } else if (begin != 0) {\n      nextRec.rest = buffer.substring(begin);\n    }\n\n    // we either have valid start data or nothing\n    if (nextRec.rest.length > 0) {\n      // do we have an \"end-of-data\" in our buffer\n      let end = nextRec.rest.indexOf(']');\n\n      // if no end-of-data was found:\n      // leave it in the buffer and hope more data will arrive soon\n      // TODO: set up a timer that clears the buffer if nothing comes through\n\n      if (end >= 0) {\n        // fetch the first available message (discard the [ and ])\n        nextRec.raw = nextRec.rest.substring(1, end);\n\n        // delete the used message from the input buffer\n        // if there, also delete the trailing LF (0x0A)\n        if ((end <= nextRec.rest.length) && (nextRec.rest.charCodeAt(end + 1) === 0x0A)) { end++; }\n        nextRec.rest = nextRec.rest.substring(end + 1);\n\n        // convert to array and turn strings into numbers\n        nextRec.message = nextRec.raw.split(',').map(c => parseInt(c));\n\n        // get the first byte to see what kind of incoming data\n        nextRec.cmd = <number>nextRec.message[0];\n        nextRec.isStatus = this.isStatus(nextRec.cmd);\n\n        // this.logger(\"processing: \" + (nextRec.isStatus ? \"status -> \" : \"\") + msg);\n      }\n\n    }\n    return nextRec;\n  },\n\n\n  buildLogin: function(password: string): Message {\n    password = password || this.config.password;\n    return [Cmd.Login, reqConnect, password.length,\n            ...password.split('').map(c => c.charCodeAt(0))];\n  },\n\n  buildDisconnect: function(): Message {\n    return [Cmd.Login, reqDisconnect];\n  },\n\n\n  /////////////////////////////////////\n  // Collect info of all found nodes //\n  /////////////////////////////////////\n\n  buildDBInfo: function(): Message {\n    return [Cmd.DatabaseInfo, reqDBInfo];\n  },\n\n  buildNodeInfo: function(nodeInx: number): Message {\n    return [Cmd.DatabaseInfo, reqNodeInfo, nodeInx];\n  },\n\n  buildUnitInfo: function(node: Node, unitInx: number) {\n    return [Cmd.DatabaseInfo, reqUnitInfo, node.logicalAddress, unitInx];\n  },\n\n  buildRequestUnitStatus: function(node: Node, unit: Unit): Message {\n    return [Cmd.DatabaseInfo, reqUnitStatus, node.logicalAddress, unit.logicalAddress, unit.type];\n  },\n\n  buildRequestSchedule(): Message {\n    return [reqSchedule, 0];\n  },\n\n  getCmdAndMethod: function(unit: Unit, value: number | boolean): CmdSet {\n    switch (unit.type) {\n      case UnitType.kDimmer:\n        if (typeof value === 'boolean') {\n          return { cmd: Cmd.SetDimmer, method: (value) ? reqOn : reqOff };\n        }\n        else if (value <= 0) {\n          return { cmd: Cmd.SetDimmer, method: reqOff };\n        }\n        else {\n          return { cmd: Cmd.SetDimmer, method: reqDim, value: Math.max(Math.min(value, 99), 1) };\n        }\n\n      case UnitType.kSwitch:\n        return { cmd: Cmd.SetSwitch, method: (value) ? 3 : 2 };\n\n      case UnitType.kInput:\n      case UnitType.kMood:\n        if (value < 0) {\n          return { cmd: Cmd.SetControl, method: 2 };\n        } // short pulse\n        else {\n          return { cmd: Cmd.SetControl, method: 3, value: (value) ? 1 : 0 };\n        }  // long event + 0/1\n\n      case UnitType.kSwitchingMotor:\n        return { cmd: Cmd.SetMotor, method: <number>value };  // 5 close, 4 open, 3 is stop\n\n      case UnitType.kTemperature:\n        return { cmd: Cmd.SetSensor, method: 13 /* select preset */, value };\n\n      case UnitType.kExtendedAudio:\n      case UnitType.kAudio:\n      case UnitType.kAV:\n      case UnitType.kIRTX:\n      case UnitType.kVideo:\n\n      default: // \"Unknown unit type (\" + unit.type + \")\";\n        this.err('setting ' + unit.type + ' not yet implemented');\n        return { cmd: 0, method: 0, value: 0};\n    }\n  },\n\n  buildSetCmd: function(node: Node, unit: Unit, value: number | boolean): CmdSet {\n    let params = this.getCmdAndMethod(unit, value);\n    if (params.cmd) {\n      params.message = [params.cmd, params.method, node.logicalAddress, unit.logicalAddress];\n      if (typeof params.value != 'undefined') { params.message.push(params.value); }\n\n      // some need a requestStatus afterwards\n      params.reqStatus = ((params.cmd === Cmd.SetDimmer) && (params.method === reqDim));\n    }\n    return params;\n  },\n\n  /* Temperature / Presets */\n  buildSelectPreset(node: Node, unit: Unit, preset: number): Message {\n    let params = this.getCmdAndMethod(unit, preset);\n    return [params.cmd, 13, node.logicalAddress, unit.logicalAddress, preset];\n  },\n\n  buildSetPreset(node: Node, unit: Unit, preset: number, value: number): Message {\n    return [Cmd.SetSensor, 1, node.logicalAddress, unit.logicalAddress, preset, Math.floor(value / 256), value % 256];\n  },\n  buildIncDecPreset(node: Node, unit: Unit, inc: boolean): Message {\n    return [Cmd.SetSensor, (inc) ? 5 : 6, node.logicalAddress, unit.logicalAddress];\n  },\n  buildSensorOnOff(node: Node, unit: Unit, on: boolean): Message {\n    return [Cmd.SetSensor, 3, node.logicalAddress, unit.logicalAddress, (on) ? 1 : 0];\n  },\n\n  /* Schedule commands */\n  buildSendSchedule(schedule: number): Message {\n    return [Cmd.SetSchedule, 0, Math.max(0, Math.min(3, schedule))];\n  },\n\n  ///////////////////\n  // Received info //\n  ///////////////////\n  receiveStatus: function(next: CommRecord, unit: Unit) {\n    if (next.cmd === Rec.Sensor) {\n      // sensor -> value\n      unit.value  = next.message[9] * 256  +  next.message[10];   // 10x current temperature\n      unit.status = next.message[7];                            // 0=idle, 1=heating, 2=cooling\n      unit.preset = (next.message[6]) ? next.message[8] : -1;   // 0=sun, 1=half sun, 2=moon, 3=half moon, -1 = off\n      unit.sun    = next.message[11] * 256 +  next.message[12];   // 10x temperature\n      unit.hsun   = next.message[13] * 256 +  next.message[14];   // 10x temperature\n      unit.moon   = next.message[15] * 256 +  next.message[16];   // 10x temperature\n      unit.hmoon  = next.message[17] * 256 +  next.message[18];   // 10x temperature\n      this.logger('received temperature = ' + <number>unit.value / 10.0);\n\n    } else if (next.cmd === Rec.Switch) {\n      // switch -> boolean\n      unit.status = next.message[6];\n      unit.value = (next.message[6] > 0);\n\n    } else if (next.cmd === Rec.Dimmer) {\n      // dimmer -> 0 .. 99\n      unit.status = next.message[6];\n      unit.value = next.message[7];\n\n    } else if (next.cmd === Rec.Mood) {\n      // control -> boolean\n      unit.status = next.message[6];\n      unit.value = (next.message[6] != 0);\n\n    } else if (next.cmd === Rec.Motor) {\n      // motor -> boolean/status\n      unit.status = next.message[6];               // 0 = stopped, 1 stopped/down, 2 = stopped/up, busy/down, busy/up\n      unit.value = next.message[6];                // (unit.status == 1);    // true=closed\n\n    } else if (next.cmd = Rec.Macro) {\n      // = EV_UNITMACROCOMMANDO\n      // example: On 50%: [69,0,NodeAddress,UnitAddress,6,1,50]\n      //          Off:    [69,0,NodeAddress,UnitAddress,6,0,0]\n      unit.status = next.message[5];\n      unit.value = next.message[6];\n\n    }\n    this.emitter.emit('update', unit);\n  },\n\n  makeDBInfo(res: Message): DBInfo {\n    return { nrNodes: res[2] };\n  },\n\n  makeNodeInfo(res: Message): NodeInfo {\n    let name = this.getStr(res, 8);\n    let offset = name.length;\n    return {\n      name: name,\n      index: res[2],               // should be == nodeInx\n      logicalAddress: res[3],\n      physicalAddress: this.makeLong(res, 4),\n      nrUnits: res[offset + 9],\n      type: res[offset + 10],\n      flags: res[offset + 11]\n    }\n  },\n\n  makeUnitInfo(res: Message): UnitInfo {\n    let name = this.getStr(res, 6);\n    let offset = name.length;\n\n    return {\n      name,\n      logicalReqNodeAddress: res[2],  // should be == node.logicalAddress ?\n      index: res[3],                  // should be == unitInx\n      logicalNodeAddress: res[4],     // difference with res[2] ?\n      logicalAddress: res[5],\n      type: res[offset + 7],\n      flags: res[offset + 8]\n    };\n  }\n};\n","import { Injectable } from \"@angular/core\";\n\nimport { Master } from \"./master\";\nimport { SystemConfig, MasterConfig, UnitConfig, YN, GroupConfig, Sanitizers, LogFunction, SceneConfig } from \"./types\";\nimport { Node, Unit, Protocol } from \"./protocol\";\nimport { Logger } from \"./logger\";\nimport { ToastController } from \"@ionic/angular\";\nimport { EventEmitter } from 'events';\n\n\n@Injectable()\nexport class System extends Logger {\n  public masters: Array<Master>;\n\n  public config: SystemConfig;\n  public groups: Array<GroupConfig>;\n  public scenes: Array<SceneConfig>;\n  public backup: {config: SystemConfig, groups: Array<GroupConfig>,  scenes: Array<SceneConfig>} = null;\n\n  public isBrowser: boolean = true;\n  public isSplitted: boolean = false;\n\n  // rebuild active services (units) and spread unit updates\n  trigger = null;\n  public emitter: EventEmitter;\n\n  public moods: Array<Unit> = [];\n  public controls: Array<Unit> = [];\n  public temperatures: Array<Unit> = [];\n  public stores: Array<Unit> = [];\n\n\n\n  constructor(private toastCtrl: ToastController) {\n    super(\"system\", true);\n    this.trigger = null;\n\n    this.emitter = new EventEmitter();\n    Protocol.setEmitter(this.emitter);\n    //this.emitter.on('update', this.checkScenes.bind(this));\n\n    this.readConfig();\n    this.readGroups();\n    this.readScenes();\n\n    // open all masters listed in the config\n    this.masters = [];\n    this.openMasters();\n  }\n\n  setBrowser(isB: boolean) {\n    this.isBrowser = isB;\n  }\n\n  setLogger(logger: LogFunction) {\n    this.logger = logger;\n\n    // use my log function\n    Protocol.logger = logger;\n  }\n\n  openMasters() {\n    // don\"t wait for the real open of the sockets\n    // some errors: the socket to the proxy opens, but the socket to the hardware fails\n    for (let inx = 0; inx < this.config.cmasters.length; inx++) {\n      this.openMaster(this.config.cmasters[inx], inx);\n    }\n  }\n  async closeMasters() {\n    for (let inx = 0; inx < this.masters.length; inx++) {\n      await this.closeMaster(this.masters[inx]);\n    }\n  }\n\n  async openMaster(config: MasterConfig, inx: number): Promise<Master> {\n    const master = new Master(this, config, this.toastCtrl);\n    this.masters[inx] = master;\n\n    if (!master.config.active) return;\n\n    this.log(\"opening master: \" + master.getAddress());\n    if (await master.open()) {\n      if (await master.login()) {\n        await master.getDatabase();\n        this.log(\"master: \" + master.getAddress() + \" opened with \" + master.nodes.length + \" nodes.\");\n        this.triggerRebuild();\n      } else {\n        this.err(\"failed to log in on \" + master.getAddress());\n      } \n    } else {\n      this.err(\"failed to open connection on \" + master.getAddress());\n    }\n    return master;\n  }\n\n  async closeMaster(master: Master) {\n    // non-existing master -> do nothing... strange...\n    if ((! master) || (!master.isOpen)) return;\n\n    // find its index (we need it to delete it from the list)\n    let inx = this.findMasterInx(master);\n\n    // close\n    try {\n      await master.close();\n    } catch (e) {\n      this.err(\"failed to close master on \" + master.getAddress() + \":\" + master.getConfig().port);\n    }\n\n    // remove from list\n    if (inx > -1) {\n      this.masters.splice(inx, 1);\n    }\n  }\n\n  displayDatabases() {\n    this.masters.forEach(m => m.displayDatabase());\n  }\n\n\n  //////////////////\n  // Config stuff //\n  //////////////////\n\n  async addMaster(cmaster: MasterConfig): Promise<Master> {\n    if (!cmaster.address) { return; }\n\n    // see if this master already exists\n    let inx = this.findCMasterInx(cmaster.address, cmaster.port);\n\n    // store in config if not yet known\n    if (inx < 0) {\n      this.config.cmasters.push(cmaster);\n      inx = this.masters.length;\n\n    } else {\n      // close to re-open\n      await this.closeMaster(this.masters[inx]);\n      this.config.cmasters[inx] = cmaster;\n    }\n    this.writeConfig();\n    return await this.openMaster(cmaster, inx);\n  }\n\n  async deleteMaster(master: Master) {\n    const masterAddress = master.getAddress();\n    const masterPort = master.getPort();\n    let inx = this.findCMasterInx(masterAddress, masterPort);\n\n    if (inx >= 0) {\n      await this.closeMaster(master);\n\n      // remove the master, it's nodes and their units from the config\n      this.config.cmasters.splice(inx, 1);\n      this.config.cunits = this.config.cunits.filter(unit =>\n        (unit.masterPort != masterPort) || (unit.masterAddress != masterAddress));\n\n      this.writeConfig();\n    }\n  }\n\n  setActiveState(item: Node | Unit) {\n    if (item instanceof Node) {\n      const masterAddress = item.master.getAddress();\n      const masterPort = item.master.getPort();\n      const unitConfig = this.config.cunits.find((cu: UnitConfig) => \n        (cu.logicalNodeAddress === item.logicalAddress) && \n        (cu.masterAddress === masterAddress) && \n        (cu.masterPort == masterPort));\n\n      // node is used, it exists in configured units\n      item.active = !! unitConfig;\n    }\n\n    if (item instanceof Unit) {\n      const masterAddress = item.node.master.getAddress();\n      const masterPort = item.node.master.getPort();\n      const unitConfig = this.config.cunits.find((cu: UnitConfig) =>\n        (cu.logicalAddress === item.logicalAddress) &&\n        (cu.logicalNodeAddress === item.logicalNodeAddress) &&\n        (cu.masterAddress === masterAddress) &&\n        (cu.masterPort == masterPort));\n      item.active = !! unitConfig;\n\n      // unit is used, it exists in configured units\n      if (unitConfig) {\n        item.group = unitConfig.group;\n      }\n    }\n  }\n\n  deleteGroup(group: GroupConfig) {\n    if (this.groups.length > 1) {\n      // delete the group\n      const inx = this.groups.indexOf(group);\n      this.groups.splice(inx, 1);\n\n      // renumber\n      this.groups.sort((a,b) => a.order-b.order);\n      this.groups.forEach((g,i) => g.order = i);\n\n      // set all items of the deleted group to group 0\n      const first = this.groups[0].id;\n      this.masters.forEach(m => m.allUnits(u => {\n        if (u.group == group.id) u.group = first;\n      }));\n      \n      // save groups and changes units\n      this.writeGroups();\n      this.updateSystem(false);\n    }\n  }\n\n  //////////////////////////////////////\n  // Finding masters, nodes and units //\n  //////////////////////////////////////\n\n  findMaster(master: Master | string, port?: number): Master {\n    if (typeof master === \"string\") {\n      if (typeof port === \"undefined\") port = 5001;\n      return this.masters.find((m: Master) => m.same(master, port))\n    } else {\n      return this.masters.find((m: Master) => m && m.same(master));\n    }\n  }\n  findMasterInx(master: Master): number {\n    return this.masters.findIndex((m: Master) => m && m.same(master));\n  }\n\n  findCMasterInx(address: string, port: number): number {\n    return this.config.cmasters.findIndex((m: MasterConfig) => (m.address == address) && (m.port == port));\n  }\n\n  findNode(master: Master, logicalAddress: number) {\n    master = this.findMaster(master);\n    if (master) {\n      return master.nodes.find((n: Node) => n && (n.logicalAddress === logicalAddress));\n    }\n    else {\n      return null;\n    }\n  }\n\n  findUnit(master: string, port: number, logicalNodeAddress: number, logicalAddress: number): Unit;\n  findUnit(master: Master, logicalNodeAddress: number, logicalAddress: number): Unit;\n  findUnit(master: Master | string, A: number, B: number, C?: number): Unit {\n    let nodeNr = A; \n    let unitNr = B;\n    if (typeof master === \"string\") {\n      master = this.findMaster(master, A);\n      nodeNr = B; unitNr = C;\n    }\n    const node = this.findNode(master, nodeNr);\n    if (node)\n      return node.units.find((u: Unit) => u && (u.logicalAddress === unitNr));\n    else\n      return null;\n  }\n\n\n  findUnitByAddress(logicalNodeAddress: number, logicalAddress: number): Unit {\n    let unit: Unit = null;\n    this.masters.forEach((m: Master) => {\n      if (m) {\n        const node = this.findNode(m, logicalNodeAddress);\n        if (node) {\n          unit = node.units.find((u: Unit) => u && (u.logicalAddress === logicalAddress));\n        }\n      }\n    });\n    return unit;\n  }\n\n  findUnitByName(master: string, name: string): Unit {\n    let unit: Unit = null;\n    this.masters.forEach((m: Master) => {\n      if (m && (m.getAddress() == master)) {\n        m.nodes.forEach((n: Node) => {\n          if (n) {\n            n.units.forEach(u => {\n              if ((u.displayName === name) || (u.name === name)) {\n                unit = u;\n              }\n            });\n          }\n        });\n      }\n    });\n    return unit;\n  }\n\n  allActiveUnits(): Array<Unit> {\n    return this.masters\n      .reduce((acc, m) => acc.concat(m.nodes), [])\n      .reduce((acc, n) => acc.concat(n.units), [])\n      .filter(u => u.active);\n  }\n\n\n  //////////////////////////////////////////////////\n  // Getting the current state of units and nodes //\n  //////////////////////////////////////////////////\n  updateSystem(dontTrigger: boolean = false) {\n    this.config.cunits = this.allActiveUnits()\n      .map((u: Unit) => { return { active: <YN>\"Y\", group: u.group, \n                                   masterAddress: u.node.master.getAddress(), masterPort: u.node.master.getPort(),\n                                   logicalNodeAddress: u.node.logicalAddress, logicalAddress: u.logicalAddress}; });\n\n    this.writeConfig();\n\n    if (dontTrigger) {\n      this.triggerRebuild();\n    }\n  }\n\n  triggerRebuild(immediate: boolean = false) {\n    this.log(\"triggerRebuild requested\");\n    if (this.trigger) {\n      this.log(\"killing pending rebuild\");\n      clearTimeout(this.trigger);\n      this.trigger = null;\n    }\n\n    if (immediate) {\n      this.rebuildServices();\n    } else {\n      this.trigger = setTimeout(() => {\n        this.trigger = null;\n        this.rebuildServices();\n      }, 1000);\n    }\n  }\n\n  rebuildServices() {\n    function compare(a: Unit | Node | Master, b: Unit | Node | Master) {\n      const an = a.getSort();\n      const bn = b.getSort();\n      if (an < bn) return -1;\n      if (an > bn) return 1;\n      return 0;\n    }\n    function compareN(a: Unit, b: Unit) {\n      const aname = a.name.toLowerCase();\n      const bname = b.name.toLowerCase();\n      if (aname < bname) return -1;\n      if (aname > bname) return 1;\n      return 0;\n    }\n\n    // sort masters, nodes in masters, units in nodes.\n    this.log(\"rebuildMasters/Nodes\")\n    this.masters.sort(compare);\n    this.masters.forEach((m: Master) => {\n      m.nodes.sort(compare);\n      m.nodes.forEach((n: Node) => n.units.sort(compare));\n     });\n\n    // sort selected controls, temperatures and moods.\n    this.log(\"rebuildServices\")\n    const services = this.allActiveUnits();\n\n    this.controls = services.filter(s => s.isCtrl()).sort(compareN);\n    this.temperatures = services.filter(s => s.isTemperature()).sort(compareN);\n    this.moods = services.filter(s => (s.isMood() || s.isInput())).sort(compareN);\n    this.stores = this.controls.filter(s => s.isUpDown());\n\n    this.emitter.emit('refresh');\n  }\n\n  ////////////\n  // Scenes //\n  ////////////\n  checkScenes(unit: Unit) {\n    // do local scene implementation only if not handle by server\n    if (this.config.remotescenes) return;\n\n    // used when local-scenes = true.\n    const scene = this.scenes.find(s => unit.isUnit(s.trigger.masterAddress, s.trigger.masterPort,\n                                                    s.trigger.logicalNodeAddress, s.trigger.logicalAddress));\n    if (scene) {\n      this.log(\"scene found -> \" + scene.name + \", value = \" + scene.trigger.value + \" unit = \" + unit.value);console.log(scene);\n      //if (unit.sameValue(scene.trigger.value)) {\n        scene.units.forEach(u => {\n          this.log(\"Find unit: \" + u.masterAddress + \", \" + u.masterPort + \", \" + u.logicalNodeAddress + \", \" + u.logicalAddress);\n          const unit = this.findUnit(u.masterAddress, u.masterPort, u.logicalNodeAddress, u.logicalAddress);\n          if (unit) {\n            this.log(\" - unit found \" + unit.getDisplayName() + \" -> \" + u.value);\n            unit.setState(u.value);\n          }\n        });\n      //}\n    }\n  }\n\n\n  //////////////////////\n  // Backup - Restore //\n  //////////////////////\n  /* Example backup:\n  \"{\"groups\":[{\"name\":\"twee\",\"id\":1,\"order\":0,\"visible\":true,\"used\":false},{\"name\":\"drie\",\"id\":2,\"order\":1,\"visible\":true,\"used\":false},{\"name\":\"een\",\"id\":0,\"order\":2,\"visible\":true,\"used\":false}],\"scenes\":[{\"name\":\"Bad+Paal+Trap\",\"trigger\":{\"logicalNodeAddress\":0,\"logicalAddress\":0,\"masterAddress\":\"\",\"masterPort\":5001,\"value\":true},\"order\":0,\"units\":[{\"logicalNodeAddress\":7,\"logicalAddress\":34,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":true},{\"logicalNodeAddress\":7,\"logicalAddress\":30,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":8},{\"logicalNodeAddress\":7,\"logicalAddress\":31,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":10}]},{\"name\":\"Scene Bad+Keuken\",\"trigger\":{\"logicalNodeAddress\":3,\"logicalAddress\":2,\"masterAddress\":\"178.118.70.181\",\"masterPort\":5001,\"value\":1},\"order\":1,\"units\":[{\"logicalNodeAddress\":7,\"logicalAddress\":34,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":true},{\"logicalNodeAddress\":7,\"logicalAddress\":36,\"masterAddress\":\"141.135.240.51\",\"masterPort\":5001,\"value\":true}]}],\"config\":{\"cmasters\":[{\"name\":\"Appartement\",\"address\":\"141.135.240.51\",\"port\":5001,\"password\":\"duotecno\",\"debug\":true,\"regime\":\"0\",\"active\":false},{\"name\":\"Smartbox 1\",\"address\":\"178.118.70.181\",\"port\":5001,\"password\":\"duotecno\",\"debug\":true,\"regime\":\"0\",\"active\":false},{\"name\":\"Toonzaal\",\"address\":\"host.duotecno-ip.be\",\"port\":5001,\"password\":\"#Dt2019*\",\"debug\":false,\"active\":false},{\"name\":\"Peter Thuis\",\"address\":\"81.83.0.10\",\"port\":5003,\"password\":\"peter1710\",\"debug\":false,\"active\":false},{\"name\":\"Smartbox Intern\",\"address\":\"192.168.0.98\",\"port\":5001,\"password\":\"duotecno\",\"debug\":false,\"active\":true}],\"cunits\":[{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":0},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":1},{\"active\":\"Y\",\"group\":1,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":28},{\"active\":\"Y\",\"group\":1,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":29},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":2},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":3},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":12},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":13},{\"active\":\"Y\",\"group\":0,\"masterAddress\":\"192.168.0.98\",\"masterPort\":5001,\"logicalNodeAddress\":3,\"logicalAddress\":14}],\"socketserver\":\"localhost\",\"socketport\":\"5002\",\"language\":\"NL\",\"localhost\":\"akiworks.be\",\"stores\":true,\"multiple\":true,\"remotescenes\":false}}\"\n*/\n\n  // format [9,[cmd]-[master ip address]-[type of config]:[extra data]]\n  // cmd = B(ackup), R(estore), S(end scenes)\n  // in data the \"]\" are placed by \"\"\n\n  toTransport(obj: any): string {\n    return JSON.stringify(obj).replace(//g,' ').replace(/\\]/g,'')\n  }\n  fromTransport(str: string): any {\n    try {\n      return JSON.parse(str.replace(//g,']'));\n    } catch (e) {\n      this.log(\"error in input from server: \" + e);\n      return {};\n    }\n  }\n\n  findOpenMaster(): Master {\n    return this.masters.find(m => m.isOpen);\n  }\n\n  doBackup() {\n    const master = this.findOpenMaster();\n    if (master) {\n      Protocol.write(master.getSocket(), '[9,B-' + master.getAddress() +'-system:' + \n        this.toTransport({groups: this.groups, scenes: this.scenes, config:this.config}) + ']');\n    }\n  }\n\n  sendScenes() {\n    const master = this.findOpenMaster();\n    if (master) {\n      Protocol.write(master.getSocket(), '[9,S-' + master.getAddress() + '-scenes:' + this.toTransport(this.scenes) + ']');\n    }\n  }\n\n  doRequestBackup() {\n    // request restore (will come in async)\n    const master = this.findOpenMaster();\n    if (master) {\n      this.log(\"requesting backup from \" + master.getAddress());\n      Protocol.write(master.getSocket(), '[9,R-' + master.getAddress() + '-system:]');\n    }\n  }\n  doReceiveBackup(type: string, data: string) {\n    console.log(data);\n    this.backup = this.fromTransport(data);\n    this.log(\"received backup: groups = \" + this.backup.groups.length + \n                            \", scenes: \" + this.backup.scenes.length + \n                            \", masters: \" + this.backup.config.cmasters.length + \n                            \", units: \" + this.backup.config.cunits.length);\n    console.log(data);\n\n  }\n  doRestoreBackup() {\n    this.log(\"restoring backup: groups = \" + this.backup.groups.length + \n                             \", scenes: \" + this.backup.scenes.length + \n                             \", masters: \" + this.backup.config.cmasters.length + \n                             \", units: \" + this.backup.config.cunits.length);\n\n    this.scenes = this.backup.scenes;\n    this.groups = this.backup.groups;\n    this.config = this.backup.config;\n    this.backup = null;\n  }\n\n\n  //////////////////\n  // Config stuff //\n  //////////////////\n  read(type: string) {\n    const fn = \"config.\" + type;\n    let config = null;\n\n    try {\n      const configStr = localStorage.getItem(fn)\n      config = JSON.parse(configStr);\n    } catch(err) {\n      this.log(\"Couldn't read \" + fn + \" --> Creating empty config.\");\n    }\n\n    // sanitize the config\n    const temp = Sanitizers[type](config);\n\n    // write if we created it (new intallations or new config params)\n    if (!config && temp) {\n      this.write(type, temp);\n    }\n    return temp;\n  }\n\n  write(type: string, config) {\n    const fn = \"config.\" + type;\n    try {\n      config = Sanitizers[type](config);\n      localStorage.setItem(fn, JSON.stringify(config, null, 2));\n      return config;\n\n    } catch(err) {\n      this.err(\"Couldn't write config \" + fn);\n      return config;\n    }\n  }\n\n  ///////////////////\n  // System config //\n  ///////////////////\n\n  readConfig() {\n    this.config = this.read(\"system\");\n  }\n\n  writeConfig() {\n    this.write(\"system\", this.config);\n  }\n\n  //////////////////\n  // Group config //\n  //////////////////\n  readGroups() {\n    // support pre v1.1 configs -> convert the old config into new structure\n    if ((this.config.cgroups) && (this.config.cgroups.length)) {\n      this.groups = this.config.cgroups.map((g, inx) => { return {name: g, id: inx, visible: true, order: inx}; });\n      delete this.config.cgroups;\n      this.writeConfig();\n      this.writeGroups();\n\n    } else {\n      this.groups = this.read(\"groups\");\n    }\n\n    // order the groups and reset the order indices\n    this.groups.sort((a,b) => a.order-b.order);\n    this.groups.forEach((g,i) => g.order = i);\n  }\n\n  writeGroups() {\n    this.groups = this.write(\"groups\", this.groups);\n  }\n\n  //////////////////\n  // Scene config //\n  //////////////////\n\n  readScenes() {\n    this.scenes = this.read(\"scenes\");\n  }\n  writeScenes() {\n    // delete trigger-units and scene-units before saving if they were added\n    const sceneConfigs = Sanitizers.scenes(this.scenes);\n    this.write(\"scenes\", sceneConfigs);\n  }\n\n}\n","// Johan Coppieters.\n//\n// v1 - server version Apr 2019\n// v2 - app version\n// v3 - added scenes May 2020\n// v3.1 - brought in line with server version\n\nimport { UnitType, NodeType, Unit } from './protocol';\n\n// for Active=Y/N or New=X\nexport type YNX =  'Y' | 'N' | 'X';\nexport type YN =  'Y' | 'N';\n\n\n// coming from app or from unit tests\nexport type LogFunction = (message: any, ...optionalParams: any[]) => void;\n\n\n//////////////\n// Duotecno //\n//////////////\n\n// Configuration (see duotecno/system.ts)\nexport interface SystemConfig {\n  socketserver: string;\n  socketport: number;\n  language: string;\n  stores: boolean;\n  multiple: boolean;\n  remotescenes: boolean;\n  cmasters: Array<MasterConfig>;\n  cunits: Array<UnitConfig>;\n\n  // deprecated since v1.1 - moved to separate array\n  // but keep it here for old configs\n  cgroups?: Array<string>;\n};\n\nexport interface MasterConfig {\n  name?: string;\n  address: string;\n  port: number;\n  password: string;\n  debug?: boolean;\n  active: boolean;\n};\n\nexport interface NodeConfig {\n  active: YNX;                 // if found with \"N\": don't even query, \"X\": new node\n  masterAddress: string;      // address of master node\n  masterPort: number;         // port of master node\n  logicalAddress?: number;\n};\n\nexport interface UnitDef {\n  name?: string;              // optional name\n  masterAddress: string;      // address of master node\n  masterPort: number;         // port of master node\n  logicalNodeAddress: number;\n  logicalAddress: number;\n  unit?: Unit;\n};\nexport const kEmptyUnit: UnitDef = { masterAddress: \"0.0.0.0\", masterPort: 5001, name: \"unit\", logicalAddress: 0, logicalNodeAddress: 0 };\n\n\nexport interface UnitConfig extends UnitDef {\n  active: YN;                 // export / don't export to homebridge\n  group: number;              // id of group\n};\n\nexport interface UnitSetting extends UnitConfig {\n  value: number;\n};\n\nexport interface UnitScene extends UnitDef {\n  value: number | boolean;\n};\nexport const kEmptyUnitScene: UnitScene = { ...kEmptyUnit, value: true}\n\n\nexport interface SceneConfig {\n  name: string;\n  trigger: UnitScene;\n  order: number;\n  units: Array<UnitScene>;\n};\nexport const kEmptyScene: SceneConfig = {name: 'Scene', trigger: kEmptyUnitScene, order: 0, units: []};\n\n\nexport interface GroupConfig {\n  name: string;\n  id: number;\n  visible: boolean;\n  used?: boolean;\n  order: number;\n};\nexport const kEmptyGroup: GroupConfig = {name: 'Home', id: 0, order: 0, visible: true};\n\n\n// from Protocol//Hardware to DB, Nodes and Units\nexport interface DBInfo {\n  nrNodes: number;\n};\n\nexport interface NodeInfo {\n  name?: string;\n  logicalReqNodeAddress?: number;\n  index?: number;\n  logicalAddress?: number;\n  physicalAddress?: number;\n  nrUnits?: number;\n  type?: NodeType;\n  flags?: number;\n};\n\nexport interface UnitInfo {\n  name?: string;\n  logicalReqNodeAddress?: number;\n  logicalNodeAddress?: number;\n  index?: number;\n  logicalAddress?: number;\n  physicalAddress?: number;\n  type?: UnitType;\n  flags?: number;\n};\n\n// handlers from incoming and outgoing messages\nexport type Message = Array<number>;\nexport enum WriteError { writeFatal = -1, writeError = 0, writeOK = 1 }\nexport interface CommRecord {\n  isStatus: boolean;\n  cmd: number;\n  message: Message;\n  rest: string;\n  raw: string;\n};\nexport const kEmptyCommRecord = { status: false, cmd: -1, message: [-1, 0, 0], rest: ''};\n\n\n\n////////////////\n// Sanitizers //\n////////////////\n\nexport const Sanitizers = {\n\n  masterConfig: function(config?: MasterConfig): MasterConfig {\n    if (!config) { config = <MasterConfig>{}; }\n    config.name = config.name || 'Smartbox';\n    config.address = config.address || '';\n    config.port = config.port || 0;\n    if (typeof config.port === 'string') { config.port = parseInt(config.port); }\n    config.password = config.password || '';\n    config.debug = config.debug || false;\n    if (typeof config.active === 'undefined') { config.active = true; }\n    config.active = !!config.active;\n    return config;\n  },\n\n  system: function(config?: SystemConfig): SystemConfig {\n    if (!config) { config = <SystemConfig>{}; }\n    config.language = config.language || 'EN';\n    config.stores = config.stores || false;\n    config.multiple = config.multiple || false;\n    config.remotescenes = config.remotescenes || false;\n    config.socketserver = config.socketserver || 'akiworks.be';\n    config.socketport = config.socketport || 9999;\n    config.cmasters = config.cmasters || [];\n    delete config[\"cnodes\"];\n    config.cunits = config.cunits || [];\n    config.cunits.forEach((u: UnitConfig) => this.unitConfig(u));\n\n    // support old style groups, pre v1.1\n    if (typeof config.cgroups != 'undefined') {\n      config.cgroups = config.cgroups || ['Home'];\n    }\n\n    return config;\n  },\n\n  ////////////\n  // Groups //\n  group: function(config?: GroupConfig): GroupConfig {\n    if (!config) { return {...kEmptyGroup}; }\n\n    config.name = config.name || kEmptyGroup.name;\n    if (typeof config.id === 'string') { config.id = parseInt(config.id); }\n    config.id = config.id || kEmptyGroup.id;\n\n    if (typeof config.order === 'string') { config.order = parseInt(config.order); }\n    config.order = config.order || kEmptyGroup.order;\n\n    config.visible = (typeof config.visible === 'boolean') ? config.visible : kEmptyGroup.visible;\n    return config;\n  },\n\n  groups: function(config?: Array<GroupConfig>): Array<GroupConfig> {\n    if (!config) { return [this.group()]; }\n\n    config.forEach(g => this.group(g));\n    return config;\n  },\n\n  ///////////\n  // Nodes //\n  nodeConfig: function(config?: NodeConfig) {\n    if (!config) { config = <NodeConfig>{}; }\n    config.active = config.active || 'N';\n    config.masterAddress = config.masterAddress || '';\n    config.masterPort = config.masterPort || 5001;\n    config.logicalAddress = config.logicalAddress || 0;\n    return config;\n  },\n\n  ///////////\n  // Units //\n  unitConfig: function(config?: UnitConfig) {  // unitDef + active + group\n    if (!config) { config = <UnitConfig>{}; }\n    this.unitDef(config);\n\n    config.active = config.active || 'N';\n\n    if (typeof config.group === 'string') { config.group = parseInt(config.group); }\n    config.group = config.group || 0;\n\n    return config;\n  },\n\n  unitScene: function(config?: UnitScene) {  // unitDef + value \n    // change + create new clean record for writing to config files\n    if (!config) { config = <UnitScene>{}; }\n    this.unitDef(config);\n    if (typeof config.value === \"undefined\") config.value = 0;\n    if (typeof config.value === \"string\") config.value = parseInt(config.value);\n\n    return { logicalNodeAddress: config.logicalNodeAddress,\n             logicalAddress: config.logicalAddress,\n             masterAddress: config.masterAddress,\n             masterPort: config.masterPort,\n             value: config.value };\n  },\n\n  unitInfo: function(info: UnitInfo, into?: object) {\n    info.name = info.name || '';\n    info.logicalReqNodeAddress = info.logicalReqNodeAddress || 0;\n    info.index = info.index || -1;\n    info.logicalNodeAddress = info.logicalNodeAddress || 0;\n    info.logicalAddress = info.logicalAddress || 0;\n    info.type = info.type || UnitType.kNoType;\n    info.flags = info.flags || 0;\n\n    if (into) {\n      Object.keys(info).forEach(prop => into[prop] = info[prop]);\n    }\n\n    return info;\n  },\n\n  ////////////\n  // Scenes //\n  sceneConfig: function(config?: SceneConfig): SceneConfig {\n    // don't change -> create new clean record for writing to config files\n    if (!config) { return {...kEmptyScene}; }\n\n    const newConfig: SceneConfig = {...kEmptyScene};\n    newConfig.name = config.name || kEmptyScene.name;\n    if (typeof config.order === 'string') { newConfig.order = parseInt(config.order); }\n    newConfig.order = config.order || kEmptyScene.order;\n\n    newConfig.trigger = this.unitScene(config.trigger);\n\n    config.units = config.units || kEmptyScene.units;\n    newConfig.units = config.units.map(u => this.unitScene(u));\n\n    return newConfig;\n  },\n\n  scenes: function(config?: Array<SceneConfig>): Array<SceneConfig> {\n    if (!config) { return [this.sceneConfig()]; }\n\n    config.forEach(s => this.sceneConfig(s));\n    return config;\n  },\n\n\n  ////////////////////////////////////////////\n  // Data coming from the hardware or prefs //\n  nodeInfo: function(info: NodeInfo, into?: object) {\n    info.name = info.name || '';\n    info.index = info.index || -1;\n    info.logicalAddress = info.logicalAddress || 0;\n    info.physicalAddress = info.physicalAddress || 0;\n    info.type = info.type || NodeType.kNoNode;\n    info.flags = info.flags || 0;\n    info.nrUnits = info.nrUnits || 0;\n\n    if (into) {\n      Object.keys(info).forEach(prop => into[prop] = info[prop]);\n    }\n    return info;\n    },\n\n  \n  unitDef: function(info: UnitDef, into?: object) {\n    info.logicalNodeAddress = info.logicalNodeAddress || 0;\n    info.logicalAddress = info.logicalAddress || 0;\n    info.masterAddress = info.masterAddress || '';\n    info.masterPort = info.masterPort || 5001;\n\n    return info;\n  }\n\n};\n\n//////////////////////\n// Helper functions //\n//////////////////////\nexport function ascii(char: string): number {\n  return char.charCodeAt(0);\n}\nexport function char(ascii: number): string {\n  return String.fromCharCode(ascii);\n}\n\nexport function two(n: number | string) {\n  return (n < 10) ? ('0' + n) : n.toString();\n}\nexport function hex(n: number): string {\n  n = Math.floor(n);\n  return '0x' + n.toString(16);\n}\n\nexport function now(): string {\n  const aDate = new Date();\n  return aDate.getFullYear() + '-' +\n         two(aDate.getMonth() + 1) + '-' +\n         two(aDate.getDate()) + ' ' +\n         two(aDate.getHours()) + ':' +\n         two(aDate.getMinutes()) + ':' +\n         two(aDate.getSeconds());\n}\n\nexport function single(val: string | Array<string>): string {\n  return (val instanceof Array) ? val[0] : val;\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":"webpack:///"}